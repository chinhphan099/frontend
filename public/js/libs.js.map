{"version":3,"sources":["jquery.easing.1.3.js","jquery.ez-plus.js","jquery.fancybox.js","jquery.handlebars-v4.0.5.js","jquery.mCustomScrollbar.concat.min.js","jquery.smoothZoom.js","jquery.sticky-kit.min.js","jquery.touchSwipe.js","jquery.validate.min.js","slick.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACp6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpzJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC//IA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACj9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7jEA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"libs.js","sourcesContent":["/*\r\n * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\r\n *\r\n * Uses the built in easing capabilities added In jQuery 1.1\r\n * to offer multiple easing options\r\n *\r\n * TERMS OF USE - jQuery Easing\r\n * \r\n * Open source under the BSD License. \r\n * \r\n * Copyright © 2008 George McGinley Smith\r\n * All rights reserved.\r\n * \r\n * Redistribution and use in source and binary forms, with or without modification, \r\n * are permitted provided that the following conditions are met:\r\n * \r\n * Redistributions of source code must retain the above copyright notice, this list of \r\n * conditions and the following disclaimer.\r\n * Redistributions in binary form must reproduce the above copyright notice, this list \r\n * of conditions and the following disclaimer in the documentation and/or other materials \r\n * provided with the distribution.\r\n * \r\n * Neither the name of the author nor the names of contributors may be used to endorse \r\n * or promote products derived from this software without specific prior written permission.\r\n * \r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\r\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\r\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \r\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \r\n * OF THE POSSIBILITY OF SUCH DAMAGE. \r\n *\r\n*/\r\n\r\n// t: current time, b: begInnIng value, c: change In value, d: duration\r\njQuery.easing['jswing'] = jQuery.easing['swing'];\r\n\r\njQuery.extend( jQuery.easing,\r\n{\r\n\tdef: 'easeOutQuad',\r\n\tswing: function (x, t, b, c, d) {\r\n\t\t//alert(jQuery.easing.default);\r\n\t\treturn jQuery.easing[jQuery.easing.def](x, t, b, c, d);\r\n\t},\r\n\teaseInQuad: function (x, t, b, c, d) {\r\n\t\treturn c*(t/=d)*t + b;\r\n\t},\r\n\teaseOutQuad: function (x, t, b, c, d) {\r\n\t\treturn -c *(t/=d)*(t-2) + b;\r\n\t},\r\n\teaseInOutQuad: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return c/2*t*t + b;\r\n\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\r\n\t},\r\n\teaseInCubic: function (x, t, b, c, d) {\r\n\t\treturn c*(t/=d)*t*t + b;\r\n\t},\r\n\teaseOutCubic: function (x, t, b, c, d) {\r\n\t\treturn c*((t=t/d-1)*t*t + 1) + b;\r\n\t},\r\n\teaseInOutCubic: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t + b;\r\n\t\treturn c/2*((t-=2)*t*t + 2) + b;\r\n\t},\r\n\teaseInQuart: function (x, t, b, c, d) {\r\n\t\treturn c*(t/=d)*t*t*t + b;\r\n\t},\r\n\teaseOutQuart: function (x, t, b, c, d) {\r\n\t\treturn -c * ((t=t/d-1)*t*t*t - 1) + b;\r\n\t},\r\n\teaseInOutQuart: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t + b;\r\n\t\treturn -c/2 * ((t-=2)*t*t*t - 2) + b;\r\n\t},\r\n\teaseInQuint: function (x, t, b, c, d) {\r\n\t\treturn c*(t/=d)*t*t*t*t + b;\r\n\t},\r\n\teaseOutQuint: function (x, t, b, c, d) {\r\n\t\treturn c*((t=t/d-1)*t*t*t*t + 1) + b;\r\n\t},\r\n\teaseInOutQuint: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\r\n\t\treturn c/2*((t-=2)*t*t*t*t + 2) + b;\r\n\t},\r\n\teaseInSine: function (x, t, b, c, d) {\r\n\t\treturn -c * Math.cos(t/d * (Math.PI/2)) + c + b;\r\n\t},\r\n\teaseOutSine: function (x, t, b, c, d) {\r\n\t\treturn c * Math.sin(t/d * (Math.PI/2)) + b;\r\n\t},\r\n\teaseInOutSine: function (x, t, b, c, d) {\r\n\t\treturn -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\r\n\t},\r\n\teaseInExpo: function (x, t, b, c, d) {\r\n\t\treturn (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\r\n\t},\r\n\teaseOutExpo: function (x, t, b, c, d) {\r\n\t\treturn (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\r\n\t},\r\n\teaseInOutExpo: function (x, t, b, c, d) {\r\n\t\tif (t==0) return b;\r\n\t\tif (t==d) return b+c;\r\n\t\tif ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\r\n\t\treturn c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\r\n\t},\r\n\teaseInCirc: function (x, t, b, c, d) {\r\n\t\treturn -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\r\n\t},\r\n\teaseOutCirc: function (x, t, b, c, d) {\r\n\t\treturn c * Math.sqrt(1 - (t=t/d-1)*t) + b;\r\n\t},\r\n\teaseInOutCirc: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\r\n\t\treturn c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\r\n\t},\r\n\teaseInElastic: function (x, t, b, c, d) {\r\n\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\r\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\treturn -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\r\n\t},\r\n\teaseOutElastic: function (x, t, b, c, d) {\r\n\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\r\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\treturn a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\r\n\t},\r\n\teaseInOutElastic: function (x, t, b, c, d) {\r\n\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\tif (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\r\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\tif (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\r\n\t\treturn a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\r\n\t},\r\n\teaseInBack: function (x, t, b, c, d, s) {\r\n\t\tif (s == undefined) s = 1.70158;\r\n\t\treturn c*(t/=d)*t*((s+1)*t - s) + b;\r\n\t},\r\n\teaseOutBack: function (x, t, b, c, d, s) {\r\n\t\tif (s == undefined) s = 1.70158;\r\n\t\treturn c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\r\n\t},\r\n\teaseInOutBack: function (x, t, b, c, d, s) {\r\n\t\tif (s == undefined) s = 1.70158; \r\n\t\tif ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\r\n\t\treturn c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\r\n\t},\r\n\teaseInBounce: function (x, t, b, c, d) {\r\n\t\treturn c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d) + b;\r\n\t},\r\n\teaseOutBounce: function (x, t, b, c, d) {\r\n\t\tif ((t/=d) < (1/2.75)) {\r\n\t\t\treturn c*(7.5625*t*t) + b;\r\n\t\t} else if (t < (2/2.75)) {\r\n\t\t\treturn c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\r\n\t\t} else if (t < (2.5/2.75)) {\r\n\t\t\treturn c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\r\n\t\t} else {\r\n\t\t\treturn c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\r\n\t\t}\r\n\t},\r\n\teaseInOutBounce: function (x, t, b, c, d) {\r\n\t\tif (t < d/2) return jQuery.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;\r\n\t\treturn jQuery.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;\r\n\t}\r\n});\r\n\r\n/*\r\n *\r\n * TERMS OF USE - EASING EQUATIONS\r\n * \r\n * Open source under the BSD License. \r\n * \r\n * Copyright © 2001 Robert Penner\r\n * All rights reserved.\r\n * \r\n * Redistribution and use in source and binary forms, with or without modification, \r\n * are permitted provided that the following conditions are met:\r\n * \r\n * Redistributions of source code must retain the above copyright notice, this list of \r\n * conditions and the following disclaimer.\r\n * Redistributions in binary form must reproduce the above copyright notice, this list \r\n * of conditions and the following disclaimer in the documentation and/or other materials \r\n * provided with the distribution.\r\n * \r\n * Neither the name of the author nor the names of contributors may be used to endorse \r\n * or promote products derived from this software without specific prior written permission.\r\n * \r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\r\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\r\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \r\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \r\n * OF THE POSSIBILITY OF SUCH DAMAGE. \r\n *\r\n */","/* jshint -W071, -W074 */\r\n/* global jQuery:false */\r\n\r\n/* Disabled options are:\r\n * W071: This function has too many statements\r\n * W074: This function's cyclomatic complexity is too high\r\n */\r\n\r\n/*\r\n *\tjQuery ezPlus 1.1.21\r\n *\tDemo's and documentation:\r\n *\thttp://igorlino.github.io/elevatezoom-plus/\r\n *\r\n *\tlicensed under MIT license.\r\n *\thttp://en.wikipedia.org/wiki/MIT_License\r\n *\r\n */\r\n\r\nif (typeof Object.create !== 'function') {\r\n    Object.create = function (obj) {\r\n        function F() {\r\n        }\r\n\r\n        F.prototype = obj;\r\n        return new F();\r\n    };\r\n}\r\n\r\n(function ($, window, document, undefined) {\r\n    var EZP = {\r\n        init: function (options, elem) {\r\n            var self = this;\r\n            var $galleries;\r\n\r\n            self.elem = elem;\r\n            self.$elem = $(elem);\r\n\r\n            self.options = $.extend({}, $.fn.ezPlus.options, self.responsiveConfig(options || {}));\r\n\r\n            self.imageSrc = self.$elem.data(self.options.attrImageZoomSrc) ? self.$elem.data(self.options.attrImageZoomSrc) : self.$elem.attr('src');\r\n\r\n            if (!self.options.enabled) {\r\n                return;\r\n            }\r\n\r\n            //TINT OVERRIDE SETTINGS\r\n            if (self.options.tint) {\r\n                self.options.lensColour = 'transparent'; //colour of the lens background\r\n                self.options.lensOpacity = '1'; //opacity of the lens\r\n            }\r\n            //INNER OVERRIDE SETTINGS\r\n            if (self.options.zoomType === 'inner') {\r\n                self.options.showLens = false;\r\n            }\r\n\r\n            // LENS OVERRIDE SETTINGS\r\n            if (self.options.zoomType === 'lens') {\r\n                self.options.zoomWindowWidth = 0;\r\n            }\r\n\r\n            //UUID WHEN MISSING IDENTIFIER\r\n            if (self.options.zoomId === -1) {\r\n                self.options.zoomId = generateUUID();\r\n            }\r\n\r\n            //Remove alt on hover\r\n\r\n            self.$elem.parent().removeAttr('title').removeAttr('alt');\r\n\r\n            self.zoomImage = self.imageSrc;\r\n\r\n            self.refresh(1);\r\n\r\n            //Create the image swap from the gallery\r\n            $galleries = $(self.options.gallery ? ('#' + self.options.gallery) : self.options.gallerySelector);\r\n            $galleries.off('click.zoom', self.options.galleryItem).on('click.zoom', self.options.galleryItem, function (e) {\r\n\r\n                //Set a class on the currently active gallery image\r\n                if (self.options.galleryActiveClass) {\r\n                    $(self.options.galleryItem, $galleries).removeClass(self.options.galleryActiveClass);\r\n                    $(this).addClass(self.options.galleryActiveClass);\r\n                }\r\n                //stop any link on the a tag from working\r\n                if (this.tagName === 'A') {\r\n                    e.preventDefault();\r\n                }\r\n\r\n                //call the swap image function\r\n                if ($(this).data(self.options.attrImageZoomSrc)) {\r\n                    self.zoomImagePre = $(this).data(self.options.attrImageZoomSrc);\r\n                }\r\n                else {\r\n                    self.zoomImagePre = $(this).data('image');\r\n                }\r\n                self.swaptheimage($(this).data('image'), self.zoomImagePre);\r\n                if (this.tagName === 'A') {\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            function generateUUID() {\r\n                var d = new Date().getTime();\r\n                var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                    var r = (d + Math.random() * 16) % 16 | 0;\r\n                    d = Math.floor(d / 16);\r\n                    return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n                });\r\n                return uuid;\r\n            }\r\n        },\r\n        refresh: function (length) {\r\n            var self = this;\r\n\r\n            setTimeout(function () {\r\n                self.fetch(self.imageSrc, self.$elem, self.options.minZoomLevel);\r\n\r\n            }, length || self.options.refresh);\r\n        },\r\n        fetch: function (imgsrc, element, minZoom) {\r\n            //get the image\r\n            var self = this;\r\n            var newImg = new Image();\r\n            newImg.onload = function () {\r\n                //set the large image dimensions - used to calculte ratio's\r\n                if (newImg.width / element.width() <= minZoom) {\r\n                    self.largeWidth = element.width() * minZoom;\r\n                } else {\r\n                    self.largeWidth = newImg.width;\r\n                }\r\n                if (newImg.height / element.height() <= minZoom) {\r\n                    self.largeHeight = element.height() * minZoom;\r\n                } else {\r\n                    self.largeHeight = newImg.height;\r\n                }\r\n                //once image is loaded start the calls\r\n                self.startZoom();\r\n                self.currentImage = self.imageSrc;\r\n                //let caller know image has been loaded\r\n                self.options.onZoomedImageLoaded(self.$elem);\r\n            };\r\n            self.setImageSource(newImg, imgsrc); // this must be done AFTER setting onload\r\n\r\n            return;\r\n        },\r\n        setImageSource: function (image, src) {\r\n            //sets an image's source.\r\n            image.src = src;\r\n        },\r\n        startZoom: function () {\r\n            var self = this;\r\n            //get dimensions of the non zoomed image\r\n            self.nzWidth = self.$elem.width();\r\n            self.nzHeight = self.$elem.height();\r\n\r\n            //activated elements\r\n            self.isWindowActive = false;\r\n            self.isLensActive = false;\r\n            self.isTintActive = false;\r\n            self.overWindow = false;\r\n\r\n            //CrossFade Wrapper\r\n            if (self.options.imageCrossfade) {\r\n                self.zoomWrap = self.$elem.wrap('<div style=\"height:' + self.nzHeight + 'px;width:' + self.nzWidth + 'px;\" class=\"zoomWrapper\" />');\r\n                self.$elem.css('position', 'absolute');\r\n            }\r\n\r\n            self.zoomLock = 1;\r\n            self.scrollingLock = false;\r\n            self.changeBgSize = false;\r\n            self.currentZoomLevel = self.options.zoomLevel;\r\n\r\n            //get offset of the non zoomed image\r\n            self.updateOffset(self);\r\n            //calculate the width ratio of the large/small image\r\n            self.widthRatio = (self.largeWidth / self.currentZoomLevel) / self.nzWidth;\r\n            self.heightRatio = (self.largeHeight / self.currentZoomLevel) / self.nzHeight;\r\n\r\n            function getWindowZoomStyle() {\r\n                return 'display: none;' +\r\n                    'position: absolute;' +\r\n                    'float: left;' +\r\n                    'height: ' + String(self.options.zoomWindowHeight) + 'px;' +\r\n                    'width: ' + String(self.options.zoomWindowWidth) + 'px;' +\r\n                    'text-align: center;' +\r\n                    'border: ' + String(self.options.borderSize) + 'px solid ' + self.options.borderColour + ';' +\r\n                    'background-size: ' + self.largeWidth / self.currentZoomLevel + 'px ' + self.largeHeight / self.currentZoomLevel + 'px;' +\r\n                    'background-position: 0px 0px;' +\r\n                    'background-repeat: no-repeat;' +\r\n                    'background-color: ' + String(self.options.zoomWindowBgColour) + ';' +\r\n                    'overflow: hidden;' +\r\n                    'z-index: 100;';\r\n            }\r\n\r\n            //if window zoom\r\n            if (self.options.zoomType === 'window') {\r\n                self.zoomWindowStyle = getWindowZoomStyle();\r\n            }\r\n\r\n            function getInnerZoomStyle() {\r\n                //has a border been put on the image? Lets cater for this\r\n                var borderWidth = self.$elem.css('border-left-width');\r\n\r\n                return 'display: none;' +\r\n                    'position: absolute;' +\r\n                    'float: left;' +\r\n                    'height: ' + String(self.nzHeight) + 'px;' +\r\n                    'width: ' + String(self.nzWidth) + 'px;' +\r\n                    'margin-top: ' + String(borderWidth) + ';' +\r\n                    'margin-left: ' + String(borderWidth) + ';' +\r\n                    'border: ' + String(self.options.borderSize) + 'px solid ' + self.options.borderColour + ';' +\r\n                    'background-position: 0px 0px;' +\r\n                    'background-repeat: no-repeat;' +\r\n                    'cursor:' + (self.options.cursor) + ';' +\r\n                    'overflow: hidden;' +\r\n                    'zindex: ' + self.options.zIndex + \";\";\r\n            }\r\n\r\n            //if inner  zoom\r\n            if (self.options.zoomType === 'inner') {\r\n                self.zoomWindowStyle = getInnerZoomStyle();\r\n            }\r\n\r\n            function getWindowLensStyle() {\r\n                // adjust images less than the window height\r\n\r\n                if (self.nzHeight < self.options.zoomWindowHeight / self.heightRatio) {\r\n                    self.lensHeight = self.nzHeight;\r\n                }\r\n                else {\r\n                    self.lensHeight = String(self.options.zoomWindowHeight / self.heightRatio);\r\n                }\r\n                if (self.largeWidth < self.options.zoomWindowWidth) {\r\n                    self.lensWidth = self.nzWidth;\r\n                }\r\n                else {\r\n                    self.lensWidth = String(self.options.zoomWindowWidth / self.widthRatio);\r\n                }\r\n\r\n                return 'display: none;' +\r\n                    'position: absolute;' +\r\n                    'float: right;' +\r\n                    'height: ' + self.lensHeight + 'px;' +\r\n                    'width: ' + self.lensWidth + 'px;' +\r\n                    'border: ' + (self.options.lensBorderSize) + 'px' + ' solid ' + (self.options.lensBorderColour) + ';' +\r\n                    'background-position: 0px 0px;' +\r\n                    'background-repeat: no-repeat;' +\r\n                    'background-color: ' + (self.options.lensColour) + ';' +\r\n                    'opacity: ' + (self.options.lensOpacity) + ';' +\r\n                    'filter: alpha(opacity = ' + (self.options.lensOpacity * 100) + ');' +\r\n                    'zoom: 1;' +\r\n                    'cursor:' + (self.options.cursor) + ';' +\r\n                    'z-index: 999;' +\r\n                    'overflow: hidden;';\r\n            }\r\n\r\n            //lens style for window zoom\r\n            if (self.options.zoomType === 'window') {\r\n                self.lensStyle = getWindowLensStyle();\r\n            }\r\n\r\n            //tint style\r\n            self.tintStyle =\r\n                'display: block;' +\r\n                'position: absolute;' +\r\n                'height: ' + self.nzHeight + 'px;' +\r\n                'width: ' + self.nzWidth + 'px;' +\r\n                'background-color: ' + self.options.tintColour + ';' +\r\n                'filter: alpha(opacity=0);' +\r\n                'opacity: 0;';\r\n\r\n            //lens style for lens zoom with optional round for modern browsers\r\n            self.lensRound = '';\r\n\r\n            if (self.options.zoomType === 'lens') {\r\n                self.lensStyle =\r\n                    'display: none;' +\r\n                    'position: absolute;' +\r\n                    'float: left;' +\r\n                    'height:' + String(self.options.lensSize) + 'px;' +\r\n                    'width:' + String(self.options.lensSize) + 'px;' +\r\n                    'border: ' + String(self.options.borderSize) + 'px solid ' + self.options.borderColour + ';' +\r\n                    'background-position: 0px 0px;' +\r\n                    'background-repeat: no-repeat;' +\r\n                    'background-color: ' + self.options.lensColour + \";\" +\r\n                    'cursor:' + (self.options.cursor) + ';';\r\n            }\r\n\r\n            //does not round in all browsers\r\n            if (self.options.lensShape === 'round') {\r\n                self.lensRound =\r\n                    'border-radius: ' + String(self.options.lensSize / 2 + self.options.borderSize) + 'px;';\r\n            }\r\n\r\n            //create the div's                                                + \"\"\r\n            //self.zoomContainer = $('<div/>').addClass('zoomContainer').css({\"position\":\"relative\", \"height\":self.nzHeight, \"width\":self.nzWidth});\r\n\r\n            self.zoomContainer =\r\n                $('<div class=\"zoomContainer\" ' +\r\n                'uuid=\"' + self.options.zoomId + '\"' +\r\n                'style=\"' +\r\n                'position: absolute;' +\r\n                'top: ' + self.nzOffset.top + 'px;' +\r\n                'left: ' + self.nzOffset.left + 'px;' +\r\n                'height: ' + self.nzHeight + 'px;' + '' +\r\n                'width: ' + self.nzWidth + 'px;' +\r\n                'z-index: ' + self.options.zIndex + '\"></div>');\r\n            if (self.$elem.attr('id')) {\r\n                self.zoomContainer.attr('id', self.$elem.attr('id') + '-zoomContainer');\r\n            }\r\n            $(self.options.zoomContainerAppendTo).append(self.zoomContainer);\r\n\r\n            //this will add overflow hidden and contrain the lens on lens mode\r\n            if (self.options.containLensZoom && self.options.zoomType === 'lens') {\r\n                self.zoomContainer.css('overflow', 'hidden');\r\n            }\r\n            if (self.options.zoomType !== 'inner') {\r\n                self.zoomLens = $('<div class=\"zoomLens\" style=\"' + self.lensStyle + self.lensRound + '\">&nbsp;</div>')\r\n                    .appendTo(self.zoomContainer)\r\n                    .click(function () {\r\n                        self.$elem.trigger('click');\r\n                    });\r\n\r\n                if (self.options.tint) {\r\n                    self.tintContainer = $('<div/>').addClass('tintContainer');\r\n                    self.zoomTint = $('<div class=\"zoomTint\" style=\"' + self.tintStyle + '\"></div>');\r\n\r\n                    self.zoomLens.wrap(self.tintContainer);\r\n\r\n                    self.zoomTintcss = self.zoomLens.after(self.zoomTint);\r\n\r\n                    //if tint enabled - set an image to show over the tint\r\n\r\n                    self.zoomTintImage = $('<img style=\"' +\r\n                    'position: absolute;' +\r\n                    'top: 0px;' +\r\n                    'left: 0px;' +\r\n                    'height: ' + self.nzHeight + 'px;\" ' +\r\n                    'width: ' + self.nzWidth + 'px; ' +\r\n                    'max-width: none; ' +\r\n                    'src=\"' + self.$elem.attr('src') + '\">')\r\n                        .appendTo(self.zoomLens)\r\n                        .click(function () {\r\n                            self.$elem.trigger('click');\r\n                        });\r\n                }\r\n            }\r\n\r\n            //create zoom window\r\n            var targetZoomContainer = isNaN(self.options.zoomWindowPosition) ? 'body' : self.zoomContainer;\r\n            self.zoomWindow = $('<div style=\"' +\r\n            'z-index: 999;' +\r\n            'top: ' + (self.windowOffsetTop) + 'px;' +\r\n            'left: ' + (self.windowOffsetLeft) + 'px;' +\r\n            self.zoomWindowStyle + '\" class=\"zoomWindow\">&nbsp;</div>')\r\n                .appendTo(targetZoomContainer).click(function () {\r\n                    self.$elem.trigger('click');\r\n                });\r\n            self.zoomWindowContainer = $('<div/>').addClass('zoomWindowContainer').css('width', self.options.zoomWindowWidth);\r\n            self.zoomWindow.wrap(self.zoomWindowContainer);\r\n\r\n            //  self.captionStyle = \"text-align: left;background-color: black;'+\r\n            // 'color: white;font-weight: bold;padding: 10px;font-family: sans-serif;font-size: 11px\";\r\n            // self.zoomCaption = $('<div class=\"ezplus-caption\" '+\r\n            // 'style=\"'+self.captionStyle+'display: block; width: 280px;\">INSERT ALT TAG</div>').appendTo(self.zoomWindow.parent());\r\n\r\n            if (self.options.zoomType === 'lens') {\r\n                self.zoomLens.css('background-image', 'url(\"' + self.imageSrc + '\")');\r\n            }\r\n            if (self.options.zoomType === 'window') {\r\n                self.zoomWindow.css('background-image', 'url(\"' + self.imageSrc + '\")');\r\n            }\r\n            if (self.options.zoomType === 'inner') {\r\n                self.zoomWindow.css('background-image', 'url(\"' + self.imageSrc + '\")');\r\n            }\r\n\r\n            /*-------------------END THE ZOOM WINDOW AND LENS----------------------------------*/\r\n            if (self.options.touchEnabled) {\r\n                //touch events\r\n                self.$elem.bind('touchmove.ezpspace', function (e) {\r\n                    e.preventDefault();\r\n                    var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n                    self.setPosition(touch);\r\n                });\r\n                self.zoomContainer.bind('touchmove.ezpspace', function (e) {\r\n                    self.setElements('show');\r\n                    e.preventDefault();\r\n                    var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n                    self.setPosition(touch);\r\n\r\n                });\r\n                self.zoomContainer.bind('touchend.ezpspace', function (e) {\r\n                    self.showHideWindow('hide');\r\n                    if (self.options.showLens) {\r\n                        self.showHideLens('hide');\r\n                    }\r\n                    if (self.options.tint && self.options.zoomType !== 'inner') {\r\n                        self.showHideTint('hide');\r\n                    }\r\n                });\r\n\r\n                self.$elem.bind('touchend.ezpspace', function (e) {\r\n                    self.showHideWindow('hide');\r\n                    if (self.options.showLens) {\r\n                        self.showHideLens('hide');\r\n                    }\r\n                    if (self.options.tint && self.options.zoomType !== 'inner') {\r\n                        self.showHideTint('hide');\r\n                    }\r\n                });\r\n                if (self.options.showLens) {\r\n                    self.zoomLens.bind('touchmove.ezpspace', function (e) {\r\n\r\n                        e.preventDefault();\r\n                        var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n                        self.setPosition(touch);\r\n                    });\r\n\r\n                    self.zoomLens.bind('touchend.ezpspace', function (e) {\r\n                        self.showHideWindow('hide');\r\n                        if (self.options.showLens) {\r\n                            self.showHideLens('hide');\r\n                        }\r\n                        if (self.options.tint && self.options.zoomType !== 'inner') {\r\n                            self.showHideTint('hide');\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            //Needed to work in IE\r\n            self.$elem.bind('mousemove.ezpspace', function (e) {\r\n                if (self.overWindow === false) {\r\n                    self.setElements('show');\r\n                }\r\n                //make sure on orientation change the setposition is not fired\r\n                if (self.lastX !== e.clientX || self.lastY !== e.clientY) {\r\n                    self.setPosition(e);\r\n                    self.currentLoc = e;\r\n                }\r\n                self.lastX = e.clientX;\r\n                self.lastY = e.clientY;\r\n\r\n            });\r\n\r\n            self.zoomContainer.bind('click.ezpspace touchstart.ezpspace', self.options.onImageClick);\r\n\r\n            self.zoomContainer.bind('mousemove.ezpspace', function (e) {\r\n                if (self.overWindow === false) {\r\n                    self.setElements('show');\r\n                }\r\n                mouseMoveZoomHandler(e);\r\n            });\r\n\r\n            function mouseMoveZoomHandler(e) {\r\n                //self.overWindow = true;\r\n                //make sure on orientation change the setposition is not fired\r\n                if (self.lastX !== e.clientX || self.lastY !== e.clientY) {\r\n                    self.setPosition(e);\r\n                    self.currentLoc = e;\r\n                }\r\n                self.lastX = e.clientX;\r\n                self.lastY = e.clientY;\r\n            }\r\n\r\n            var elementToTrack = null;\r\n            if (self.options.zoomType !== 'inner') {\r\n                elementToTrack = self.zoomLens;\r\n            }\r\n            if (self.options.tint && self.options.zoomType !== 'inner') {\r\n                elementToTrack = self.zoomTint;\r\n            }\r\n            if (self.options.zoomType === 'inner') {\r\n                elementToTrack = self.zoomWindow;\r\n            }\r\n\r\n            //register the mouse tracking\r\n            if (elementToTrack) {\r\n                elementToTrack.bind('mousemove.ezpspace', mouseMoveZoomHandler);\r\n            }\r\n\r\n            //  lensFadeOut: 500,  zoomTintFadeIn\r\n            self.zoomContainer.add(self.$elem).mouseenter(function () {\r\n                if (self.overWindow === false) {\r\n                    self.setElements('show');\r\n                }\r\n            }).mouseleave(function () {\r\n                if (!self.scrollLock) {\r\n                    self.setElements('hide');\r\n                    self.options.onDestroy(self.$elem);\r\n                }\r\n            });\r\n            //end ove image\r\n\r\n            if (self.options.zoomType !== 'inner') {\r\n                self.zoomWindow.mouseenter(function () {\r\n                    self.overWindow = true;\r\n                    self.setElements('hide');\r\n                }).mouseleave(function () {\r\n                    self.overWindow = false;\r\n                });\r\n            }\r\n            //end ove image\r\n\r\n            // var delta = parseInt(e.originalEvent.wheelDelta || -e.originalEvent.detail);\r\n\r\n            //      $(this).empty();\r\n            //    return false;\r\n\r\n            //fix for initial zoom setting\r\n            //if (self.options.zoomLevel !== 1) {\r\n            //    \tself.changeZoomLevel(self.currentZoomLevel);\r\n            //}\r\n            //set the min zoomlevel\r\n            if (self.options.minZoomLevel) {\r\n                self.minZoomLevel = self.options.minZoomLevel;\r\n            }\r\n            else {\r\n                self.minZoomLevel = self.options.scrollZoomIncrement * 2;\r\n            }\r\n\r\n            if (self.options.scrollZoom) {\r\n                //see compatibility of mouse events at https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel\r\n                self.zoomContainer.add(self.$elem).bind('wheel DOMMouseScroll MozMousePixelScroll', function (e) {\r\n                    // in IE there is issue with firing of mouseleave - So check whether still scrolling\r\n                    // and on mouseleave check if scrolllock\r\n                    self.scrollLock = true;\r\n                    clearTimeout($.data(this, 'timer'));\r\n                    $.data(this, 'timer', setTimeout(function () {\r\n                        self.scrollLock = false;\r\n                        //do something\r\n                    }, 250));\r\n\r\n                    var theEvent = e.originalEvent.deltaY || e.originalEvent.detail * -1;\r\n\r\n                    //this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;\r\n                    //   e.preventDefault();\r\n\r\n                    e.stopImmediatePropagation();\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n\r\n                    if (theEvent == 0) {\r\n                        // fixes last event inversion bug\r\n                        return false;\r\n                    }\r\n\r\n                    if (theEvent / 120 > 0) {\r\n                        var nextZoomLevel = parseFloat(self.currentZoomLevel) - self.options.scrollZoomIncrement;\r\n                        //scrolling up\r\n                        if (nextZoomLevel >= parseFloat(self.minZoomLevel)) {\r\n                            self.changeZoomLevel(nextZoomLevel);\r\n                        }\r\n                    }\r\n                    else {\r\n                        //scrolling down\r\n\r\n                        //Check if it has to maintain original zoom window aspect ratio or not\r\n                        if ((!self.fullheight && !self.fullwidth) || !self.options.mantainZoomAspectRatio) {\r\n                            var nextZoomLevel = parseFloat(self.currentZoomLevel) + self.options.scrollZoomIncrement;\r\n\r\n                            if (self.options.maxZoomLevel) {\r\n                                if (nextZoomLevel <= self.options.maxZoomLevel) {\r\n                                    self.changeZoomLevel(nextZoomLevel);\r\n                                }\r\n                            }\r\n                            else {\r\n                                //andy\r\n                                self.changeZoomLevel(nextZoomLevel);\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n        },\r\n        destroy: function () {\r\n            var self = this;\r\n            self.$elem.unbind('ezpspace');\r\n            $(self.zoomContainer).remove();\r\n            if (self.options.loadingIcon && !!self.spinner && !!self.spinner.length) {\r\n                self.spinner.remove();\r\n                delete self.spinner;\r\n            }\r\n        },\r\n        getIdentifier: function () {\r\n            var self = this;\r\n            return self.options.zoomId;\r\n        },\r\n        setElements: function (type) {\r\n            var self = this;\r\n            if (!self.options.zoomEnabled) {\r\n                return false;\r\n            }\r\n            if (type === 'show') {\r\n                if (self.isWindowSet) {\r\n                    if (self.options.zoomType === 'inner') {\r\n                        self.showHideWindow('show');\r\n                    }\r\n                    if (self.options.zoomType === 'window') {\r\n                        self.showHideWindow('show');\r\n                    }\r\n                    if (self.options.showLens) {\r\n                        self.showHideLens('show');\r\n                    }\r\n                    if (self.options.tint && self.options.zoomType !== 'inner') {\r\n                        self.showHideTint('show');\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (type === 'hide') {\r\n                if (self.options.zoomType === 'window') {\r\n                    self.showHideWindow('hide');\r\n                }\r\n                if (!self.options.tint) {\r\n                    self.showHideWindow('hide');\r\n                }\r\n                if (self.options.showLens) {\r\n                    self.showHideLens('hide');\r\n                }\r\n                if (self.options.tint) {\r\n                    self.showHideTint('hide');\r\n                }\r\n            }\r\n        },\r\n        setPosition: function (e) {\r\n\r\n            var self = this;\r\n\r\n            if (!self.options.zoomEnabled) {\r\n                return false;\r\n            }\r\n\r\n            //recaclc offset each time in case the image moves\r\n            //this can be caused by other on page elements\r\n            self.nzHeight = self.$elem.height();\r\n            self.nzWidth = self.$elem.width();\r\n            self.updateOffset(self);\r\n\r\n            if (self.options.tint && self.options.zoomType !== 'inner') {\r\n                self.zoomTint.css({\r\n                    top: 0,\r\n                    left: 0\r\n                });\r\n            }\r\n            //set responsive\r\n            //will checking if the image needs changing before running this code work faster?\r\n            if (self.options.responsive && !self.options.scrollZoom) {\r\n                if (self.options.showLens) {\r\n                    var lensHeight, lensWidth;\r\n                    if (self.nzHeight < self.options.zoomWindowWidth / self.widthRatio) {\r\n                        self.lensHeight = self.nzHeight;\r\n                    }\r\n                    else {\r\n                        self.lensHeight = String((self.options.zoomWindowHeight / self.heightRatio));\r\n                    }\r\n                    if (self.largeWidth < self.options.zoomWindowWidth) {\r\n                        self.lensWidth = self.nzWidth;\r\n                    }\r\n                    else {\r\n                        self.lensWidth = (self.options.zoomWindowWidth / self.widthRatio);\r\n                    }\r\n                    self.widthRatio = self.largeWidth / self.nzWidth;\r\n                    self.heightRatio = self.largeHeight / self.nzHeight;\r\n                    if (self.options.zoomType !== 'lens') {\r\n                        //possibly dont need to keep recalcalculating\r\n                        //if the lens is heigher than the image, then set lens size to image size\r\n                        if (self.nzHeight < self.options.zoomWindowWidth / self.widthRatio) {\r\n                            self.lensHeight = self.nzHeight;\r\n\r\n                        }\r\n                        else {\r\n                            self.lensHeight = String((self.options.zoomWindowHeight / self.heightRatio));\r\n                        }\r\n\r\n                        if (self.nzWidth < self.options.zoomWindowHeight / self.heightRatio) {\r\n                            self.lensWidth = self.nzWidth;\r\n                        }\r\n                        else {\r\n                            self.lensWidth = String((self.options.zoomWindowWidth / self.widthRatio));\r\n                        }\r\n\r\n                        self.zoomLens.css({\r\n                            'width': self.lensWidth,\r\n                            'height': self.lensHeight\r\n                        });\r\n\r\n                        if (self.options.tint) {\r\n                            self.zoomTintImage.css({\r\n                                'width': self.nzWidth,\r\n                                'height': self.nzHeight\r\n                            });\r\n                        }\r\n\r\n                    }\r\n                    if (self.options.zoomType === 'lens') {\r\n                        self.zoomLens.css({\r\n                            width: String(self.options.lensSize) + 'px',\r\n                            height: String(self.options.lensSize) + 'px'\r\n                        });\r\n                    }\r\n                    //end responsive image change\r\n                }\r\n            }\r\n\r\n            //container fix\r\n            self.zoomContainer.css({\r\n                top: self.nzOffset.top,\r\n                left: self.nzOffset.left,\r\n                width: self.nzWidth,  // new code\r\n                height: self.nzHeight // new code\r\n            });\r\n            self.mouseLeft = parseInt(e.pageX - self.nzOffset.left);\r\n            self.mouseTop = parseInt(e.pageY - self.nzOffset.top);\r\n            //calculate the Location of the Lens\r\n\r\n            //calculate the bound regions - but only if zoom window\r\n            if (self.options.zoomType === 'window') {\r\n                var zoomLensHeight = self.zoomLens.height() / 2;\r\n                var zoomLensWidth = self.zoomLens.width() / 2;\r\n                self.Etoppos = (self.mouseTop < 0 + zoomLensHeight);\r\n                self.Eboppos = (self.mouseTop > self.nzHeight - zoomLensHeight - (self.options.lensBorderSize * 2));\r\n                self.Eloppos = (self.mouseLeft < 0 + zoomLensWidth);\r\n                self.Eroppos = (self.mouseLeft > (self.nzWidth - zoomLensWidth - (self.options.lensBorderSize * 2)));\r\n            }\r\n            //calculate the bound regions - but only for inner zoom\r\n            if (self.options.zoomType === 'inner') {\r\n                self.Etoppos = (self.mouseTop < ((self.nzHeight / 2) / self.heightRatio));\r\n                self.Eboppos = (self.mouseTop > (self.nzHeight - ((self.nzHeight / 2) / self.heightRatio)));\r\n                self.Eloppos = (self.mouseLeft < 0 + (((self.nzWidth / 2) / self.widthRatio)));\r\n                self.Eroppos = (self.mouseLeft > (self.nzWidth - (self.nzWidth / 2) / self.widthRatio - (self.options.lensBorderSize * 2)));\r\n            }\r\n\r\n            // if the mouse position of the slider is one of the outerbounds, then hide  window and lens\r\n            if (self.mouseLeft < 0 || self.mouseTop < 0 || self.mouseLeft > self.nzWidth || self.mouseTop > self.nzHeight) {\r\n                self.setElements('hide');\r\n                return;\r\n            }\r\n            //else continue with operations\r\n            else {\r\n                //lens options\r\n                if (self.options.showLens) {\r\n                    //\t\tself.showHideLens('show');\r\n                    //set background position of lens\r\n                    self.lensLeftPos = String(Math.floor(self.mouseLeft - self.zoomLens.width() / 2));\r\n                    self.lensTopPos = String(Math.floor(self.mouseTop - self.zoomLens.height() / 2));\r\n                }\r\n                //adjust the background position if the mouse is in one of the outer regions\r\n\r\n                //Top region\r\n                if (self.Etoppos) {\r\n                    self.lensTopPos = 0;\r\n                }\r\n                //Left Region\r\n                if (self.Eloppos) {\r\n                    self.windowLeftPos = 0;\r\n                    self.lensLeftPos = 0;\r\n                    self.tintpos = 0;\r\n                }\r\n                //Set bottom and right region for window mode\r\n                if (self.options.zoomType === 'window') {\r\n                    if (self.Eboppos) {\r\n                        self.lensTopPos = Math.max((self.nzHeight) - self.zoomLens.height() - (self.options.lensBorderSize * 2), 0);\r\n                    }\r\n                    if (self.Eroppos) {\r\n                        self.lensLeftPos = (self.nzWidth - (self.zoomLens.width()) - (self.options.lensBorderSize * 2));\r\n                    }\r\n                }\r\n                //Set bottom and right region for inner mode\r\n                if (self.options.zoomType === 'inner') {\r\n                    if (self.Eboppos) {\r\n                        self.lensTopPos = Math.max(((self.nzHeight) - (self.options.lensBorderSize * 2)), 0);\r\n                    }\r\n                    if (self.Eroppos) {\r\n                        self.lensLeftPos = (self.nzWidth - (self.nzWidth) - (self.options.lensBorderSize * 2));\r\n                    }\r\n                }\r\n                //if lens zoom\r\n                if (self.options.zoomType === 'lens') {\r\n\r\n                    self.windowLeftPos = String(((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomLens.width() / 2) * (-1));\r\n                    self.windowTopPos = String(((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomLens.height() / 2) * (-1));\r\n                    self.zoomLens.css('background-position', self.windowLeftPos + 'px ' + self.windowTopPos + 'px');\r\n\r\n                    if (self.changeBgSize) {\r\n                        if (self.nzHeight > self.nzWidth) {\r\n                            if (self.options.zoomType === 'lens') {\r\n                                self.zoomLens.css('background-size',\r\n                                    self.largeWidth / self.newvalueheight + 'px ' +\r\n                                    self.largeHeight / self.newvalueheight + 'px');\r\n                            }\r\n\r\n                            self.zoomWindow.css('background-size',\r\n                                self.largeWidth / self.newvalueheight + 'px ' +\r\n                                self.largeHeight / self.newvalueheight + 'px');\r\n                        }\r\n                        else {\r\n                            if (self.options.zoomType === 'lens') {\r\n                                self.zoomLens.css('background-size',\r\n                                    self.largeWidth / self.newvaluewidth + 'px ' +\r\n                                    self.largeHeight / self.newvaluewidth + 'px');\r\n                            }\r\n                            self.zoomWindow.css('background-size',\r\n                                self.largeWidth / self.newvaluewidth + 'px ' +\r\n                                self.largeHeight / self.newvaluewidth + 'px');\r\n                        }\r\n                        self.changeBgSize = false;\r\n                    }\r\n\r\n                    self.setWindowPosition(e);\r\n                }\r\n                //if tint zoom\r\n                if (self.options.tint && self.options.zoomType !== 'inner') {\r\n                    self.setTintPosition(e);\r\n                }\r\n                //set the css background position\r\n                if (self.options.zoomType === 'window') {\r\n                    self.setWindowPosition(e);\r\n                }\r\n                if (self.options.zoomType === 'inner') {\r\n                    self.setWindowPosition(e);\r\n                }\r\n                if (self.options.showLens) {\r\n                    if (self.fullwidth && self.options.zoomType !== 'lens') {\r\n                        self.lensLeftPos = 0;\r\n                    }\r\n                    self.zoomLens.css({\r\n                        left: self.lensLeftPos + 'px',\r\n                        top: self.lensTopPos + 'px'\r\n                    });\r\n                }\r\n\r\n            } //end else\r\n        },\r\n        showHideZoomContainer: function (change) {\r\n            var self = this;\r\n            if (change === 'show') {\r\n                if (self.zoomContainer) {\r\n                    self.zoomContainer.show();\r\n                }\r\n            }\r\n            if (change === 'hide') {\r\n                if (self.zoomContainer) {\r\n                    self.zoomContainer.hide();\r\n                }\r\n            }\r\n        },\r\n        showHideWindow: function (change) {\r\n            var self = this;\r\n            if (change === 'show') {\r\n                if (!self.isWindowActive && self.zoomWindow) {\r\n                    self.options.onShow(self);\r\n                    if (self.options.zoomWindowFadeIn) {\r\n                        self.zoomWindow.stop(true, true, false).fadeIn(self.options.zoomWindowFadeIn);\r\n                    }\r\n                    else {\r\n                        self.zoomWindow.show();\r\n                    }\r\n                    self.isWindowActive = true;\r\n                }\r\n            }\r\n            if (change === 'hide') {\r\n                if (self.isWindowActive) {\r\n                    if (self.options.zoomWindowFadeOut) {\r\n                        self.zoomWindow.stop(true, true).fadeOut(self.options.zoomWindowFadeOut, function () {\r\n                            if (self.loop) {\r\n                                //stop moving the zoom window when zoom window is faded out\r\n                                clearInterval(self.loop);\r\n                                self.loop = false;\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        self.zoomWindow.hide();\r\n                    }\r\n                    self.isWindowActive = false;\r\n                }\r\n            }\r\n        },\r\n        showHideLens: function (change) {\r\n            var self = this;\r\n            if (change === 'show') {\r\n                if (!self.isLensActive) {\r\n                    if (self.zoomLens) {\r\n                        if (self.options.lensFadeIn) {\r\n                            self.zoomLens.stop(true, true, false).fadeIn(self.options.lensFadeIn);\r\n                        }\r\n                        else {\r\n                            self.zoomLens.show();\r\n                        }\r\n                    }\r\n                    self.isLensActive = true;\r\n                }\r\n            }\r\n            if (change === 'hide') {\r\n                if (self.isLensActive) {\r\n                    if (self.zoomLens) {\r\n                        if (self.options.lensFadeOut) {\r\n                            self.zoomLens.stop(true, true).fadeOut(self.options.lensFadeOut);\r\n                        }\r\n                        else {\r\n                            self.zoomLens.hide();\r\n                        }\r\n                    }\r\n                    self.isLensActive = false;\r\n                }\r\n            }\r\n        },\r\n        showHideTint: function (change) {\r\n            var self = this;\r\n            if (change === 'show') {\r\n                if (!self.isTintActive && self.zoomTint) {\r\n\r\n                    if (self.options.zoomTintFadeIn) {\r\n                        self.zoomTint.css('opacity', self.options.tintOpacity).animate().stop(true, true).fadeIn('slow');\r\n                    }\r\n                    else {\r\n                        self.zoomTint.css('opacity', self.options.tintOpacity).animate();\r\n                        self.zoomTint.show();\r\n                    }\r\n                    self.isTintActive = true;\r\n                }\r\n            }\r\n            if (change === 'hide') {\r\n                if (self.isTintActive) {\r\n\r\n                    if (self.options.zoomTintFadeOut) {\r\n                        self.zoomTint.stop(true, true).fadeOut(self.options.zoomTintFadeOut);\r\n                    }\r\n                    else {\r\n                        self.zoomTint.hide();\r\n                    }\r\n                    self.isTintActive = false;\r\n                }\r\n            }\r\n        },\r\n\r\n        setLensPosition: function (e) {\r\n        },\r\n\r\n        setWindowPosition: function (e) {\r\n            //return obj.slice( 0, count );\r\n            var self = this;\r\n\r\n            if (!isNaN(self.options.zoomWindowPosition)) {\r\n\r\n                switch (self.options.zoomWindowPosition) {\r\n                    case 1: //done\r\n                        self.windowOffsetTop = (self.options.zoomWindowOffsetY);//DONE - 1\r\n                        self.windowOffsetLeft = (+self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n                        break;\r\n                    case 2:\r\n                        if (self.options.zoomWindowHeight > self.nzHeight) { //positive margin\r\n\r\n                            self.windowOffsetTop = ((self.options.zoomWindowHeight / 2) - (self.nzHeight / 2)) * (-1);\r\n                            self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n                        }\r\n                        else { //negative margin\r\n                            $.noop();\r\n                        }\r\n                        break;\r\n                    case 3: //done\r\n                        self.windowOffsetTop = (self.nzHeight - self.zoomWindow.height() - (self.options.borderSize * 2)); //DONE 3,9\r\n                        self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n                        break;\r\n                    case 4: //done\r\n                        self.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\r\n                        self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n                        break;\r\n                    case 5: //done\r\n                        self.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\r\n                        self.windowOffsetLeft = (self.nzWidth - self.zoomWindow.width() - (self.options.borderSize * 2)); //DONE - 5,15\r\n                        break;\r\n                    case 6:\r\n                        if (self.options.zoomWindowHeight > self.nzHeight) { //positive margin\r\n                            self.windowOffsetTop = (self.nzHeight);  //DONE - 4,5,6,7,8\r\n\r\n                            self.windowOffsetLeft = ((self.options.zoomWindowWidth / 2) - (self.nzWidth / 2) + (self.options.borderSize * 2)) * (-1);\r\n                        }\r\n                        else { //negative margin\r\n                            $.noop();\r\n                        }\r\n\r\n                        break;\r\n                    case 7: //done\r\n                        self.windowOffsetTop = (self.nzHeight);  //DONE - 4,5,6,7,8\r\n                        self.windowOffsetLeft = 0; //DONE 7, 13\r\n                        break;\r\n                    case 8: //done\r\n                        self.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\r\n                        self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\r\n                        break;\r\n                    case 9:  //done\r\n                        self.windowOffsetTop = (self.nzHeight - self.zoomWindow.height() - (self.options.borderSize * 2)); //DONE 3,9\r\n                        self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\r\n                        break;\r\n                    case 10:\r\n                        if (self.options.zoomWindowHeight > self.nzHeight) { //positive margin\r\n\r\n                            self.windowOffsetTop = ((self.options.zoomWindowHeight / 2) - (self.nzHeight / 2)) * (-1);\r\n                            self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\r\n                        }\r\n                        else { //negative margin\r\n                            $.noop();\r\n                        }\r\n                        break;\r\n                    case 11:\r\n                        self.windowOffsetTop = (self.options.zoomWindowOffsetY);\r\n                        self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\r\n                        break;\r\n                    case 12: //done\r\n                        self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\r\n                        self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\r\n                        break;\r\n                    case 13: //done\r\n                        self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\r\n                        self.windowOffsetLeft = (0); //DONE 7, 13\r\n                        break;\r\n                    case 14:\r\n                        if (self.options.zoomWindowHeight > self.nzHeight) { //positive margin\r\n                            self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\r\n\r\n                            self.windowOffsetLeft = ((self.options.zoomWindowWidth / 2) - (self.nzWidth / 2) + (self.options.borderSize * 2)) * (-1);\r\n                        }\r\n                        else { //negative margin\r\n                            $.noop();\r\n                        }\r\n                        break;\r\n                    case 15://done\r\n                        self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\r\n                        self.windowOffsetLeft = (self.nzWidth - self.zoomWindow.width() - (self.options.borderSize * 2)); //DONE - 5,15\r\n                        break;\r\n                    case 16:  //done\r\n                        self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\r\n                        self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n                        break;\r\n                    default: //done\r\n                        self.windowOffsetTop = (self.options.zoomWindowOffsetY);//DONE - 1\r\n                        self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n                }\r\n            } //end isNAN\r\n            else {\r\n                // For BC purposes, treat passed element as ID if element not found\r\n                self.externalContainer = $(self.options.zoomWindowPosition);\r\n                if (!self.externalContainer.length) {\r\n                    self.externalContainer = $('#' + self.options.zoomWindowPosition);\r\n                }\r\n\r\n                self.externalContainerWidth = self.externalContainer.width();\r\n                self.externalContainerHeight = self.externalContainer.height();\r\n                self.externalContainerOffset = self.externalContainer.offset();\r\n\r\n                self.windowOffsetTop = self.externalContainerOffset.top;//DONE - 1\r\n                self.windowOffsetLeft = self.externalContainerOffset.left; //DONE 1, 2, 3, 4, 16\r\n\r\n            }\r\n            self.isWindowSet = true;\r\n            self.windowOffsetTop = self.windowOffsetTop + self.options.zoomWindowOffsetY;\r\n            self.windowOffsetLeft = self.windowOffsetLeft + self.options.zoomWindowOffsetX;\r\n\r\n            self.zoomWindow.css({\r\n                top: self.windowOffsetTop,\r\n                left: self.windowOffsetLeft\r\n            });\r\n\r\n            if (self.options.zoomType === 'inner') {\r\n                self.zoomWindow.css({\r\n                    top: 0,\r\n                    left: 0\r\n                });\r\n\r\n            }\r\n\r\n            self.windowLeftPos = String(((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomWindow.width() / 2) * (-1));\r\n            self.windowTopPos = String(((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomWindow.height() / 2) * (-1));\r\n            if (self.Etoppos) {\r\n                self.windowTopPos = 0;\r\n            }\r\n            if (self.Eloppos) {\r\n                self.windowLeftPos = 0;\r\n            }\r\n            if (self.Eboppos) {\r\n                self.windowTopPos = (self.largeHeight / self.currentZoomLevel - self.zoomWindow.height()) * (-1);\r\n            }\r\n            if (self.Eroppos) {\r\n                self.windowLeftPos = ((self.largeWidth / self.currentZoomLevel - self.zoomWindow.width()) * (-1));\r\n            }\r\n\r\n            //stops micro movements\r\n            if (self.fullheight) {\r\n                self.windowTopPos = 0;\r\n            }\r\n            if (self.fullwidth) {\r\n                self.windowLeftPos = 0;\r\n            }\r\n\r\n            //set the css background position\r\n            if (self.options.zoomType === 'window' || self.options.zoomType === 'inner') {\r\n\r\n                if (self.zoomLock === 1) {\r\n                    //overrides for images not zoomable\r\n                    if (self.widthRatio <= 1) {\r\n                        self.windowLeftPos = 0;\r\n                    }\r\n                    if (self.heightRatio <= 1) {\r\n                        self.windowTopPos = 0;\r\n                    }\r\n                }\r\n                // adjust images less than the window height\r\n\r\n                if (self.options.zoomType === 'window') {\r\n                    if (self.largeHeight < self.options.zoomWindowHeight) {\r\n                        self.windowTopPos = 0;\r\n                    }\r\n                    if (self.largeWidth < self.options.zoomWindowWidth) {\r\n                        self.windowLeftPos = 0;\r\n                    }\r\n                }\r\n                //set the zoomwindow background position\r\n                if (self.options.easing) {\r\n\r\n                    //     if(self.changeZoom){\r\n                    //           clearInterval(self.loop);\r\n                    //           self.changeZoom = false;\r\n                    //           self.loop = false;\r\n\r\n                    //            }\r\n                    //set the pos to 0 if not set\r\n                    if (!self.xp) {\r\n                        self.xp = 0;\r\n                    }\r\n                    if (!self.yp) {\r\n                        self.yp = 0;\r\n                    }\r\n                    var interval = 16;\r\n                    if (Number.isInteger(parseInt(self.options.easing))) {\r\n                        interval = parseInt(self.options.easing);\r\n                    }\r\n                    //if loop not already started, then run it\r\n                    if (!self.loop) {\r\n                        self.loop = setInterval(function () {\r\n                            //using zeno's paradox\r\n\r\n                            self.xp += (self.windowLeftPos - self.xp) / self.options.easingAmount;\r\n                            self.yp += (self.windowTopPos - self.yp) / self.options.easingAmount;\r\n                            if (self.scrollingLock) {\r\n\r\n                                clearInterval(self.loop);\r\n                                self.xp = self.windowLeftPos;\r\n                                self.yp = self.windowTopPos;\r\n\r\n                                self.xp = ((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomWindow.width() / 2) * (-1);\r\n                                self.yp = (((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomWindow.height() / 2) * (-1));\r\n\r\n                                if (self.changeBgSize) {\r\n                                    if (self.nzHeight > self.nzWidth) {\r\n                                        if (self.options.zoomType === 'lens') {\r\n                                            self.zoomLens.css('background-size',\r\n                                                self.largeWidth / self.newvalueheight + 'px ' +\r\n                                                self.largeHeight / self.newvalueheight + 'px');\r\n                                        }\r\n                                        self.zoomWindow.css('background-size',\r\n                                            self.largeWidth / self.newvalueheight + 'px ' +\r\n                                            self.largeHeight / self.newvalueheight + 'px');\r\n                                    }\r\n                                    else {\r\n                                        if (self.options.zoomType !== 'lens') {\r\n                                            self.zoomLens.css('background-size',\r\n                                                self.largeWidth / self.newvaluewidth + 'px ' +\r\n                                                self.largeHeight / self.newvalueheight + 'px');\r\n                                        }\r\n                                        self.zoomWindow.css('background-size',\r\n                                            self.largeWidth / self.newvaluewidth + 'px ' +\r\n                                            self.largeHeight / self.newvaluewidth + 'px');\r\n                                    }\r\n\r\n                                    /*\r\n                                     if(!self.bgxp){self.bgxp = self.largeWidth/self.newvalue;}\r\n                                     if(!self.bgyp){self.bgyp = self.largeHeight/self.newvalue ;}\r\n                                     if (!self.bgloop){\r\n                                     self.bgloop = setInterval(function(){\r\n\r\n                                     self.bgxp += (self.largeWidth/self.newvalue  - self.bgxp) / self.options.easingAmount;\r\n                                     self.bgyp += (self.largeHeight/self.newvalue  - self.bgyp) / self.options.easingAmount;\r\n\r\n                                     self.zoomWindow.css('background-size', self.bgxp + 'px ' + self.bgyp + 'px' );\r\n\r\n\r\n                                     }, 16);\r\n\r\n                                     }\r\n                                     */\r\n                                    self.changeBgSize = false;\r\n                                }\r\n\r\n                                self.zoomWindow.css('background-position', self.windowLeftPos + 'px ' + self.windowTopPos + 'px');\r\n                                self.scrollingLock = false;\r\n                                self.loop = false;\r\n\r\n                            }\r\n                            else if (Math.round(Math.abs(self.xp - self.windowLeftPos) + Math.abs(self.yp - self.windowTopPos)) < 1) {\r\n                                //stops micro movements\r\n                                clearInterval(self.loop);\r\n                                self.zoomWindow.css('background-position', self.windowLeftPos + 'px ' + self.windowTopPos + 'px');\r\n                                self.loop = false;\r\n                            }\r\n                            else {\r\n                                if (self.changeBgSize) {\r\n                                    if (self.nzHeight > self.nzWidth) {\r\n                                        if (self.options.zoomType === 'lens') {\r\n                                            self.zoomLens.css('background-size',\r\n                                                self.largeWidth / self.newvalueheight + 'px ' +\r\n                                                self.largeHeight / self.newvalueheight + 'px');\r\n                                        }\r\n                                        self.zoomWindow.css('background-size',\r\n                                            self.largeWidth / self.newvalueheight + 'px ' +\r\n                                            self.largeHeight / self.newvalueheight + 'px');\r\n                                    }\r\n                                    else {\r\n                                        if (self.options.zoomType !== 'lens') {\r\n                                            self.zoomLens.css('background-size',\r\n                                                self.largeWidth / self.newvaluewidth + 'px ' +\r\n                                                self.largeHeight / self.newvaluewidth + 'px');\r\n                                        }\r\n                                        self.zoomWindow.css('background-size',\r\n                                            self.largeWidth / self.newvaluewidth + 'px ' +\r\n                                            self.largeHeight / self.newvaluewidth + 'px');\r\n                                    }\r\n                                    self.changeBgSize = false;\r\n                                }\r\n\r\n                                self.zoomWindow.css('background-position', self.xp + 'px ' + self.yp + 'px');\r\n                            }\r\n                        }, interval);\r\n                    }\r\n                }\r\n                else {\r\n                    if (self.changeBgSize) {\r\n                        if (self.nzHeight > self.nzWidth) {\r\n                            if (self.options.zoomType === 'lens') {\r\n                                self.zoomLens.css('background-size',\r\n                                    self.largeWidth / self.newvalueheight + 'px ' +\r\n                                    self.largeHeight / self.newvalueheight + 'px');\r\n                            }\r\n\r\n                            self.zoomWindow.css('background-size',\r\n                                self.largeWidth / self.newvalueheight + 'px ' +\r\n                                self.largeHeight / self.newvalueheight + 'px');\r\n                        }\r\n                        else {\r\n                            if (self.options.zoomType === 'lens') {\r\n                                self.zoomLens.css('background-size',\r\n                                    self.largeWidth / self.newvaluewidth + 'px ' +\r\n                                    self.largeHeight / self.newvaluewidth + 'px');\r\n                            }\r\n                            if ((self.largeHeight / self.newvaluewidth) < self.options.zoomWindowHeight) {\r\n\r\n                                self.zoomWindow.css('background-size',\r\n                                    self.largeWidth / self.newvaluewidth + 'px ' +\r\n                                    self.largeHeight / self.newvaluewidth + 'px');\r\n                            }\r\n                            else {\r\n\r\n                                self.zoomWindow.css('background-size',\r\n                                    self.largeWidth / self.newvalueheight + 'px ' +\r\n                                    self.largeHeight / self.newvalueheight + 'px');\r\n                            }\r\n\r\n                        }\r\n                        self.changeBgSize = false;\r\n                    }\r\n\r\n                    self.zoomWindow.css('background-position',\r\n                        self.windowLeftPos + 'px ' +\r\n                        self.windowTopPos + 'px');\r\n                }\r\n            }\r\n        },\r\n\r\n        setTintPosition: function (e) {\r\n            var self = this;\r\n            var zoomLensWidth = self.zoomLens.width();\r\n            var zoomLensHeight = self.zoomLens.height();\r\n            self.updateOffset(self);\r\n            self.tintpos = String(((e.pageX - self.nzOffset.left) - (zoomLensWidth / 2)) * (-1));\r\n            self.tintposy = String(((e.pageY - self.nzOffset.top) - zoomLensHeight / 2) * (-1));\r\n            if (self.Etoppos) {\r\n                self.tintposy = 0;\r\n            }\r\n            if (self.Eloppos) {\r\n                self.tintpos = 0;\r\n            }\r\n            if (self.Eboppos) {\r\n                self.tintposy = (self.nzHeight - zoomLensHeight - (self.options.lensBorderSize * 2)) * (-1);\r\n            }\r\n            if (self.Eroppos) {\r\n                self.tintpos = ((self.nzWidth - zoomLensWidth - (self.options.lensBorderSize * 2)) * (-1));\r\n            }\r\n            if (self.options.tint) {\r\n                //stops micro movements\r\n                if (self.fullheight) {\r\n                    self.tintposy = 0;\r\n\r\n                }\r\n                if (self.fullwidth) {\r\n                    self.tintpos = 0;\r\n\r\n                }\r\n                self.zoomTintImage.css({\r\n                    'left': self.tintpos + 'px',\r\n                    'top': self.tintposy + 'px'\r\n                });\r\n            }\r\n        },\r\n\r\n        swaptheimage: function (smallimage, largeimage) {\r\n            var self = this;\r\n            var newImg = new Image();\r\n\r\n            if (self.options.loadingIcon && !self.spinner) {\r\n                var styleAttr = 'background: url(\\'' + self.options.loadingIcon + '\\') no-repeat center;' +\r\n                    'height:' + self.nzHeight + 'px;' +\r\n                    'width:' + self.nzWidth + 'px;' +\r\n                    'z-index: 2000;' +\r\n                    'position: absolute; ' +\r\n                    'background-position: center center;';\r\n                if (self.options.zoomType === 'inner') {\r\n                    styleAttr += 'top: 0px;';\r\n                }\r\n                self.spinner = $('<div class=\"ezp-spinner\" style=\"' + styleAttr + '\"></div>');\r\n                self.$elem.after(self.spinner);\r\n            } else if (self.spinner) {\r\n                self.spinner.show();\r\n            }\r\n\r\n            self.options.onImageSwap(self.$elem);\r\n\r\n            newImg.onload = function () {\r\n                self.largeWidth = newImg.width;\r\n                self.largeHeight = newImg.height;\r\n                self.zoomImage = largeimage;\r\n                self.zoomWindow.css('background-size', self.largeWidth + 'px ' + self.largeHeight + 'px');\r\n\r\n                self.swapAction(smallimage, largeimage);\r\n                return;\r\n            };\r\n            self.setImageSource(newImg, largeimage);  // this must be done AFTER setting onload\r\n        },\r\n\r\n        swapAction: function (smallimage, largeimage) {\r\n            var self = this;\r\n            var elemWidth = self.$elem.width();\r\n            var elemHeight = self.$elem.height();\r\n            var newImg2 = new Image();\r\n            newImg2.onload = function () {\r\n                //re-calculate values\r\n                self.nzHeight = newImg2.height;\r\n                self.nzWidth = newImg2.width;\r\n                self.options.onImageSwapComplete(self.$elem);\r\n\r\n                self.doneCallback();\r\n                return;\r\n            };\r\n            self.setImageSource(newImg2, smallimage);\r\n\r\n            //reset the zoomlevel to that initially set in options\r\n            self.currentZoomLevel = self.options.zoomLevel;\r\n            self.options.maxZoomLevel = false;\r\n\r\n            //swaps the main image\r\n            //self.$elem.attr('src',smallimage);\r\n            //swaps the zoom image\r\n            if (self.options.zoomType === 'lens') {\r\n                self.zoomLens.css('background-image', 'url(\"' + largeimage + '\")');\r\n            }\r\n            if (self.options.zoomType === 'window') {\r\n                self.zoomWindow.css('background-image', 'url(\"' + largeimage + '\")');\r\n            }\r\n            if (self.options.zoomType === 'inner') {\r\n                self.zoomWindow.css('background-image', 'url(\"' + largeimage + '\")');\r\n            }\r\n\r\n            self.currentImage = largeimage;\r\n\r\n            if (self.options.imageCrossfade) {\r\n                var oldImg = self.$elem;\r\n                var newImg = oldImg.clone();\r\n                self.$elem.attr('src', smallimage);\r\n                self.$elem.after(newImg);\r\n                newImg.stop(true).fadeOut(self.options.imageCrossfade, function () {\r\n                    $(this).remove();\r\n                });\r\n\r\n                // if(self.options.zoomType === 'inner'){\r\n                //remove any attributes on the cloned image so we can resize later\r\n                self.$elem.width('auto').removeAttr('width');\r\n                self.$elem.height('auto').removeAttr('height');\r\n                //   }\r\n\r\n                oldImg.fadeIn(self.options.imageCrossfade);\r\n\r\n                if (self.options.tint && self.options.zoomType !== 'inner') {\r\n\r\n                    var oldImgTint = self.zoomTintImage;\r\n                    var newImgTint = oldImgTint.clone();\r\n                    self.zoomTintImage.attr('src', largeimage);\r\n                    self.zoomTintImage.after(newImgTint);\r\n                    newImgTint.stop(true).fadeOut(self.options.imageCrossfade, function () {\r\n                        $(this).remove();\r\n                    });\r\n\r\n                    oldImgTint.fadeIn(self.options.imageCrossfade);\r\n\r\n                    //self.zoomTintImage.attr('width',elem.data('image'));\r\n\r\n                    //resize the tint window\r\n                    self.zoomTint.css({\r\n                        height: elemHeight,\r\n                        width: elemWidth\r\n                    });\r\n                }\r\n\r\n                self.zoomContainer.css({\r\n                    'height': elemHeight,\r\n                    'width': elemWidth\r\n                });\r\n\r\n                if (self.options.zoomType === 'inner') {\r\n                    if (!self.options.constrainType) {\r\n                        self.zoomWrap.parent().css({\r\n                            'height': elemHeight,\r\n                            'width': elemWidth\r\n                        });\r\n\r\n                        self.zoomWindow.css({\r\n                            'height': elemHeight,\r\n                            'width': elemWidth\r\n                        });\r\n                    }\r\n                }\r\n\r\n                if (self.options.imageCrossfade) {\r\n                    self.zoomWrap.css({\r\n                        'height': elemHeight,\r\n                        'width': elemWidth\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                self.$elem.attr('src', smallimage);\r\n                if (self.options.tint) {\r\n                    self.zoomTintImage.attr('src', largeimage);\r\n                    //self.zoomTintImage.attr('width',elem.data('image'));\r\n                    self.zoomTintImage.attr('height', elemHeight);\r\n                    //self.zoomTintImage.attr('src') = elem.data('image');\r\n                    self.zoomTintImage.css('height', elemHeight);\r\n                    self.zoomTint.css('height', elemHeight);\r\n\r\n                }\r\n                self.zoomContainer.css({\r\n                    'height': elemHeight,\r\n                    'width': elemWidth\r\n                });\r\n\r\n                if (self.options.imageCrossfade) {\r\n                    self.zoomWrap.css({\r\n                        'height': elemHeight,\r\n                        'width': elemWidth\r\n                    });\r\n                }\r\n            }\r\n            if (self.options.constrainType) {\r\n\r\n                //This will contrain the image proportions\r\n                if (self.options.constrainType === 'height') {\r\n\r\n                    var autoWDimension = {\r\n                        'height': self.options.constrainSize,\r\n                        'width': 'auto'\r\n                    };\r\n                    self.zoomContainer.css(autoWDimension);\r\n\r\n                    if (self.options.imageCrossfade) {\r\n                        self.zoomWrap.css(autoWDimension);\r\n                        self.constwidth = self.zoomWrap.width();\r\n                    }\r\n                    else {\r\n                        self.$elem.css(autoWDimension);\r\n                        self.constwidth = elemWidth;\r\n                    }\r\n\r\n                    var constWDim = {\r\n                        'height': self.options.constrainSize,\r\n                        'width': self.constwidth\r\n                    };\r\n                    if (self.options.zoomType === 'inner') {\r\n\r\n                        self.zoomWrap.parent().css(constWDim);\r\n                        self.zoomWindow.css(constWDim);\r\n                    }\r\n                    if (self.options.tint) {\r\n                        self.tintContainer.css(constWDim);\r\n                        self.zoomTint.css(constWDim);\r\n                        self.zoomTintImage.css(constWDim);\r\n                    }\r\n\r\n                }\r\n                if (self.options.constrainType === 'width') {\r\n                    var autoHDimension = {\r\n                        'height': 'auto',\r\n                        'width': self.options.constrainSize\r\n                    };\r\n                    self.zoomContainer.css(autoHDimension);\r\n\r\n                    if (self.options.imageCrossfade) {\r\n                        self.zoomWrap.css(autoHDimension);\r\n                        self.constheight = self.zoomWrap.height();\r\n                    }\r\n                    else {\r\n                        self.$elem.css(autoHDimension);\r\n                        self.constheight = elemHeight;\r\n                    }\r\n\r\n                    var constHDim = {\r\n                        'height': self.constheight,\r\n                        'width': self.options.constrainSize\r\n                    };\r\n                    if (self.options.zoomType === 'inner') {\r\n                        self.zoomWrap.parent().css(constHDim);\r\n                        self.zoomWindow.css(constHDim);\r\n                    }\r\n                    if (self.options.tint) {\r\n                        self.tintContainer.css(constHDim);\r\n                        self.zoomTint.css(constHDim);\r\n                        self.zoomTintImage.css(constHDim);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        doneCallback: function () {\r\n            var self = this;\r\n            if (self.options.loadingIcon && !!self.spinner && !!self.spinner.length) {\r\n                self.spinner.hide();\r\n            }\r\n\r\n            self.updateOffset(self);\r\n            self.nzWidth = self.$elem.width();\r\n            self.nzHeight = self.$elem.height();\r\n\r\n            // reset the zoomlevel back to default\r\n            self.currentZoomLevel = self.options.zoomLevel;\r\n\r\n            //ratio of the large to small image\r\n            self.widthRatio = self.largeWidth / self.nzWidth;\r\n            self.heightRatio = self.largeHeight / self.nzHeight;\r\n\r\n            //NEED TO ADD THE LENS SIZE FOR ROUND\r\n            // adjust images less than the window height\r\n            if (self.options.zoomType === 'window') {\r\n\r\n                if (self.nzHeight < self.options.zoomWindowHeight / self.heightRatio) {\r\n                    self.lensHeight = self.nzHeight;\r\n\r\n                }\r\n                else {\r\n                    self.lensHeight = String((self.options.zoomWindowHeight / self.heightRatio));\r\n                }\r\n\r\n                if (self.nzWidth < self.options.zoomWindowWidth) {\r\n                    self.lensWidth = self.nzWidth;\r\n                }\r\n                else {\r\n                    self.lensWidth = (self.options.zoomWindowWidth / self.widthRatio);\r\n                }\r\n\r\n                if (self.zoomLens) {\r\n                    self.zoomLens.css({\r\n                        'width': self.lensWidth,\r\n                        'height': self.lensHeight\r\n                    });\r\n                }\r\n            }\r\n        },\r\n\r\n        getCurrentImage: function () {\r\n            var self = this;\r\n            return self.zoomImage;\r\n        },\r\n\r\n        getGalleryList: function () {\r\n            var self = this;\r\n            //loop through the gallery options and set them in list for fancybox\r\n            self.gallerylist = [];\r\n            if (self.options.gallery) {\r\n                $('#' + self.options.gallery + ' a').each(function () {\r\n\r\n                    var imgSrc = '';\r\n                    if ($(this).data(self.options.attrImageZoomSrc)) {\r\n                        imgSrc = $(this).data(self.options.attrImageZoomSrc);\r\n                    }\r\n                    else if ($(this).data('image')) {\r\n                        imgSrc = $(this).data('image');\r\n                    }\r\n                    //put the current image at the start\r\n                    if (imgSrc === self.zoomImage) {\r\n                        self.gallerylist.unshift({\r\n                            href: '' + imgSrc + '',\r\n                            title: $(this).find('img').attr('title')\r\n                        });\r\n                    }\r\n                    else {\r\n                        self.gallerylist.push({\r\n                            href: '' + imgSrc + '',\r\n                            title: $(this).find('img').attr('title')\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            //if no gallery - return current image\r\n            else {\r\n                self.gallerylist.push({\r\n                    href: '' + self.zoomImage + '',\r\n                    title: $(this).find('img').attr('title')\r\n                });\r\n            }\r\n            return self.gallerylist;\r\n        },\r\n\r\n        changeZoomLevel: function (value) {\r\n            var self = this;\r\n\r\n            //flag a zoom, so can adjust the easing during setPosition\r\n            self.scrollingLock = true;\r\n\r\n            //round to two decimal places\r\n            self.newvalue = parseFloat(value).toFixed(2);\r\n            var newvalue = self.newvalue;\r\n\r\n            //maxwidth & Maxheight of the image\r\n            var maxheightnewvalue = self.largeHeight / ((self.options.zoomWindowHeight / self.nzHeight) * self.nzHeight);\r\n            var maxwidthtnewvalue = self.largeWidth / ((self.options.zoomWindowWidth / self.nzWidth) * self.nzWidth);\r\n\r\n            //calculate new heightratio\r\n            if (self.options.zoomType !== 'inner') {\r\n                if (maxheightnewvalue <= newvalue) {\r\n                    self.heightRatio = (self.largeHeight / maxheightnewvalue) / self.nzHeight;\r\n                    self.newvalueheight = maxheightnewvalue;\r\n                    self.fullheight = true;\r\n                }\r\n                else {\r\n                    self.heightRatio = (self.largeHeight / newvalue) / self.nzHeight;\r\n                    self.newvalueheight = newvalue;\r\n                    self.fullheight = false;\r\n                }\r\n\r\n                // calculate new width ratio\r\n\r\n                if (maxwidthtnewvalue <= newvalue) {\r\n                    self.widthRatio = (self.largeWidth / maxwidthtnewvalue) / self.nzWidth;\r\n                    self.newvaluewidth = maxwidthtnewvalue;\r\n                    self.fullwidth = true;\r\n                }\r\n                else {\r\n                    self.widthRatio = (self.largeWidth / newvalue) / self.nzWidth;\r\n                    self.newvaluewidth = newvalue;\r\n                    self.fullwidth = false;\r\n                }\r\n                if (self.options.zoomType === 'lens') {\r\n                    if (maxheightnewvalue <= newvalue) {\r\n                        self.fullwidth = true;\r\n                        self.newvaluewidth = maxheightnewvalue;\r\n                    } else {\r\n                        self.widthRatio = (self.largeWidth / newvalue) / self.nzWidth;\r\n                        self.newvaluewidth = newvalue;\r\n\r\n                        self.fullwidth = false;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (self.options.zoomType === 'inner') {\r\n                maxheightnewvalue = parseFloat(self.largeHeight / self.nzHeight).toFixed(2);\r\n                maxwidthtnewvalue = parseFloat(self.largeWidth / self.nzWidth).toFixed(2);\r\n                if (newvalue > maxheightnewvalue) {\r\n                    newvalue = maxheightnewvalue;\r\n                }\r\n                if (newvalue > maxwidthtnewvalue) {\r\n                    newvalue = maxwidthtnewvalue;\r\n                }\r\n\r\n                if (maxheightnewvalue <= newvalue) {\r\n                    self.heightRatio = (self.largeHeight / newvalue) / self.nzHeight;\r\n                    if (newvalue > maxheightnewvalue) {\r\n                        self.newvalueheight = maxheightnewvalue;\r\n                    } else {\r\n                        self.newvalueheight = newvalue;\r\n                    }\r\n                    self.fullheight = true;\r\n                }\r\n                else {\r\n                    self.heightRatio = (self.largeHeight / newvalue) / self.nzHeight;\r\n\r\n                    if (newvalue > maxheightnewvalue) {\r\n\r\n                        self.newvalueheight = maxheightnewvalue;\r\n                    } else {\r\n                        self.newvalueheight = newvalue;\r\n                    }\r\n                    self.fullheight = false;\r\n                }\r\n\r\n                if (maxwidthtnewvalue <= newvalue) {\r\n\r\n                    self.widthRatio = (self.largeWidth / newvalue) / self.nzWidth;\r\n                    if (newvalue > maxwidthtnewvalue) {\r\n\r\n                        self.newvaluewidth = maxwidthtnewvalue;\r\n                    } else {\r\n                        self.newvaluewidth = newvalue;\r\n                    }\r\n\r\n                    self.fullwidth = true;\r\n                }\r\n                else {\r\n                    self.widthRatio = (self.largeWidth / newvalue) / self.nzWidth;\r\n                    self.newvaluewidth = newvalue;\r\n                    self.fullwidth = false;\r\n                }\r\n            } //end inner\r\n            var scrcontinue = false;\r\n\r\n            if (self.options.zoomType === 'inner') {\r\n                if (self.nzWidth >= self.nzHeight) {\r\n                    if (self.newvaluewidth <= maxwidthtnewvalue) {\r\n                        scrcontinue = true;\r\n                    }\r\n                    else {\r\n                        scrcontinue = false;\r\n                        self.fullheight = true;\r\n                        self.fullwidth = true;\r\n                    }\r\n                }\r\n                if (self.nzHeight > self.nzWidth) {\r\n                    if (self.newvaluewidth <= maxwidthtnewvalue) {\r\n                        scrcontinue = true;\r\n                    }\r\n                    else {\r\n                        scrcontinue = false;\r\n                        self.fullheight = true;\r\n                        self.fullwidth = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (self.options.zoomType !== 'inner') {\r\n                scrcontinue = true;\r\n            }\r\n\r\n            if (scrcontinue) {\r\n                self.zoomLock = 0;\r\n                self.changeZoom = true;\r\n\r\n                //if lens height is less than image height\r\n                if (((self.options.zoomWindowHeight) / self.heightRatio) <= self.nzHeight) {\r\n                    self.currentZoomLevel = self.newvalueheight;\r\n                    if (self.options.zoomType !== 'lens' && self.options.zoomType !== 'inner') {\r\n                        self.changeBgSize = true;\r\n                        self.zoomLens.css('height', String(self.options.zoomWindowHeight / self.heightRatio) + 'px');\r\n                    }\r\n                    if (self.options.zoomType === 'lens' || self.options.zoomType === 'inner') {\r\n                        self.changeBgSize = true;\r\n                    }\r\n                }\r\n\r\n                if ((self.options.zoomWindowWidth / self.widthRatio) <= self.nzWidth) {\r\n                    if (self.options.zoomType !== 'inner') {\r\n                        if (self.newvaluewidth > self.newvalueheight) {\r\n                            self.currentZoomLevel = self.newvaluewidth;\r\n                        }\r\n                    }\r\n\r\n                    if (self.options.zoomType !== 'lens' && self.options.zoomType !== 'inner') {\r\n                        self.changeBgSize = true;\r\n\r\n                        self.zoomLens.css('width', String(self.options.zoomWindowWidth / self.widthRatio) + 'px');\r\n                    }\r\n                    if (self.options.zoomType === 'lens' || self.options.zoomType === 'inner') {\r\n                        self.changeBgSize = true;\r\n                    }\r\n\r\n                }\r\n                if (self.options.zoomType === 'inner') {\r\n                    self.changeBgSize = true;\r\n\r\n                    if (self.nzWidth > self.nzHeight) {\r\n                        self.currentZoomLevel = self.newvaluewidth;\r\n                    }\r\n                    else if (self.nzHeight >= self.nzWidth) {\r\n                        self.currentZoomLevel = self.newvaluewidth;\r\n                    }\r\n                }\r\n            }      //under\r\n\r\n            //sets the boundry change, called in setWindowPos\r\n            self.setPosition(self.currentLoc);\r\n            //\r\n        },\r\n\r\n        closeAll: function () {\r\n            var self = this;\r\n            if (self.zoomWindow) {\r\n                self.zoomWindow.hide();\r\n            }\r\n            if (self.zoomLens) {\r\n                self.zoomLens.hide();\r\n            }\r\n            if (self.zoomTint) {\r\n                self.zoomTint.hide();\r\n            }\r\n        },\r\n        updateOffset: function (self) {\r\n            if (self.options.zoomContainerAppendTo != 'body') {\r\n                self.nzOffset = self.$elem.offset();\r\n                appendedPosition = $(self.options.zoomContainerAppendTo).offset();\r\n                self.nzOffset.top = self.$elem.offset().top - appendedPosition.top;\r\n                self.nzOffset.left = self.$elem.offset().left - appendedPosition.left;\r\n\r\n            } else {\r\n                self.nzOffset = self.$elem.offset();\r\n            }\r\n        },\r\n\r\n        changeState: function (value) {\r\n            var self = this;\r\n            if (value === 'enable') {\r\n                self.options.zoomEnabled = true;\r\n            }\r\n            if (value === 'disable') {\r\n                self.options.zoomEnabled = false;\r\n            }\r\n        },\r\n\r\n        responsiveConfig: function (options) {\r\n            if (options.respond && options.respond.length > 0) {\r\n                return $.extend({}, options, this.configByScreenWidth(options));\r\n            }\r\n            return options;\r\n        },\r\n\r\n        configByScreenWidth: function (options) {\r\n            var screenWidth = $(window).width();\r\n\r\n            var config = $.grep(options.respond, function (item) {\r\n                var range = item.range.split('-');\r\n                return (screenWidth >= range[0]) && (screenWidth <= range[1]);\r\n            });\r\n\r\n            if (config.length > 0) {\r\n                return config[0];\r\n            } else {\r\n                return options;\r\n            }\r\n        }\r\n    };\r\n\r\n    $.fn.ezPlus = function (options) {\r\n        return this.each(function () {\r\n            var elevate = Object.create(EZP);\r\n\r\n            elevate.init(options, this);\r\n\r\n            $.data(this, 'ezPlus', elevate);\r\n\r\n        });\r\n    };\r\n\r\n    $.fn.ezPlus.options = {\r\n        attrImageZoomSrc: 'zoom-image', // attribute to plugin use for zoom\r\n        borderColour: '#888',\r\n        borderSize: 4,\r\n        constrainSize: false,  //in pixels the dimensions you want to constrain on\r\n        constrainType: false,  //width or height\r\n        containLensZoom: false,\r\n        cursor: 'inherit', // user should set to what they want the cursor as, if they have set a click function\r\n        debug: false,\r\n        easing: false,\r\n        easingAmount: 12,\r\n        enabled: true,\r\n\r\n        gallery: false,\r\n        galleryActiveClass: 'zoomGalleryActive',\r\n        gallerySelector: false,\r\n        galleryItem: 'a',\r\n\r\n        imageCrossfade: false,\r\n\r\n        lensBorderColour: '#000',\r\n        lensBorderSize: 1,\r\n        lensColour: 'white', //colour of the lens background\r\n        lensFadeIn: false,\r\n        lensFadeOut: false,\r\n        lensOpacity: 0.4, //opacity of the lens\r\n        lensShape: 'square', //can be 'round'\r\n        lensSize: 200,\r\n        lenszoom: false,\r\n\r\n        loadingIcon: false, //http://www.example.com/spinner.gif\r\n\r\n        // This change will allow to decide if you want to decrease\r\n        // zoom of one of the dimensions once the other reached it's top value,\r\n        // or keep the aspect ratio, default behaviour still being as always,\r\n        // allow to continue zooming out, so it keeps retrocompatibility.\r\n        mantainZoomAspectRatio: false,\r\n        maxZoomLevel: false,\r\n        minZoomLevel: 1.01,\r\n\r\n        onComplete: $.noop,\r\n        onDestroy: $.noop,\r\n        onImageClick: $.noop,\r\n        onImageSwap: $.noop,\r\n        onImageSwapComplete: $.noop,\r\n        onShow: $.noop,\r\n        onZoomedImageLoaded: $.noop,\r\n\r\n        preloading: 1, //by default, load all the images, if 0, then only load images after activated (PLACEHOLDER FOR NEXT VERSION)\r\n        respond: [],\r\n        responsive: true,\r\n        scrollZoom: false, //allow zoom on mousewheel, true to activate\r\n        scrollZoomIncrement: 0.1,  //steps of the scrollzoom\r\n        showLens: true,\r\n        tint: false, //enable the tinting\r\n        tintColour: '#333', //default tint color, can be anything, red, #ccc, rgb(0,0,0)\r\n        tintOpacity: 0.4, //opacity of the tint\r\n        touchEnabled: true,\r\n\r\n        zoomActivation: 'hover', // Can also be click (PLACEHOLDER FOR NEXT VERSION)\r\n        zoomContainerAppendTo: 'body', //zoom container parent selector\r\n        zoomId: -1, // identifier for the zoom container\r\n        zoomLevel: 1, //default zoom level of image\r\n        zoomTintFadeIn: false,\r\n        zoomTintFadeOut: false,\r\n        zoomType: 'window', //window is default,  also 'lens' available -\r\n        zoomWindowAlwaysShow: false,\r\n        zoomWindowBgColour: '#fff',\r\n        zoomWindowFadeIn: false,\r\n        zoomWindowFadeOut: false,\r\n        zoomWindowHeight: 400,\r\n        zoomWindowOffsetX: 0,\r\n        zoomWindowOffsetY: 0,\r\n        zoomWindowPosition: 1, //Possible values: 1-16, but we can also position with a selector string.\r\n        zoomWindowWidth: 400,\r\n        zoomEnabled: true, //false disables zoomwindow from showing\r\n        zIndex: 999\r\n    };\r\n\r\n})(jQuery, window, document);\r\n","// ==================================================\r\n// fancyBox v3.1.20\r\n//\r\n// Licensed GPLv3 for open source use\r\n// or fancyBox Commercial License for commercial use\r\n//\r\n// http://fancyapps.com/fancybox/\r\n// Copyright 2017 fancyApps\r\n//\r\n// ==================================================\r\n;(function (window, document, $, undefined) {\r\n    'use strict';\r\n\r\n    // If there's no jQuery, fancyBox can't work\r\n    // =========================================\r\n\r\n    if ( !$ ) {\r\n        return;\r\n    }\r\n\r\n    // Check if fancyBox is already initialized\r\n    // ========================================\r\n\r\n    if ( $.fn.fancybox ) {\r\n\r\n        $.error('fancyBox already initialized');\r\n\r\n        return;\r\n    }\r\n\r\n    // Private default settings\r\n    // ========================\r\n\r\n    var defaults = {\r\n\r\n        // Enable infinite gallery navigation\r\n        loop : false,\r\n\r\n        // Space around image, ignored if zoomed-in or viewport smaller than 800px\r\n        margin : [44, 0],\r\n\r\n        // Horizontal space between slides\r\n        gutter : 50,\r\n\r\n        // Enable keyboard navigation\r\n        keyboard : true,\r\n\r\n        // Should display navigation arrows at the screen edges\r\n        arrows : true,\r\n\r\n        // Should display infobar (counter and arrows at the top)\r\n        infobar : false,\r\n\r\n        // Should display toolbar (buttons at the top)\r\n        toolbar : true,\r\n\r\n        // What buttons should appear in the top right corner.\r\n        // Buttons will be created using templates from `btnTpl` option\r\n        // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\r\n        buttons : [\r\n            'slideShow',\r\n            'fullScreen',\r\n            'thumbs',\r\n            'close'\r\n        ],\r\n\r\n        // Detect \"idle\" time in seconds\r\n        idleTime : 4,\r\n\r\n        // Should display buttons at top right corner of the content\r\n        // If 'auto' - they will be created for content having type 'html', 'inline' or 'ajax'\r\n        // Use template from `btnTpl.smallBtn` for customization\r\n        smallBtn : 'auto',\r\n\r\n        // Disable right-click and use simple image protection for images\r\n        protect : false,\r\n\r\n        // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\r\n        modal : false,\r\n\r\n        image : {\r\n\r\n            // Wait for images to load before displaying\r\n            // Requires predefined image dimensions\r\n            // If 'auto' - will zoom in thumbnail if 'width' and 'height' attributes are found\r\n            preload : \"auto\",\r\n\r\n        },\r\n\r\n        ajax : {\r\n\r\n            // Object containing settings for ajax request\r\n            settings : {\r\n\r\n                // This helps to indicate that request comes from the modal\r\n                // Feel free to change naming\r\n                data : {\r\n                    fancybox : true\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        iframe : {\r\n\r\n            // Iframe template\r\n            tpl : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\r\n\r\n            // Preload iframe before displaying it\r\n            // This allows to calculate iframe content width and height\r\n            // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\r\n            preload : true,\r\n\r\n            // Custom CSS styling for iframe wrapping element\r\n            // You can use this to set custom iframe dimensions\r\n            css : {},\r\n\r\n            // Iframe tag attributes\r\n            attr : {\r\n                scrolling : 'auto'\r\n            }\r\n\r\n        },\r\n\r\n        // Open/close animation type\r\n        // Possible values:\r\n        //   false            - disable\r\n        //   \"zoom\"           - zoom images from/to thumbnail\r\n        //   \"fade\"\r\n        //   \"zoom-in-out\"\r\n        //\r\n        animationEffect : \"zoom\",\r\n\r\n        // Duration in ms for open/close animation\r\n        animationDuration : 366,\r\n\r\n        // Should image change opacity while zooming\r\n        // If opacity is 'auto', then opacity will be changed if image and thumbnail have different aspect ratios\r\n        zoomOpacity : 'auto',\r\n\r\n        // Transition effect between slides\r\n        //\r\n        // Possible values:\r\n        //   false            - disable\r\n        //   \"fade'\r\n        //   \"slide'\r\n        //   \"circular'\r\n        //   \"tube'\r\n        //   \"zoom-in-out'\r\n        //   \"rotate'\r\n        //\r\n        transitionEffect : \"fade\",\r\n\r\n        // Duration in ms for transition animation\r\n        transitionDuration : 366,\r\n\r\n        // Custom CSS class for slide element\r\n        slideClass : '',\r\n\r\n        // Custom CSS class for layout\r\n        baseClass : '',\r\n\r\n        // Base template for layout\r\n        baseTpl :\r\n            '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\r\n                '<div class=\"fancybox-bg\"></div>' +\r\n                '<div class=\"fancybox-inner\">' +\r\n                    '<div class=\"fancybox-infobar\">' +\r\n                        '<button data-fancybox-prev title=\"{{PREV}}\" class=\"fancybox-button fancybox-button--left\"></button>' +\r\n                        '<div class=\"fancybox-infobar__body\">' +\r\n                            '<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>' +\r\n                        '</div>' +\r\n                        '<button data-fancybox-next title=\"{{NEXT}}\" class=\"fancybox-button fancybox-button--right\"></button>' +\r\n                    '</div>' +\r\n                    '<div class=\"fancybox-toolbar\">' +\r\n                        '{{BUTTONS}}' +\r\n                    '</div>' +\r\n                    '<div class=\"fancybox-navigation\">' +\r\n                        '<button data-fancybox-prev title=\"{{PREV}}\" class=\"fancybox-arrow fancybox-arrow--left\" />' +\r\n                        '<button data-fancybox-next title=\"{{NEXT}}\" class=\"fancybox-arrow fancybox-arrow--right\" />' +\r\n                    '</div>' +\r\n                    '<div class=\"fancybox-stage\"></div>' +\r\n                    '<div class=\"fancybox-caption-wrap\">' +\r\n                        '<div class=\"fancybox-caption\"></div>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n            '</div>',\r\n\r\n        // Loading indicator template\r\n        spinnerTpl : '<div class=\"fancybox-loading\"></div>',\r\n\r\n        // Error message template\r\n        errorTpl : '<div class=\"fancybox-error\"><p>{{ERROR}}<p></div>',\r\n\r\n        btnTpl : {\r\n            slideShow  : '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\"></button>',\r\n            fullScreen : '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\"></button>',\r\n            thumbs     : '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\"></button>',\r\n            close      : '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\"></button>',\r\n\r\n            // This small close button will be appended to your html/inline/ajax content by default,\r\n            // if \"smallBtn\" option is not set to false\r\n            smallBtn   : '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"></button>'\r\n        },\r\n\r\n        // Container is injected into this element\r\n        parentEl : 'body',\r\n\r\n\r\n        // Focus handling\r\n        // ==============\r\n\r\n        // Try to focus on the first focusable element after opening\r\n        autoFocus : true,\r\n\r\n        // Put focus back to active element after closing\r\n        backFocus : true,\r\n\r\n        // Do not let user to focus on element outside modal content\r\n        trapFocus : true,\r\n\r\n\r\n        // Module specific options\r\n        // =======================\r\n\r\n        fullScreen : {\r\n            autoStart : false,\r\n        },\r\n\r\n        touch : {\r\n            vertical : true,  // Allow to drag content vertically\r\n            momentum : true   // Continue movement after releasing mouse/touch when panning\r\n        },\r\n\r\n        // Hash value when initializing manually,\r\n        // set `false` to disable hash change\r\n        hash : null,\r\n\r\n        // Customize or add new media types\r\n        // Example:\r\n        /*\r\n        media : {\r\n            youtube : {\r\n                params : {\r\n                    autoplay : 0\r\n                }\r\n            }\r\n        }\r\n        */\r\n        media : {},\r\n\r\n        slideShow : {\r\n            autoStart : false,\r\n            speed     : 4000\r\n        },\r\n\r\n        thumbs : {\r\n            autoStart   : false,   // Display thumbnails on opening\r\n            hideOnClose : true     // Hide thumbnail grid when closing animation starts\r\n        },\r\n\r\n        // Callbacks\r\n        //==========\r\n\r\n        // See Documentation/API/Events for more information\r\n        // Example:\r\n        /*\r\n            afterShow: function( instance, current ) {\r\n                 console.info( 'Clicked element:' );\r\n                 console.info( current.opts.$orig );\r\n            }\r\n        */\r\n\r\n        onInit       : $.noop,  // When instance has been initialized\r\n\r\n        beforeLoad   : $.noop,  // Before the content of a slide is being loaded\r\n        afterLoad    : $.noop,  // When the content of a slide is done loading\r\n\r\n        beforeShow   : $.noop,  // Before open animation starts\r\n        afterShow    : $.noop,  // When content is done loading and animating\r\n\r\n        beforeClose  : $.noop,  // Before the instance attempts to close. Return false to cancel the close.\r\n        afterClose   : $.noop,  // After instance has been closed\r\n\r\n        onActivate   : $.noop,  // When instance is brought to front\r\n        onDeactivate : $.noop,  // When other instance has been activated\r\n\r\n\r\n        // Interaction\r\n        // ===========\r\n\r\n        // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\r\n        // each option can be string or method that returns value.\r\n        //\r\n        // Possible values:\r\n        //   \"close\"           - close instance\r\n        //   \"next\"            - move to next gallery item\r\n        //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\r\n        //   \"toggleControls\"  - show/hide controls\r\n        //   \"zoom\"            - zoom image (if loaded)\r\n        //   false             - do nothing\r\n\r\n        // Clicked on the content\r\n        clickContent : function( current, event ) {\r\n            return current.type === 'image' ? 'zoom' : false;\r\n        },\r\n\r\n        // Clicked on the slide\r\n        clickSlide : 'close',\r\n\r\n        // Clicked on the background (backdrop) element\r\n        clickOutside : 'close',\r\n\r\n        // Same as previous two, but for double click\r\n        dblclickContent : false,\r\n        dblclickSlide   : false,\r\n        dblclickOutside : false,\r\n\r\n\r\n        // Custom options when mobile device is detected\r\n        // =============================================\r\n\r\n        mobile : {\r\n            clickContent : function( current, event ) {\r\n                return current.type === 'image' ? 'toggleControls' : false;\r\n            },\r\n            clickSlide : function( current, event ) {\r\n                return current.type === 'image' ? 'toggleControls' : \"close\";\r\n            },\r\n            dblclickContent : function( current, event ) {\r\n                return current.type === 'image' ? 'zoom' : false;\r\n            },\r\n            dblclickSlide : function( current, event ) {\r\n                return current.type === 'image' ? 'zoom' : false;\r\n            }\r\n        },\r\n\r\n\r\n        // Internationalization\r\n        // ============\r\n\r\n        lang : 'en',\r\n        i18n : {\r\n            'en' : {\r\n                CLOSE       : 'Close',\r\n                NEXT        : 'Next',\r\n                PREV        : 'Previous',\r\n                ERROR       : 'The requested content cannot be loaded. <br/> Please try again later.',\r\n                PLAY_START  : 'Start slideshow',\r\n                PLAY_STOP   : 'Pause slideshow',\r\n                FULL_SCREEN : 'Full screen',\r\n                THUMBS      : 'Thumbnails'\r\n            },\r\n            'de' : {\r\n                CLOSE       : 'Schliessen',\r\n                NEXT        : 'Weiter',\r\n                PREV        : 'Zurück',\r\n                ERROR       : 'Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.',\r\n                PLAY_START  : 'Diaschau starten',\r\n                PLAY_STOP   : 'Diaschau beenden',\r\n                FULL_SCREEN : 'Vollbild',\r\n                THUMBS      : 'Vorschaubilder'\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    // Few useful variables and methods\r\n    // ================================\r\n\r\n    var $W = $(window);\r\n    var $D = $(document);\r\n\r\n    var called = 0;\r\n\r\n\r\n    // Check if an object is a jQuery object and not a native JavaScript object\r\n    // ========================================================================\r\n\r\n    var isQuery = function ( obj ) {\r\n        return obj && obj.hasOwnProperty && obj instanceof $;\r\n    };\r\n\r\n\r\n    // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\r\n    // ===============================================================================\r\n\r\n    var requestAFrame = (function () {\r\n        return window.requestAnimationFrame ||\r\n                window.webkitRequestAnimationFrame ||\r\n                window.mozRequestAnimationFrame ||\r\n                window.oRequestAnimationFrame ||\r\n                // if all else fails, use setTimeout\r\n                function (callback) {\r\n                    return window.setTimeout(callback, 1000 / 60);\r\n                };\r\n    })();\r\n\r\n\r\n    // Detect the supported transition-end event property name\r\n    // =======================================================\r\n\r\n    var transitionEnd = (function () {\r\n        var t, el = document.createElement(\"fakeelement\");\r\n\r\n        var transitions = {\r\n            \"transition\"      : \"transitionend\",\r\n            \"OTransition\"     : \"oTransitionEnd\",\r\n            \"MozTransition\"   : \"transitionend\",\r\n            \"WebkitTransition\": \"webkitTransitionEnd\"\r\n        };\r\n\r\n        for (t in transitions) {\r\n            if (el.style[t] !== undefined){\r\n                return transitions[t];\r\n            }\r\n        }\r\n    })();\r\n\r\n\r\n    // Force redraw on an element.\r\n    // This helps in cases where the browser doesn't redraw an updated element properly.\r\n    // =================================================================================\r\n\r\n    var forceRedraw = function( $el ) {\r\n        return ( $el && $el.length && $el[0].offsetHeight );\r\n    };\r\n\r\n\r\n    // Class definition\r\n    // ================\r\n\r\n    var FancyBox = function( content, opts, index ) {\r\n        var self = this;\r\n\r\n        self.opts  = $.extend( true, { index : index }, defaults, opts || {} );\r\n\r\n        // Exclude buttons option from deep merging\r\n        if ( opts && $.isArray( opts.buttons ) ) {\r\n            self.opts.buttons = opts.buttons;\r\n        }\r\n\r\n        self.id    = self.opts.id || ++called;\r\n        self.group = [];\r\n\r\n        self.currIndex = parseInt( self.opts.index, 10 ) || 0;\r\n        self.prevIndex = null;\r\n\r\n        self.prevPos = null;\r\n        self.currPos = 0;\r\n\r\n        self.firstRun = null;\r\n\r\n        // Create group elements from original item collection\r\n        self.createGroup( content );\r\n\r\n        if ( !self.group.length ) {\r\n            return;\r\n        }\r\n\r\n        // Save last active element and current scroll position\r\n        self.$lastFocus = $(document.activeElement).blur();\r\n\r\n        // Collection of gallery objects\r\n        self.slides = {};\r\n\r\n        self.init( content );\r\n\r\n    };\r\n\r\n    $.extend(FancyBox.prototype, {\r\n\r\n        // Create DOM structure\r\n        // ====================\r\n\r\n        init : function() {\r\n            var self = this;\r\n\r\n            var testWidth, $container, buttonStr;\r\n\r\n            var firstItemOpts = self.group[ self.currIndex ].opts;\r\n\r\n            self.scrollTop  = $D.scrollTop();\r\n            self.scrollLeft = $D.scrollLeft();\r\n\r\n\r\n            // Hide scrollbars\r\n            // ===============\r\n\r\n            if ( !$.fancybox.getInstance() && !$.fancybox.isMobile && $( 'body' ).css('overflow') !== 'hidden' ) {\r\n                testWidth = $( 'body' ).width();\r\n\r\n                $( 'html' ).addClass( 'fancybox-enabled' );\r\n\r\n                // Compare body width after applying \"overflow: hidden\"\r\n                testWidth = $( 'body' ).width() - testWidth;\r\n\r\n                // If width has changed - compensate missing scrollbars by adding right margin\r\n                if ( testWidth > 1 ) {\r\n                    $( 'head' ).append( '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: ' + testWidth + 'px; }</style>' );\r\n                }\r\n            }\r\n\r\n\r\n            // Build html markup and set references\r\n            // ====================================\r\n\r\n            // Build html code for buttons and insert into main template\r\n            buttonStr = '';\r\n\r\n            $.each( firstItemOpts.buttons, function( index, value ) {\r\n                buttonStr += ( firstItemOpts.btnTpl[ value ] || '' );\r\n            });\r\n\r\n            // Create markup from base template, it will be initially hidden to\r\n            // avoid unnecessary work like painting while initializing is not complete\r\n            $container = $( self.translate( self, firstItemOpts.baseTpl.replace( '\\{\\{BUTTONS\\}\\}', buttonStr ) ) )\r\n                .addClass( 'fancybox-is-hidden' )\r\n                .attr('id', 'fancybox-container-' + self.id)\r\n                .addClass( firstItemOpts.baseClass )\r\n                .data( 'FancyBox', self )\r\n                .prependTo( firstItemOpts.parentEl );\r\n\r\n            // Create object holding references to jQuery wrapped nodes\r\n            self.$refs = {\r\n                container : $container\r\n            };\r\n\r\n            [ 'bg', 'inner', 'infobar', 'toolbar', 'stage', 'caption' ].forEach(function(item) {\r\n                self.$refs[ item ] = $container.find( '.fancybox-' + item );\r\n            });\r\n\r\n            // Check for redundant elements\r\n            if ( !firstItemOpts.arrows || self.group.length < 2 ) {\r\n                $container.find('.fancybox-navigation').remove();\r\n            }\r\n\r\n            if ( !firstItemOpts.infobar ) {\r\n                self.$refs.infobar.remove();\r\n            }\r\n\r\n            if ( !firstItemOpts.toolbar ) {\r\n                self.$refs.toolbar.remove();\r\n            }\r\n\r\n            self.trigger( 'onInit' );\r\n\r\n            // Bring to front and enable events\r\n            self.activate();\r\n\r\n            // Build slides, load and reveal content\r\n            self.jumpTo( self.currIndex );\r\n        },\r\n\r\n\r\n        // Simple i18n support - replaces object keys found in template\r\n        // with corresponding values\r\n        // ============================================================\r\n\r\n        translate : function( obj, str ) {\r\n            var arr = obj.opts.i18n[ obj.opts.lang ];\r\n\r\n            return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\r\n                var value = arr[n];\r\n\r\n                if ( value === undefined ) {\r\n                    return match;\r\n                }\r\n\r\n                return value;\r\n            });\r\n        },\r\n\r\n        // Create array of gally item objects\r\n        // Check if each object has valid type and content\r\n        // ===============================================\r\n\r\n        createGroup : function ( content ) {\r\n            var self  = this;\r\n            var items = $.makeArray( content );\r\n\r\n            $.each(items, function( i, item ) {\r\n                var obj  = {},\r\n                    opts = {},\r\n                    data = [],\r\n                    $item,\r\n                    type,\r\n                    src,\r\n                    srcParts;\r\n\r\n                // Step 1 - Make sure we have an object\r\n                // ====================================\r\n\r\n                if ( $.isPlainObject( item ) ) {\r\n\r\n                    // We probably have manual usage here, something like\r\n                    // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\r\n\r\n                    obj  = item;\r\n                    opts = item.opts || item;\r\n\r\n                } else if ( $.type( item ) === 'object' && $( item ).length ) {\r\n\r\n                    // Here we propbably have jQuery collection returned by some selector\r\n\r\n                    $item = $( item );\r\n                    data  = $item.data();\r\n\r\n                    opts = 'options' in data ? data.options : {};\r\n                    opts = $.type( opts ) === 'object' ? opts : {};\r\n\r\n                    obj.src  = 'src' in data ? data.src : ( opts.src || $item.attr( 'href' ) );\r\n\r\n                    [ 'width', 'height', 'thumb', 'type', 'filter' ].forEach(function(item) {\r\n                        if ( item in data ) {\r\n                            opts[ item ] = data[ item ];\r\n                        }\r\n                    });\r\n\r\n                    if ( 'srcset' in data ) {\r\n                        opts.image = { srcset : data.srcset };\r\n                    }\r\n\r\n                    opts.$orig = $item;\r\n\r\n                    if ( !obj.type && !obj.src ) {\r\n                        obj.type = 'inline';\r\n                        obj.src  = item;\r\n                    }\r\n\r\n                } else {\r\n\r\n                    // Assume we have a simple html code, for example:\r\n                    // $.fancybox.open( '<div><h1>Hi!</h1></div>' );\r\n\r\n                    obj = {\r\n                        type : 'html',\r\n                        src  : item + ''\r\n                    };\r\n\r\n                }\r\n\r\n                // Each gallery object has full collection of options\r\n                obj.opts = $.extend( true, {}, self.opts, opts );\r\n\r\n                if ( $.fancybox.isMobile ) {\r\n                    obj.opts = $.extend( true, {}, obj.opts, obj.opts.mobile );\r\n                }\r\n\r\n\r\n                // Step 2 - Make sure we have content type, if not - try to guess\r\n                // ==============================================================\r\n\r\n                type = obj.type || obj.opts.type;\r\n                src  = obj.src || '';\r\n\r\n                if ( !type && src ) {\r\n                    if ( src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i) ) {\r\n                        type = 'image';\r\n\r\n                    } else if ( src.match(/\\.(pdf)((\\?|#).*)?$/i) ) {\r\n                        type = 'pdf';\r\n\r\n                    } else if ( src.charAt(0) === '#' ) {\r\n                        type = 'inline';\r\n                    }\r\n                }\r\n\r\n                obj.type = type;\r\n\r\n\r\n                // Step 3 - Some adjustments\r\n                // =========================\r\n\r\n                obj.index = self.group.length;\r\n\r\n                // Check if $orig and $thumb objects exist\r\n                if ( obj.opts.$orig && !obj.opts.$orig.length ) {\r\n                    delete obj.opts.$orig;\r\n                }\r\n\r\n                if ( !obj.opts.$thumb && obj.opts.$orig ) {\r\n                    obj.opts.$thumb = obj.opts.$orig.find( 'img:first' );\r\n                }\r\n\r\n                if ( obj.opts.$thumb && !obj.opts.$thumb.length ) {\r\n                    delete obj.opts.$thumb;\r\n                }\r\n\r\n                // Caption is a \"special\" option, it can be passed as a method\r\n                if ( $.type( obj.opts.caption ) === 'function' ) {\r\n                    obj.opts.caption = obj.opts.caption.apply( item, [ self, obj ] );\r\n\r\n                } else if ( 'caption' in data ) {\r\n                    obj.opts.caption = data.caption;\r\n                }\r\n\r\n                // Make sure we have caption as a string\r\n                obj.opts.caption = obj.opts.caption === undefined ? '' : obj.opts.caption + '';\r\n\r\n                // Check if url contains \"filter\" used to filter the content\r\n                // Example: \"ajax.html #something\"\r\n                if ( type === 'ajax' ) {\r\n                    srcParts = src.split(/\\s+/, 2);\r\n\r\n                    if ( srcParts.length > 1 ) {\r\n                        obj.src = srcParts.shift();\r\n\r\n                        obj.opts.filter = srcParts.shift();\r\n                    }\r\n                }\r\n\r\n                if ( obj.opts.smallBtn == 'auto' ) {\r\n\r\n                    if ( $.inArray( type, ['html', 'inline', 'ajax'] ) > -1 ) {\r\n                        obj.opts.toolbar  = false;\r\n                        obj.opts.smallBtn = true;\r\n\r\n                    } else {\r\n                        obj.opts.smallBtn = false;\r\n                    }\r\n\r\n                }\r\n\r\n                // If the type is \"pdf\", then simply load file into iframe\r\n                if ( type === 'pdf' ) {\r\n                    obj.type = 'iframe';\r\n\r\n                    obj.opts.iframe.preload = false;\r\n                }\r\n\r\n                // Hide all buttons and disable interactivity for modal items\r\n                if ( obj.opts.modal ) {\r\n\r\n                    obj.opts = $.extend(true, obj.opts, {\r\n                        // Remove buttons\r\n                        infobar : 0,\r\n                        toolbar : 0,\r\n\r\n                        smallBtn : 0,\r\n\r\n                        // Disable keyboard navigation\r\n                        keyboard : 0,\r\n\r\n                        // Disable some modules\r\n                        slideShow  : 0,\r\n                        fullScreen : 0,\r\n                        thumbs     : 0,\r\n                        touch      : 0,\r\n\r\n                        // Disable click event handlers\r\n                        clickContent    : false,\r\n                        clickSlide      : false,\r\n                        clickOutside    : false,\r\n                        dblclickContent : false,\r\n                        dblclickSlide   : false,\r\n                        dblclickOutside : false\r\n                    });\r\n\r\n                }\r\n\r\n                // Step 4 - Add processed object to group\r\n                // ======================================\r\n\r\n                self.group.push( obj );\r\n\r\n            });\r\n\r\n        },\r\n\r\n\r\n        // Attach an event handler functions for:\r\n        //   - navigation buttons\r\n        //   - browser scrolling, resizing;\r\n        //   - focusing\r\n        //   - keyboard\r\n        //   - detect idle\r\n        // ======================================\r\n\r\n        addEvents : function() {\r\n            var self = this;\r\n\r\n            self.removeEvents();\r\n\r\n            // Make navigation elements clickable\r\n            self.$refs.container.on('click.fb-close', '[data-fancybox-close]', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                self.close( e );\r\n\r\n            }).on( 'click.fb-prev touchend.fb-prev', '[data-fancybox-prev]', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                self.previous();\r\n\r\n            }).on( 'click.fb-next touchend.fb-next', '[data-fancybox-next]', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                self.next();\r\n\r\n            });\r\n\r\n\r\n            // Handle page scrolling and browser resizing\r\n            $W.on('orientationchange.fb resize.fb', function(e) {\r\n\r\n                if ( e && e.originalEvent && e.originalEvent.type === \"resize\" ) {\r\n\r\n                    requestAFrame(function() {\r\n                        self.update();\r\n                    });\r\n\r\n                } else {\r\n\r\n                    self.$refs.stage.hide();\r\n\r\n                    setTimeout(function() {\r\n                        self.$refs.stage.show();\r\n\r\n                        self.update();\r\n                    }, 500);\r\n\r\n                }\r\n\r\n            });\r\n\r\n            // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\r\n            // (a.k.a. \"escaping the modal\")\r\n            $D.on('focusin.fb', function(e) {\r\n                var instance = $.fancybox ? $.fancybox.getInstance() : null;\r\n\r\n                if ( instance.isClosing || !instance.current || !instance.current.opts.trapFocus || $( e.target ).hasClass( 'fancybox-container' ) || $( e.target ).is( document ) ) {\r\n                    return;\r\n                }\r\n\r\n                if ( instance && $( e.target ).css( 'position' ) !== 'fixed' && !instance.$refs.container.has( e.target ).length ) {\r\n                    e.stopPropagation();\r\n\r\n                    instance.focus();\r\n\r\n                    // Sometimes page gets scrolled, set it back\r\n                    $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\r\n                }\r\n            });\r\n\r\n\r\n            // Enable keyboard navigation\r\n            $D.on('keydown.fb', function (e) {\r\n                var current = self.current,\r\n                    keycode = e.keyCode || e.which;\r\n\r\n                if ( !current || !current.opts.keyboard ) {\r\n                    return;\r\n                }\r\n\r\n                if ( $(e.target).is('input') || $(e.target).is('textarea') ) {\r\n                    return;\r\n                }\r\n\r\n                // Backspace and Esc keys\r\n                if ( keycode === 8 || keycode === 27 ) {\r\n                    e.preventDefault();\r\n\r\n                    self.close( e );\r\n\r\n                    return;\r\n                }\r\n\r\n                // Left arrow and Up arrow\r\n                if ( keycode === 37 || keycode === 38 ) {\r\n                    e.preventDefault();\r\n\r\n                    self.previous();\r\n\r\n                    return;\r\n                }\r\n\r\n                // Righ arrow and Down arrow\r\n                if ( keycode === 39 || keycode === 40 ) {\r\n                    e.preventDefault();\r\n\r\n                    self.next();\r\n\r\n                    return;\r\n                }\r\n\r\n                self.trigger('afterKeydown', e, keycode);\r\n            });\r\n\r\n\r\n            // Hide controls after some inactivity period\r\n            if ( self.group[ self.currIndex ].opts.idleTime ) {\r\n                self.idleSecondsCounter = 0;\r\n\r\n                $D.on('mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle', function() {\r\n                    self.idleSecondsCounter = 0;\r\n\r\n                    if ( self.isIdle ) {\r\n                        self.showControls();\r\n                    }\r\n\r\n                    self.isIdle = false;\r\n                });\r\n\r\n                self.idleInterval = window.setInterval(function() {\r\n\r\n                    self.idleSecondsCounter++;\r\n\r\n                    if ( self.idleSecondsCounter >= self.group[ self.currIndex ].opts.idleTime ) {\r\n                        self.isIdle = true;\r\n                        self.idleSecondsCounter = 0;\r\n\r\n                        self.hideControls();\r\n                    }\r\n\r\n                }, 1000);\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Remove events added by the core\r\n        // ===============================\r\n\r\n        removeEvents : function () {\r\n            var self = this;\r\n\r\n            $W.off( 'orientationchange.fb resize.fb' );\r\n            $D.off( 'focusin.fb keydown.fb .fb-idle' );\r\n\r\n            this.$refs.container.off( '.fb-close .fb-prev .fb-next' );\r\n\r\n            if ( self.idleInterval ) {\r\n                window.clearInterval( self.idleInterval );\r\n\r\n                self.idleInterval = null;\r\n            }\r\n        },\r\n\r\n\r\n        // Change to previous gallery item\r\n        // ===============================\r\n\r\n        previous : function( duration ) {\r\n            return this.jumpTo( this.currPos - 1, duration );\r\n        },\r\n\r\n\r\n        // Change to next gallery item\r\n        // ===========================\r\n\r\n        next : function( duration ) {\r\n            return this.jumpTo( this.currPos + 1, duration );\r\n        },\r\n\r\n\r\n        // Switch to selected gallery item\r\n        // ===============================\r\n\r\n        jumpTo : function ( pos, duration, slide ) {\r\n            var self = this,\r\n                firstRun,\r\n                loop,\r\n                current,\r\n                previous,\r\n                canvasWidth,\r\n                currentPos,\r\n                transitionProps;\r\n\r\n            var groupLen = self.group.length;\r\n\r\n            if ( self.isSliding || self.isClosing || ( self.isAnimating && self.firstRun ) ) {\r\n                return;\r\n            }\r\n\r\n            pos  = parseInt( pos, 10 );\r\n            loop = self.current ? self.current.opts.loop : self.opts.loop;\r\n\r\n            if ( !loop && ( pos < 0 || pos >= groupLen ) ) {\r\n                return false;\r\n            }\r\n\r\n            firstRun = self.firstRun = ( self.firstRun === null );\r\n\r\n            if ( groupLen < 2 && !firstRun && !!self.isSliding ) {\r\n                return;\r\n            }\r\n\r\n            previous = self.current;\r\n\r\n            self.prevIndex = self.currIndex;\r\n            self.prevPos   = self.currPos;\r\n\r\n            // Create slides\r\n            current = self.createSlide( pos );\r\n\r\n            if ( groupLen > 1 ) {\r\n                if ( loop || current.index > 0 ) {\r\n                    self.createSlide( pos - 1 );\r\n                }\r\n\r\n                if ( loop || current.index < groupLen - 1 ) {\r\n                    self.createSlide( pos + 1 );\r\n                }\r\n            }\r\n\r\n            self.current   = current;\r\n            self.currIndex = current.index;\r\n            self.currPos   = current.pos;\r\n\r\n            self.trigger( 'beforeShow', firstRun );\r\n\r\n            self.updateControls();\r\n\r\n            currentPos = $.fancybox.getTranslate( current.$slide );\r\n\r\n            current.isMoved        = ( currentPos.left !== 0 || currentPos.top !== 0 ) && !current.$slide.hasClass( 'fancybox-animated' );\r\n            current.forcedDuration = undefined;\r\n\r\n            if ( $.isNumeric( duration ) ) {\r\n                current.forcedDuration = duration;\r\n            } else {\r\n                duration = current.opts[ firstRun ? 'animationDuration' : 'transitionDuration' ];\r\n            }\r\n\r\n            duration = parseInt( duration, 10 );\r\n\r\n            // Fresh start - reveal container, current slide and start loading content\r\n            if ( firstRun ) {\r\n\r\n                if ( current.opts.animationEffect && duration ) {\r\n                    self.$refs.container.css( 'transition-duration', duration + 'ms' );\r\n                }\r\n\r\n                self.$refs.container.removeClass( 'fancybox-is-hidden' );\r\n\r\n                forceRedraw( self.$refs.container );\r\n\r\n                self.$refs.container.addClass( 'fancybox-is-open' );\r\n\r\n                // Make first slide visible (to display loading icon, if needed)\r\n                current.$slide.addClass( 'fancybox-slide--current' );\r\n\r\n                self.loadSlide( current );\r\n\r\n                self.preload();\r\n\r\n                return;\r\n            }\r\n\r\n            // Clean up\r\n            $.each(self.slides, function( index, slide ) {\r\n                $.fancybox.stop( slide.$slide );\r\n            });\r\n\r\n            // Make current that slide is visible even if content is still loading\r\n            current.$slide.removeClass( 'fancybox-slide--next fancybox-slide--previous' ).addClass( 'fancybox-slide--current' );\r\n\r\n            // If slides have been dragged, animate them to correct position\r\n            if ( current.isMoved ) {\r\n                canvasWidth = Math.round( current.$slide.width() );\r\n\r\n                $.each(self.slides, function( index, slide ) {\r\n                    var pos = slide.pos - current.pos;\r\n\r\n                    $.fancybox.animate( slide.$slide, {\r\n                        top  : 0,\r\n                        left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter )\r\n                    }, duration, function() {\r\n\r\n                        slide.$slide.removeAttr('style').removeClass( 'fancybox-slide--next fancybox-slide--previous' );\r\n\r\n                        if ( slide.pos === self.currPos ) {\r\n                            current.isMoved = false;\r\n\r\n                            self.complete();\r\n                        }\r\n                    });\r\n                });\r\n\r\n            } else {\r\n                self.$refs.stage.children().removeAttr( 'style' );\r\n            }\r\n\r\n            // Start transition that reveals current content\r\n            // or wait when it will be loaded\r\n\r\n            if ( current.isLoaded ) {\r\n                self.revealContent( current );\r\n\r\n            } else {\r\n                self.loadSlide( current );\r\n            }\r\n\r\n            self.preload();\r\n\r\n            if ( previous.pos === current.pos ) {\r\n                return;\r\n            }\r\n\r\n            // Handle previous slide\r\n            // =====================\r\n\r\n            transitionProps = 'fancybox-slide--' + ( previous.pos > current.pos ? 'next' : 'previous' );\r\n\r\n            previous.$slide.removeClass( 'fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous' );\r\n\r\n            previous.isComplete = false;\r\n\r\n            if ( !duration || ( !current.isMoved && !current.opts.transitionEffect ) ) {\r\n                return;\r\n            }\r\n\r\n            if ( current.isMoved ) {\r\n                previous.$slide.addClass( transitionProps );\r\n\r\n            } else {\r\n\r\n                transitionProps = 'fancybox-animated ' + transitionProps + ' fancybox-fx-' + current.opts.transitionEffect;\r\n\r\n                $.fancybox.animate( previous.$slide, transitionProps, duration, function() {\r\n                    previous.$slide.removeClass( transitionProps ).removeAttr( 'style' );\r\n                });\r\n\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Create new \"slide\" element\r\n        // These are gallery items  that are actually added to DOM\r\n        // =======================================================\r\n\r\n        createSlide : function( pos ) {\r\n\r\n            var self = this;\r\n            var $slide;\r\n            var index;\r\n\r\n            index = pos % self.group.length;\r\n            index = index < 0 ? self.group.length + index : index;\r\n\r\n            if ( !self.slides[ pos ] && self.group[ index ] ) {\r\n                $slide = $('<div class=\"fancybox-slide\"></div>').appendTo( self.$refs.stage );\r\n\r\n                self.slides[ pos ] = $.extend( true, {}, self.group[ index ], {\r\n                    pos      : pos,\r\n                    $slide   : $slide,\r\n                    isLoaded : false,\r\n                });\r\n\r\n                self.updateSlide( self.slides[ pos ] );\r\n            }\r\n\r\n            return self.slides[ pos ];\r\n        },\r\n\r\n\r\n        // Scale image to the actual size of the image\r\n        // ===========================================\r\n\r\n        scaleToActual : function( x, y, duration ) {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var $what   = current.$content;\r\n\r\n            var imgPos, posX, posY, scaleX, scaleY;\r\n\r\n            var canvasWidth  = parseInt( current.$slide.width(), 10 );\r\n            var canvasHeight = parseInt( current.$slide.height(), 10 );\r\n\r\n            var newImgWidth  = current.width;\r\n            var newImgHeight = current.height;\r\n\r\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating) {\r\n                return;\r\n            }\r\n\r\n            $.fancybox.stop( $what );\r\n\r\n            self.isAnimating = true;\r\n\r\n            x = x === undefined ? canvasWidth  * 0.5  : x;\r\n            y = y === undefined ? canvasHeight * 0.5  : y;\r\n\r\n            imgPos = $.fancybox.getTranslate( $what );\r\n\r\n            scaleX  = newImgWidth  / imgPos.width;\r\n            scaleY  = newImgHeight / imgPos.height;\r\n\r\n            // Get center position for original image\r\n            posX = ( canvasWidth * 0.5  - newImgWidth * 0.5 );\r\n            posY = ( canvasHeight * 0.5 - newImgHeight * 0.5 );\r\n\r\n            // Make sure image does not move away from edges\r\n            if ( newImgWidth > canvasWidth ) {\r\n                posX = imgPos.left * scaleX - ( ( x * scaleX ) - x );\r\n\r\n                if ( posX > 0 ) {\r\n                    posX = 0;\r\n                }\r\n\r\n                if ( posX <  canvasWidth - newImgWidth ) {\r\n                    posX = canvasWidth - newImgWidth;\r\n                }\r\n            }\r\n\r\n            if ( newImgHeight > canvasHeight) {\r\n                posY = imgPos.top  * scaleY - ( ( y * scaleY ) - y );\r\n\r\n                if ( posY > 0 ) {\r\n                    posY = 0;\r\n                }\r\n\r\n                if ( posY <  canvasHeight - newImgHeight ) {\r\n                    posY = canvasHeight - newImgHeight;\r\n                }\r\n            }\r\n\r\n            self.updateCursor( newImgWidth, newImgHeight );\r\n\r\n            $.fancybox.animate( $what, {\r\n                top    : posY,\r\n                left   : posX,\r\n                scaleX : scaleX,\r\n                scaleY : scaleY\r\n            }, duration || 330, function() {\r\n                self.isAnimating = false;\r\n            });\r\n\r\n            // Stop slideshow\r\n            if ( self.SlideShow && self.SlideShow.isActive ) {\r\n                self.SlideShow.stop();\r\n            }\r\n        },\r\n\r\n\r\n        // Scale image to fit inside parent element\r\n        // ========================================\r\n\r\n        scaleToFit : function( duration ) {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var $what   = current.$content;\r\n            var end;\r\n\r\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\r\n                return;\r\n            }\r\n\r\n            $.fancybox.stop( $what );\r\n\r\n            self.isAnimating = true;\r\n\r\n            end = self.getFitPos( current );\r\n\r\n            self.updateCursor( end.width, end.height );\r\n\r\n            $.fancybox.animate( $what, {\r\n                top    : end.top,\r\n                left   : end.left,\r\n                scaleX : end.width  / $what.width(),\r\n                scaleY : end.height / $what.height()\r\n            }, duration || 330, function() {\r\n                self.isAnimating = false;\r\n            });\r\n\r\n        },\r\n\r\n        // Calculate image size to fit inside viewport\r\n        // ===========================================\r\n\r\n        getFitPos : function( slide ) {\r\n            var self  = this;\r\n            var $what = slide.$content;\r\n\r\n            var imgWidth  = slide.width;\r\n            var imgHeight = slide.height;\r\n\r\n            var margin = slide.opts.margin;\r\n\r\n            var canvasWidth, canvasHeight, minRatio, width, height;\r\n\r\n            if ( !$what || !$what.length || ( !imgWidth && !imgHeight) ) {\r\n                return false;\r\n            }\r\n\r\n            // Convert \"margin to CSS style: [ top, right, bottom, left ]\r\n            if ( $.type( margin ) === \"number\" ) {\r\n                margin = [ margin, margin ];\r\n            }\r\n\r\n            if ( margin.length == 2 ) {\r\n                margin = [ margin[0], margin[1], margin[0], margin[1] ];\r\n            }\r\n\r\n            if ( $W.width() < 800 ) {\r\n                margin = [ 0, 0, 0, 0 ];\r\n            }\r\n\r\n            // We can not use $slide width here, because it can have different diemensions while in transiton\r\n            canvasWidth  = parseInt( self.$refs.stage.width(), 10 )  - ( margin[ 1 ] + margin[ 3 ] );\r\n            canvasHeight = parseInt( self.$refs.stage.height(), 10 ) - ( margin[ 0 ] + margin[ 2 ] );\r\n\r\n            minRatio = Math.min(1, canvasWidth / imgWidth, canvasHeight / imgHeight );\r\n\r\n            width  = Math.floor( minRatio * imgWidth );\r\n            height = Math.floor( minRatio * imgHeight );\r\n\r\n            // Use floor rounding to make sure it really fits\r\n            return {\r\n                top    : Math.floor( ( canvasHeight - height ) * 0.5 ) + margin[ 0 ],\r\n                left   : Math.floor( ( canvasWidth  - width )  * 0.5 ) + margin[ 3 ],\r\n                width  : width,\r\n                height : height\r\n            };\r\n\r\n        },\r\n\r\n\r\n        // Update position and content of all slides\r\n        // =========================================\r\n\r\n        update : function() {\r\n\r\n            var self = this;\r\n\r\n            $.each( self.slides, function( key, slide ) {\r\n                self.updateSlide( slide );\r\n            });\r\n\r\n        },\r\n\r\n\r\n        // Update slide position and scale content to fit\r\n        // ==============================================\r\n\r\n        updateSlide : function( slide ) {\r\n\r\n            var self  = this;\r\n            var $what = slide.$content;\r\n\r\n            if ( $what && ( slide.width || slide.height ) ) {\r\n                $.fancybox.stop( $what );\r\n\r\n                $.fancybox.setTranslate( $what, self.getFitPos( slide ) );\r\n\r\n                if ( slide.pos === self.currPos ) {\r\n                    self.updateCursor();\r\n                }\r\n            }\r\n\r\n            slide.$slide.trigger( 'refresh' );\r\n\r\n            self.trigger( 'onUpdate', slide );\r\n\r\n        },\r\n\r\n        // Update cursor style depending if content can be zoomed\r\n        // ======================================================\r\n\r\n        updateCursor : function( nextWidth, nextHeight ) {\r\n\r\n            var self = this;\r\n            var isScaledDown;\r\n\r\n            var $container = self.$refs.container.removeClass('fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut');\r\n\r\n            if ( !self.current || self.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            if ( self.isZoomable() ) {\r\n\r\n                $container.addClass( 'fancybox-is-zoomable' );\r\n\r\n                if ( nextWidth !== undefined && nextHeight !== undefined ) {\r\n                    isScaledDown = nextWidth < self.current.width && nextHeight < self.current.height;\r\n\r\n                } else {\r\n                    isScaledDown = self.isScaledDown();\r\n                }\r\n\r\n                if ( isScaledDown ) {\r\n\r\n                    // If image is scaled down, then, obviously, it can be zoomed to full size\r\n                    $container.addClass('fancybox-can-zoomIn');\r\n\r\n                } else {\r\n\r\n                    if ( self.current.opts.touch ) {\r\n\r\n                        // If image size ir largen than available available and touch module is not disable,\r\n                        // then user can do panning\r\n                        $container.addClass('fancybox-can-drag');\r\n\r\n                    } else {\r\n                        $container.addClass('fancybox-can-zoomOut');\r\n                    }\r\n\r\n                }\r\n\r\n            } else if ( self.current.opts.touch ) {\r\n                $container.addClass('fancybox-can-drag');\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Check if current slide is zoomable\r\n        // ==================================\r\n\r\n        isZoomable : function() {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var fitPos;\r\n\r\n            if ( !current || self.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            // Assume that slide is zoomable if\r\n            //   - image is loaded successfuly\r\n            //   - click action is \"zoom\"\r\n            //   - actual size of the image is smaller than available area\r\n            if ( current.type === 'image' && current.isLoaded && !current.hasError &&\r\n                ( current.opts.clickContent === 'zoom' || ( $.isFunction( current.opts.clickContent ) && current.opts.clickContent( current ) ===  \"zoom\" ) )\r\n            ) {\r\n\r\n                fitPos = self.getFitPos( current );\r\n\r\n                if ( current.width > fitPos.width || current.height > fitPos.height ) {\r\n                    return true;\r\n                }\r\n\r\n            }\r\n\r\n            return false;\r\n\r\n        },\r\n\r\n\r\n        // Check if current image dimensions are smaller than actual\r\n        // =========================================================\r\n\r\n        isScaledDown : function() {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var $what   = current.$content;\r\n\r\n            var rez = false;\r\n\r\n            if ( $what ) {\r\n                rez = $.fancybox.getTranslate( $what );\r\n                rez = rez.width < current.width || rez.height < current.height;\r\n            }\r\n\r\n            return rez;\r\n\r\n        },\r\n\r\n\r\n        // Check if image dimensions exceed parent element\r\n        // ===============================================\r\n\r\n        canPan : function() {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var $what   = current.$content;\r\n\r\n            var rez = false;\r\n\r\n            if ( $what ) {\r\n                rez = self.getFitPos( current );\r\n                rez = Math.abs( $what.width() - rez.width ) > 1  || Math.abs( $what.height() - rez.height ) > 1;\r\n\r\n            }\r\n\r\n            return rez;\r\n\r\n        },\r\n\r\n\r\n        // Load content into the slide\r\n        // ===========================\r\n\r\n        loadSlide : function( slide ) {\r\n\r\n            var self = this, type, $slide;\r\n            var ajaxLoad;\r\n\r\n            if ( slide.isLoading ) {\r\n                return;\r\n            }\r\n\r\n            if ( slide.isLoaded ) {\r\n                return;\r\n            }\r\n\r\n            slide.isLoading = true;\r\n\r\n            self.trigger( 'beforeLoad', slide );\r\n\r\n            type   = slide.type;\r\n            $slide = slide.$slide;\r\n\r\n            $slide\r\n                .off( 'refresh' )\r\n                .trigger( 'onReset' )\r\n                .addClass( 'fancybox-slide--' + ( type || 'unknown' ) )\r\n                .addClass( slide.opts.slideClass );\r\n\r\n            // Create content depending on the type\r\n\r\n            switch ( type ) {\r\n\r\n                case 'image':\r\n\r\n                    self.setImage( slide );\r\n\r\n                break;\r\n\r\n                case 'iframe':\r\n\r\n                    self.setIframe( slide );\r\n\r\n                break;\r\n\r\n                case 'html':\r\n\r\n                    self.setContent( slide, slide.src || slide.content );\r\n\r\n                break;\r\n\r\n                case 'inline':\r\n\r\n                    if ( $( slide.src ).length ) {\r\n                        self.setContent( slide, $( slide.src ) );\r\n\r\n                    } else {\r\n                        self.setError( slide );\r\n                    }\r\n\r\n                break;\r\n\r\n                case 'ajax':\r\n\r\n                    self.showLoading( slide );\r\n\r\n                    ajaxLoad = $.ajax( $.extend( {}, slide.opts.ajax.settings, {\r\n                        url : slide.src,\r\n                        success : function ( data, textStatus ) {\r\n\r\n                            if ( textStatus === 'success' ) {\r\n                                self.setContent( slide, data );\r\n                            }\r\n\r\n                        },\r\n                        error : function ( jqXHR, textStatus ) {\r\n\r\n                            if ( jqXHR && textStatus !== 'abort' ) {\r\n                                self.setError( slide );\r\n                            }\r\n\r\n                        }\r\n                    }));\r\n\r\n                    $slide.one( 'onReset', function () {\r\n                        ajaxLoad.abort();\r\n                    });\r\n\r\n                break;\r\n\r\n                default:\r\n\r\n                    self.setError( slide );\r\n\r\n                break;\r\n\r\n            }\r\n\r\n            return true;\r\n\r\n        },\r\n\r\n\r\n        // Use thumbnail image, if possible\r\n        // ================================\r\n\r\n        setImage : function( slide ) {\r\n\r\n            var self   = this;\r\n            var srcset = slide.opts.image.srcset;\r\n\r\n            var found, temp, pxRatio, windowWidth;\r\n\r\n            // If we have \"srcset\", then we need to find matching \"src\" value.\r\n            // This is necessary, because when you set an src attribute, the browser will preload the image\r\n            // before any javascript or even CSS is applied.\r\n            if ( srcset ) {\r\n                pxRatio     = window.devicePixelRatio || 1;\r\n                windowWidth = window.innerWidth  * pxRatio;\r\n\r\n                temp = srcset.split(',').map(function ( el ) {\r\n                    var ret = {};\r\n\r\n                    el.trim().split(/\\s+/).forEach(function ( el, i ) {\r\n                        var value = parseInt( el.substring(0, el.length - 1), 10 );\r\n\r\n                        if ( i === 0 ) {\r\n                            return ( ret.url = el );\r\n                        }\r\n\r\n                        if ( value ) {\r\n                            ret.value   = value;\r\n                            ret.postfix = el[ el.length - 1 ];\r\n                        }\r\n\r\n                    });\r\n\r\n                    return ret;\r\n                });\r\n\r\n                // Sort by value\r\n                temp.sort(function (a, b) {\r\n                  return a.value - b.value;\r\n                });\r\n\r\n                // Ok, now we have an array of all srcset values\r\n                for ( var j = 0; j < temp.length; j++ ) {\r\n                    var el = temp[ j ];\r\n\r\n                    if ( ( el.postfix === 'w' && el.value >= windowWidth ) || ( el.postfix === 'x' && el.value >= pxRatio ) ) {\r\n                        found = el;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                // If not found, take the last one\r\n                if ( !found && temp.length ) {\r\n                    found = temp[ temp.length - 1 ];\r\n                }\r\n\r\n                if ( found ) {\r\n                    slide.src = found.url;\r\n\r\n                    // If we have default width/height values, we can calculate height for matching source\r\n                    if ( slide.width && slide.height && found.postfix == 'w' ) {\r\n                        slide.height = ( slide.width / slide.height ) * found.value;\r\n                        slide.width  = found.value;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // This will be wrapper containing both ghost and actual image\r\n            slide.$content = $('<div class=\"fancybox-image-wrap\"></div>')\r\n                .addClass( 'fancybox-is-hidden' )\r\n                .appendTo( slide.$slide );\r\n\r\n\r\n            // If we have a thumbnail, we can display it while actual image is loading\r\n            // Users will not stare at black screen and actual image will appear gradually\r\n            if ( slide.opts.preload !== false && slide.opts.width && slide.opts.height && ( slide.opts.thumb || slide.opts.$thumb ) ) {\r\n\r\n                slide.width  = slide.opts.width;\r\n                slide.height = slide.opts.height;\r\n\r\n                slide.$ghost = $('<img />')\r\n                    .one('error', function() {\r\n\r\n                        $(this).remove();\r\n\r\n                        slide.$ghost = null;\r\n\r\n                        self.setBigImage( slide );\r\n\r\n                    })\r\n                    .one('load', function() {\r\n\r\n                        self.afterLoad( slide );\r\n\r\n                        self.setBigImage( slide );\r\n\r\n                    })\r\n                    .addClass( 'fancybox-image' )\r\n                    .appendTo( slide.$content )\r\n                    .attr( 'src', slide.opts.thumb || slide.opts.$thumb.attr( 'src' ) );\r\n\r\n            } else {\r\n\r\n                self.setBigImage( slide );\r\n\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Create full-size image\r\n        // ======================\r\n\r\n        setBigImage : function ( slide ) {\r\n            var self = this;\r\n            var $img = $('<img />');\r\n\r\n            slide.$image = $img\r\n                .one('error', function() {\r\n\r\n                    self.setError( slide );\r\n\r\n                })\r\n                .one('load', function() {\r\n\r\n                    // Clear timeout that checks if loading icon needs to be displayed\r\n                    clearTimeout( slide.timouts );\r\n\r\n                    slide.timouts = null;\r\n\r\n                    if ( self.isClosing ) {\r\n                        return;\r\n                    }\r\n\r\n                    slide.width  = this.naturalWidth;\r\n                    slide.height = this.naturalHeight;\r\n\r\n                    if ( slide.opts.image.srcset ) {\r\n                        $img.attr( 'sizes', '100vw' ).attr( 'srcset', slide.opts.image.srcset );\r\n                    }\r\n\r\n                    self.hideLoading( slide );\r\n\r\n                    if ( slide.$ghost ) {\r\n\r\n                        slide.timouts = setTimeout(function() {\r\n                            slide.timouts = null;\r\n\r\n                            slide.$ghost.hide();\r\n\r\n                        }, Math.min( 300, Math.max( 1000, slide.height / 1600 ) ) );\r\n\r\n                    } else {\r\n                        self.afterLoad( slide );\r\n                    }\r\n\r\n                })\r\n                .addClass( 'fancybox-image' )\r\n                .attr('src', slide.src)\r\n                .appendTo( slide.$content );\r\n\r\n            if ( $img[0].complete ) {\r\n                  $img.trigger( 'load' );\r\n\r\n            } else if( $img[0].error ) {\r\n                 $img.trigger( 'error' );\r\n\r\n            } else {\r\n\r\n                slide.timouts = setTimeout(function() {\r\n                    if ( !$img[0].complete && !slide.hasError ) {\r\n                        self.showLoading( slide );\r\n                    }\r\n\r\n                }, 100);\r\n\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Create iframe wrapper, iframe and bindings\r\n        // ==========================================\r\n\r\n        setIframe : function( slide ) {\r\n            var self    = this,\r\n                opts    = slide.opts.iframe,\r\n                $slide  = slide.$slide,\r\n                $iframe;\r\n\r\n            slide.$content = $('<div class=\"fancybox-content' + ( opts.preload ? ' fancybox-is-hidden' : '' ) + '\"></div>')\r\n                .css( opts.css )\r\n                .appendTo( $slide );\r\n\r\n            $iframe = $( opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()) )\r\n                .attr( opts.attr )\r\n                .appendTo( slide.$content );\r\n\r\n            if ( opts.preload ) {\r\n\r\n                self.showLoading( slide );\r\n\r\n                // Unfortunately, it is not always possible to determine if iframe is successfully loaded\r\n                // (due to browser security policy)\r\n\r\n                $iframe.on('load.fb error.fb', function(e) {\r\n                    this.isReady = 1;\r\n\r\n                    slide.$slide.trigger( 'refresh' );\r\n\r\n                    self.afterLoad( slide );\r\n                });\r\n\r\n                // Recalculate iframe content size\r\n                // ===============================\r\n\r\n                $slide.on('refresh.fb', function() {\r\n                    var $wrap = slide.$content,\r\n                        $contents,\r\n                        $body,\r\n                        scrollWidth,\r\n                        frameWidth,\r\n                        frameHeight;\r\n\r\n                    if ( $iframe[0].isReady !== 1 ) {\r\n                        return;\r\n                    }\r\n\r\n                    // Check if content is accessible,\r\n                    // it will fail if frame is not with the same origin\r\n\r\n                    try {\r\n                        $contents = $iframe.contents();\r\n                        $body     = $contents.find('body');\r\n\r\n                    } catch (ignore) {}\r\n\r\n                    // Calculate dimensions for the wrapper\r\n                    if ( $body && $body.length && !( opts.css.width !== undefined && opts.css.height !== undefined ) ) {\r\n\r\n                        scrollWidth = $iframe[0].contentWindow.document.documentElement.scrollWidth;\r\n\r\n                        frameWidth  = Math.ceil( $body.outerWidth(true) + ( $wrap.width() - scrollWidth ) );\r\n                        frameHeight = Math.ceil( $body.outerHeight(true) );\r\n\r\n                        // Resize wrapper to fit iframe content\r\n                        $wrap.css({\r\n                            'width'  : opts.css.width  === undefined ? frameWidth  + ( $wrap.outerWidth()  - $wrap.innerWidth() )  : opts.css.width,\r\n                            'height' : opts.css.height === undefined ? frameHeight + ( $wrap.outerHeight() - $wrap.innerHeight() ) : opts.css.height\r\n                        });\r\n\r\n                    }\r\n\r\n                    $wrap.removeClass( 'fancybox-is-hidden' );\r\n\r\n                });\r\n\r\n            } else {\r\n\r\n                this.afterLoad( slide );\r\n\r\n            }\r\n\r\n            $iframe.attr( 'src', slide.src );\r\n\r\n            if ( slide.opts.smallBtn === true ) {\r\n                slide.$content.prepend( self.translate( slide, slide.opts.btnTpl.smallBtn ) );\r\n            }\r\n\r\n            // Remove iframe if closing or changing gallery item\r\n            $slide.one( 'onReset', function () {\r\n\r\n                // This helps IE not to throw errors when closing\r\n                try {\r\n\r\n                    $( this ).find( 'iframe' ).hide().attr( 'src', '//about:blank' );\r\n\r\n                } catch ( ignore ) {}\r\n\r\n                $( this ).empty();\r\n\r\n                slide.isLoaded = false;\r\n\r\n            });\r\n\r\n        },\r\n\r\n\r\n        // Wrap and append content to the slide\r\n        // ======================================\r\n\r\n        setContent : function ( slide, content ) {\r\n\r\n            var self = this;\r\n\r\n            if ( self.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            self.hideLoading( slide );\r\n\r\n            slide.$slide.empty();\r\n\r\n            if ( isQuery( content ) && content.parent().length ) {\r\n\r\n                // If content is a jQuery object, then it will be moved to the slide.\r\n                // The placeholder is created so we will know where to put it back.\r\n                // If user is navigating gallery fast, then the content might be already inside fancyBox\r\n                // =====================================================================================\r\n\r\n                // Make sure content is not already moved to fancyBox\r\n                content.parent( '.fancybox-slide--inline' ).trigger( 'onReset' );\r\n\r\n                // Create temporary element marking original place of the content\r\n                slide.$placeholder = $( '<div></div>' ).hide().insertAfter( content );\r\n\r\n                // Make sure content is visible\r\n                content.css('display', 'inline-block');\r\n\r\n            } else if ( !slide.hasError ) {\r\n\r\n                // If content is just a plain text, try to convert it to html\r\n                if ( $.type( content ) === 'string' ) {\r\n                    content = $('<div>').append( $.trim( content ) ).contents();\r\n\r\n                    // If we have text node, then add wrapping element to make vertical alignment work\r\n                    if ( content[0].nodeType === 3 ) {\r\n                        content = $('<div>').html( content );\r\n                    }\r\n                }\r\n\r\n                // If \"filter\" option is provided, then filter content\r\n                if ( slide.opts.filter ) {\r\n                    content = $('<div>').html( content ).find( slide.opts.filter );\r\n                }\r\n\r\n            }\r\n\r\n            slide.$slide.one('onReset', function () {\r\n\r\n                // Put content back\r\n                if ( slide.$placeholder ) {\r\n                    slide.$placeholder.after( content.hide() ).remove();\r\n\r\n                    slide.$placeholder = null;\r\n                }\r\n\r\n                // Remove custom close button\r\n                if ( slide.$smallBtn ) {\r\n                    slide.$smallBtn.remove();\r\n\r\n                    slide.$smallBtn = null;\r\n                }\r\n\r\n                // Remove content and mark slide as not loaded\r\n                if ( !slide.hasError ) {\r\n                    $(this).empty();\r\n\r\n                    slide.isLoaded = false;\r\n                }\r\n\r\n            });\r\n\r\n            slide.$content = $( content ).appendTo( slide.$slide );\r\n\r\n            if ( slide.opts.smallBtn && !slide.$smallBtn ) {\r\n                slide.$smallBtn = $( self.translate( slide, slide.opts.btnTpl.smallBtn ) ).appendTo( slide.$content );\r\n            }\r\n\r\n            this.afterLoad( slide );\r\n        },\r\n\r\n        // Display error message\r\n        // =====================\r\n\r\n        setError : function ( slide ) {\r\n\r\n            slide.hasError = true;\r\n\r\n            slide.$slide.removeClass( 'fancybox-slide--' + slide.type );\r\n\r\n            this.setContent( slide, this.translate( slide, slide.opts.errorTpl ) );\r\n\r\n        },\r\n\r\n\r\n        // Show loading icon inside the slide\r\n        // ==================================\r\n\r\n        showLoading : function( slide ) {\r\n\r\n            var self = this;\r\n\r\n            slide = slide || self.current;\r\n\r\n            if ( slide && !slide.$spinner ) {\r\n                slide.$spinner = $( self.opts.spinnerTpl ).appendTo( slide.$slide );\r\n            }\r\n\r\n        },\r\n\r\n        // Remove loading icon from the slide\r\n        // ==================================\r\n\r\n        hideLoading : function( slide ) {\r\n\r\n            var self = this;\r\n\r\n            slide = slide || self.current;\r\n\r\n            if ( slide && slide.$spinner ) {\r\n                slide.$spinner.remove();\r\n\r\n                delete slide.$spinner;\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Adjustments after slide content has been loaded\r\n        // ===============================================\r\n\r\n        afterLoad : function( slide ) {\r\n\r\n            var self = this;\r\n\r\n            if ( self.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            slide.isLoading = false;\r\n            slide.isLoaded  = true;\r\n\r\n            self.trigger( 'afterLoad', slide );\r\n\r\n            self.hideLoading( slide );\r\n\r\n            if ( slide.opts.protect && slide.$content && !slide.hasError ) {\r\n\r\n                // Disable right click\r\n                slide.$content.on( 'contextmenu.fb', function( e ) {\r\n                     if ( e.button == 2 ) {\r\n                         e.preventDefault();\r\n                     }\r\n\r\n                    return true;\r\n                });\r\n\r\n                // Add fake element on top of the image\r\n                // This makes a bit harder for user to select image\r\n                if ( slide.type === 'image' ) {\r\n                    $( '<div class=\"fancybox-spaceball\"></div>' ).appendTo( slide.$content );\r\n                }\r\n\r\n            }\r\n\r\n            self.revealContent( slide );\r\n\r\n        },\r\n\r\n\r\n        // Make content visible\r\n        // This method is called right after content has been loaded or\r\n        // user navigates gallery and transition should start\r\n        // ============================================================\r\n\r\n        revealContent : function( slide ) {\r\n\r\n            var self   = this;\r\n            var $slide = slide.$slide;\r\n\r\n            var effect, effectClassName, duration, opacity, end, start = false;\r\n\r\n            effect   = slide.opts[ self.firstRun ? 'animationEffect'   : 'transitionEffect' ];\r\n            duration = slide.opts[ self.firstRun ? 'animationDuration' : 'transitionDuration' ];\r\n\r\n            duration = parseInt( slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10 );\r\n\r\n            if ( slide.isMoved || slide.pos !== self.currPos || !duration ) {\r\n                effect = false;\r\n            }\r\n\r\n            // Check if can zoom\r\n            if ( effect === 'zoom' && !( slide.pos === self.currPos && duration && slide.type === 'image' && !slide.hasError && ( start = self.getThumbPos( slide ) ) ) ) {\r\n                effect = 'fade';\r\n            }\r\n\r\n\r\n            // Zoom animation\r\n            // ==============\r\n\r\n            if ( effect === 'zoom' ) {\r\n                end = self.getFitPos( slide );\r\n\r\n                end.scaleX = Math.round( (end.width  / start.width)  * 100 ) / 100;\r\n                end.scaleY = Math.round( (end.height / start.height) * 100 ) / 100;\r\n\r\n                delete end.width;\r\n                delete end.height;\r\n\r\n                // Check if we need to animate opacity\r\n                opacity = slide.opts.zoomOpacity;\r\n\r\n                if ( opacity == 'auto' ) {\r\n                    opacity = Math.abs( slide.width / slide.height - start.width / start.height ) > 0.1;\r\n                }\r\n\r\n                if ( opacity ) {\r\n                    start.opacity = 0.1;\r\n                    end.opacity   = 1;\r\n                }\r\n\r\n                // Draw image at start position\r\n                $.fancybox.setTranslate( slide.$content.removeClass( 'fancybox-is-hidden' ), start );\r\n\r\n                forceRedraw( slide.$content );\r\n\r\n                // Start animation\r\n                $.fancybox.animate( slide.$content, end, duration, function() {\r\n                    self.complete();\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n\r\n            self.updateSlide( slide );\r\n\r\n\r\n            // Simply show content\r\n            // ===================\r\n\r\n            if ( !effect ) {\r\n                forceRedraw( $slide );\r\n\r\n                slide.$content.removeClass( 'fancybox-is-hidden' );\r\n\r\n                if ( slide.pos === self.currPos ) {\r\n                    self.complete();\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            $.fancybox.stop( $slide );\r\n\r\n            effectClassName = 'fancybox-animated fancybox-slide--' + ( slide.pos > self.prevPos ? 'next' : 'previous' ) + ' fancybox-fx-' + effect;\r\n\r\n            $slide.removeAttr( 'style' ).removeClass( 'fancybox-slide--current fancybox-slide--next fancybox-slide--previous' ).addClass( effectClassName );\r\n\r\n            slide.$content.removeClass( 'fancybox-is-hidden' );\r\n\r\n            //Force reflow for CSS3 transitions\r\n            forceRedraw( $slide );\r\n\r\n            $.fancybox.animate( $slide, 'fancybox-slide--current', duration, function(e) {\r\n                $slide.removeClass( effectClassName ).removeAttr( 'style' );\r\n\r\n                if ( slide.pos === self.currPos ) {\r\n                    self.complete();\r\n                }\r\n\r\n            }, true);\r\n\r\n        },\r\n\r\n\r\n        // Check if we can and have to zoom from thumbnail\r\n        //================================================\r\n\r\n        getThumbPos : function( slide ) {\r\n\r\n            var self = this;\r\n            var rez  = false;\r\n\r\n            // Check if element is inside the viewport by at least 1 pixel\r\n            var isElementVisible = function( $el ) {\r\n                var element = $el[0];\r\n\r\n                var elementRect = element.getBoundingClientRect();\r\n                var parentRects = [];\r\n\r\n                var visibleInAllParents;\r\n\r\n                while ( element.parentElement !== null ) {\r\n                    if ( $(element.parentElement).css('overflow') === 'hidden'  || $(element.parentElement).css('overflow') === 'auto' ) {\r\n                        parentRects.push(element.parentElement.getBoundingClientRect());\r\n                    }\r\n\r\n                    element = element.parentElement;\r\n                }\r\n\r\n                visibleInAllParents = parentRects.every(function(parentRect){\r\n                    var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\r\n                    var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\r\n\r\n                    return visiblePixelX > 0 && visiblePixelY > 0;\r\n                });\r\n\r\n                return visibleInAllParents &&\r\n                    elementRect.bottom > 0 && elementRect.right > 0 &&\r\n                    elementRect.left < $(window).width() && elementRect.top < $(window).height();\r\n            };\r\n\r\n            var $thumb   = slide.opts.$thumb;\r\n            var thumbPos = $thumb ? $thumb.offset() : 0;\r\n            var slidePos;\r\n\r\n            if ( thumbPos && $thumb[0].ownerDocument === document && isElementVisible( $thumb ) ) {\r\n                slidePos = self.$refs.stage.offset();\r\n\r\n                rez = {\r\n                    top    : thumbPos.top  - slidePos.top  + parseFloat( $thumb.css( \"border-top-width\" ) || 0 ),\r\n                    left   : thumbPos.left - slidePos.left + parseFloat( $thumb.css( \"border-left-width\" ) || 0 ),\r\n                    width  : $thumb.width(),\r\n                    height : $thumb.height(),\r\n                    scaleX : 1,\r\n                    scaleY : 1\r\n                };\r\n            }\r\n\r\n            return rez;\r\n        },\r\n\r\n\r\n        // Final adjustments after current gallery item is moved to position\r\n        // and it`s content is loaded\r\n        // ==================================================================\r\n\r\n        complete : function() {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var slides  = {};\r\n\r\n            if ( current.isMoved || !current.isLoaded || current.isComplete ) {\r\n                return;\r\n            }\r\n\r\n            current.isComplete = true;\r\n\r\n            current.$slide.siblings().trigger( 'onReset' );\r\n\r\n            // Trigger any CSS3 transiton inside the slide\r\n            forceRedraw( current.$slide );\r\n\r\n            current.$slide.addClass( 'fancybox-slide--complete' );\r\n\r\n            // Remove unnecessary slides\r\n            $.each( self.slides, function( key, slide ) {\r\n                if ( slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1 ) {\r\n                    slides[ slide.pos ] = slide;\r\n\r\n                } else if ( slide ) {\r\n\r\n                    $.fancybox.stop( slide.$slide );\r\n\r\n                    slide.$slide.unbind().remove();\r\n                }\r\n            });\r\n\r\n            self.slides = slides;\r\n\r\n            self.updateCursor();\r\n\r\n            self.trigger( 'afterShow' );\r\n\r\n            // Try to focus on the first focusable element\r\n            if ( $( document.activeElement ).is( '[disabled]' ) || ( current.opts.autoFocus && !( current.type == 'image' || current.type === 'iframe' ) ) ) {\r\n                self.focus();\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Preload next and previous slides\r\n        // ================================\r\n\r\n        preload : function() {\r\n            var self = this;\r\n            var next, prev;\r\n\r\n            if ( self.group.length < 2 ) {\r\n                return;\r\n            }\r\n\r\n            next  = self.slides[ self.currPos + 1 ];\r\n            prev  = self.slides[ self.currPos - 1 ];\r\n\r\n            if ( next && next.type === 'image' ) {\r\n                self.loadSlide( next );\r\n            }\r\n\r\n            if ( prev && prev.type === 'image' ) {\r\n                self.loadSlide( prev );\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Try to find and focus on the first focusable element\r\n        // ====================================================\r\n\r\n        focus : function() {\r\n            var current = this.current;\r\n            var $el;\r\n\r\n            if ( this.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            // Skip for images and iframes\r\n            $el = current && current.isComplete ? current.$slide.find('button,:input,[tabindex],a').filter(':not([disabled]):visible:first') : null;\r\n            $el = $el && $el.length ? $el : this.$refs.container;\r\n\r\n            $el.focus();\r\n        },\r\n\r\n\r\n        // Activates current instance - brings container to the front and enables keyboard,\r\n        // notifies other instances about deactivating\r\n        // =================================================================================\r\n\r\n        activate : function () {\r\n            var self = this;\r\n\r\n            // Deactivate all instances\r\n            $( '.fancybox-container' ).each(function () {\r\n                var instance = $(this).data( 'FancyBox' );\r\n\r\n                // Skip self and closing instances\r\n                if (instance && instance.uid !== self.uid && !instance.isClosing) {\r\n                    instance.trigger( 'onDeactivate' );\r\n                }\r\n\r\n            });\r\n\r\n            if ( self.current ) {\r\n                if ( self.$refs.container.index() > 0 ) {\r\n                    self.$refs.container.prependTo( document.body );\r\n                }\r\n\r\n                self.updateControls();\r\n            }\r\n\r\n            self.trigger( 'onActivate' );\r\n\r\n            self.addEvents();\r\n\r\n        },\r\n\r\n\r\n        // Start closing procedure\r\n        // This will start \"zoom-out\" animation if needed and clean everything up afterwards\r\n        // =================================================================================\r\n\r\n        close : function( e, d ) {\r\n\r\n            var self    = this;\r\n            var current = self.current;\r\n\r\n            var effect, duration;\r\n            var $what, opacity, start, end;\r\n\r\n            var done = function() {\r\n                self.cleanUp( e );\r\n            };\r\n\r\n            if ( self.isClosing ) {\r\n                return false;\r\n            }\r\n\r\n            self.isClosing = true;\r\n\r\n            // If beforeClose callback prevents closing, make sure content is centered\r\n            if ( self.trigger( 'beforeClose', e ) === false ) {\r\n                self.isClosing = false;\r\n\r\n                requestAFrame(function() {\r\n                    self.update();\r\n                });\r\n\r\n                return false;\r\n            }\r\n\r\n            // Remove all events\r\n            // If there are multiple instances, they will be set again by \"activate\" method\r\n            self.removeEvents();\r\n\r\n            if ( current.timouts ) {\r\n                clearTimeout( current.timouts );\r\n            }\r\n\r\n            $what    = current.$content;\r\n            effect   = current.opts.animationEffect;\r\n            duration = $.isNumeric( d ) ? d : ( effect ? current.opts.animationDuration : 0 );\r\n\r\n            // Remove other slides\r\n            current.$slide.off( transitionEnd ).removeClass( 'fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated' );\r\n\r\n            current.$slide.siblings().trigger( 'onReset' ).remove();\r\n\r\n            // Trigger animations\r\n            if ( duration ) {\r\n                self.$refs.container.removeClass( 'fancybox-is-open' ).addClass( 'fancybox-is-closing' );\r\n            }\r\n\r\n            // Clean up\r\n            self.hideLoading( current );\r\n\r\n            self.hideControls();\r\n\r\n            self.updateCursor();\r\n\r\n            // Check if possible to zoom-out\r\n            if ( effect === 'zoom' && !( e !== true && $what && duration && current.type === 'image' && !current.hasError && ( end = self.getThumbPos( current ) ) ) ) {\r\n                effect = 'fade';\r\n            }\r\n\r\n            if ( effect === 'zoom' ) {\r\n                $.fancybox.stop( $what );\r\n\r\n                start = $.fancybox.getTranslate( $what );\r\n\r\n                start.width  = start.width  * start.scaleX;\r\n                start.height = start.height * start.scaleY;\r\n\r\n                // Check if we need to animate opacity\r\n                opacity = current.opts.zoomOpacity;\r\n\r\n                if ( opacity == 'auto' ) {\r\n                    opacity = Math.abs( current.width / current.height - end.width / end.height ) > 0.1;\r\n                }\r\n\r\n                if ( opacity ) {\r\n                    end.opacity = 0;\r\n                }\r\n\r\n                start.scaleX = start.width  / end.width;\r\n                start.scaleY = start.height / end.height;\r\n\r\n                start.width  = end.width;\r\n                start.height = end.height;\r\n\r\n                $.fancybox.setTranslate( current.$content, start );\r\n\r\n                $.fancybox.animate( current.$content, end, duration, done );\r\n\r\n                return true;\r\n            }\r\n\r\n            if ( effect && duration ) {\r\n\r\n                // If skip animation\r\n                if ( e === true ) {\r\n                    setTimeout( done, duration );\r\n\r\n                } else {\r\n                    $.fancybox.animate( current.$slide.removeClass( 'fancybox-slide--current' ), 'fancybox-animated fancybox-slide--previous fancybox-fx-' + effect, duration, done );\r\n                }\r\n\r\n            } else {\r\n                done();\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n\r\n        // Final adjustments after removing the instance\r\n        // =============================================\r\n\r\n        cleanUp : function( e ) {\r\n            var self = this,\r\n                instance;\r\n\r\n            self.current.$slide.trigger( 'onReset' );\r\n\r\n            self.$refs.container.empty().remove();\r\n\r\n            self.trigger( 'afterClose', e );\r\n\r\n            // Place back focus\r\n            if ( self.$lastFocus && !!!self.current.focusBack ) {\r\n                self.$lastFocus.focus();\r\n            }\r\n\r\n            self.current = null;\r\n\r\n            // Check if there are other instances\r\n            instance = $.fancybox.getInstance();\r\n\r\n            if ( instance ) {\r\n                instance.activate();\r\n\r\n            } else {\r\n\r\n                $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\r\n\r\n                $( 'html' ).removeClass( 'fancybox-enabled' );\r\n\r\n                $( '#fancybox-style-noscroll' ).remove();\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Call callback and trigger an event\r\n        // ==================================\r\n\r\n        trigger : function( name, slide ) {\r\n            var args  = Array.prototype.slice.call(arguments, 1),\r\n                self  = this,\r\n                obj   = slide && slide.opts ? slide : self.current,\r\n                rez;\r\n\r\n            if ( obj ) {\r\n                args.unshift( obj );\r\n\r\n            } else {\r\n                obj = self;\r\n            }\r\n\r\n            args.unshift( self );\r\n\r\n            if ( $.isFunction( obj.opts[ name ] ) ) {\r\n                rez = obj.opts[ name ].apply( obj, args );\r\n            }\r\n\r\n            if ( rez === false ) {\r\n                return rez;\r\n            }\r\n\r\n            if ( name === 'afterClose' ) {\r\n                $D.trigger( name + '.fb', args );\r\n\r\n            } else {\r\n                self.$refs.container.trigger( name + '.fb', args );\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Update infobar values, navigation button states and reveal caption\r\n        // ==================================================================\r\n\r\n        updateControls : function ( force ) {\r\n\r\n            var self = this;\r\n\r\n            var current  = self.current;\r\n            var index    = current.index;\r\n            var opts     = current.opts;\r\n            var caption  = opts.caption;\r\n            var $caption = self.$refs.caption;\r\n\r\n            // Recalculate content dimensions\r\n            current.$slide.trigger( 'refresh' );\r\n\r\n            self.$caption = caption && caption.length ? $caption.html( caption ) : null;\r\n\r\n            if ( !self.isHiddenControls ) {\r\n                self.showControls();\r\n            }\r\n\r\n            // Update info and navigation elements\r\n            $('[data-fancybox-count]').html( self.group.length );\r\n            $('[data-fancybox-index]').html( index + 1 );\r\n\r\n            $('[data-fancybox-prev]').prop('disabled', ( !opts.loop && index <= 0 ) );\r\n            $('[data-fancybox-next]').prop('disabled', ( !opts.loop && index >= self.group.length - 1 ) );\r\n\r\n        },\r\n\r\n        // Hide toolbar and caption\r\n        // ========================\r\n\r\n        hideControls : function () {\r\n\r\n            this.isHiddenControls = true;\r\n\r\n            this.$refs.container.removeClass('fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav');\r\n\r\n        },\r\n\r\n        showControls : function() {\r\n\r\n            var self = this;\r\n            var opts = self.current ? self.current.opts : self.opts;\r\n            var $container = self.$refs.container;\r\n\r\n            self.isHiddenControls   = false;\r\n            self.idleSecondsCounter = 0;\r\n\r\n            $container\r\n                .toggleClass('fancybox-show-toolbar', !!( opts.toolbar && opts.buttons ) )\r\n                .toggleClass('fancybox-show-infobar', !!( opts.infobar && self.group.length > 1 ) )\r\n                .toggleClass('fancybox-show-nav',     !!( opts.arrows && self.group.length > 1 ) )\r\n                .toggleClass('fancybox-is-modal',     !!opts.modal );\r\n\r\n            if ( self.$caption ) {\r\n                $container.addClass( 'fancybox-show-caption ');\r\n\r\n            } else {\r\n               $container.removeClass( 'fancybox-show-caption' );\r\n           }\r\n\r\n       },\r\n\r\n\r\n       // Toggle toolbar and caption\r\n       // ==========================\r\n\r\n       toggleControls : function() {\r\n\r\n           if ( this.isHiddenControls ) {\r\n               this.showControls();\r\n\r\n           } else {\r\n               this.hideControls();\r\n           }\r\n\r\n       },\r\n\r\n\r\n    });\r\n\r\n\r\n    $.fancybox = {\r\n\r\n        version  : \"3.1.20\",\r\n        defaults : defaults,\r\n\r\n\r\n        // Get current instance and execute a command.\r\n        //\r\n        // Examples of usage:\r\n        //\r\n        //   $instance = $.fancybox.getInstance();\r\n        //   $.fancybox.getInstance().jumpTo( 1 );\r\n        //   $.fancybox.getInstance( 'jumpTo', 1 );\r\n        //   $.fancybox.getInstance( function() {\r\n        //       console.info( this.currIndex );\r\n        //   });\r\n        // ======================================================\r\n\r\n        getInstance : function ( command ) {\r\n            var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):first').data( 'FancyBox' );\r\n            var args     = Array.prototype.slice.call(arguments, 1);\r\n\r\n            if ( instance instanceof FancyBox ) {\r\n\r\n                if ( $.type( command ) === 'string' ) {\r\n                    instance[ command ].apply( instance, args );\r\n\r\n                } else if ( $.type( command ) === 'function' ) {\r\n                    command.apply( instance, args );\r\n\r\n                }\r\n\r\n                return instance;\r\n            }\r\n\r\n            return false;\r\n\r\n        },\r\n\r\n\r\n        // Create new instance\r\n        // ===================\r\n\r\n        open : function ( items, opts, index ) {\r\n            return new FancyBox( items, opts, index );\r\n        },\r\n\r\n\r\n        // Close current or all instances\r\n        // ==============================\r\n\r\n        close : function ( all ) {\r\n            var instance = this.getInstance();\r\n\r\n            if ( instance ) {\r\n                instance.close();\r\n\r\n                // Try to find and close next instance\r\n\r\n                if ( all === true ) {\r\n                    this.close();\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        // Close instances and unbind all events\r\n        // ==============================\r\n\r\n        destroy : function() {\r\n\r\n            this.close( true );\r\n\r\n            $D.off( 'click.fb-start' );\r\n\r\n        },\r\n\r\n\r\n        // Try to detect mobile devices\r\n        // ============================\r\n\r\n        isMobile : document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),\r\n\r\n\r\n        // Detect if 'translate3d' support is available\r\n        // ============================================\r\n\r\n        use3d : (function() {\r\n            var div = document.createElement('div');\r\n\r\n            return window.getComputedStyle && window.getComputedStyle( div ).getPropertyValue('transform') && !(document.documentMode && document.documentMode < 11);\r\n        }()),\r\n\r\n\r\n        // Helper function to get current visual state of an element\r\n        // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\r\n        // =====================================================================\r\n\r\n        getTranslate : function( $el ) {\r\n            var matrix;\r\n\r\n            if ( !$el || !$el.length ) {\r\n                return false;\r\n            }\r\n\r\n            matrix  = $el.eq( 0 ).css('transform');\r\n\r\n            if ( matrix && matrix.indexOf( 'matrix' ) !== -1 ) {\r\n                matrix = matrix.split('(')[1];\r\n                matrix = matrix.split(')')[0];\r\n                matrix = matrix.split(',');\r\n            } else {\r\n                matrix = [];\r\n            }\r\n\r\n            if ( matrix.length ) {\r\n\r\n                // If IE\r\n                if ( matrix.length > 10 ) {\r\n                    matrix = [ matrix[13], matrix[12], matrix[0], matrix[5] ];\r\n\r\n                } else {\r\n                    matrix = [ matrix[5], matrix[4], matrix[0], matrix[3]];\r\n                }\r\n\r\n                matrix = matrix.map(parseFloat);\r\n\r\n            } else {\r\n                matrix = [ 0, 0, 1, 1 ];\r\n\r\n                var transRegex = /\\.*translate\\((.*)px,(.*)px\\)/i;\r\n                var transRez = transRegex.exec( $el.eq( 0 ).attr('style') );\r\n\r\n                if ( transRez ) {\r\n                    matrix[ 0 ] = parseFloat( transRez[2] );\r\n                    matrix[ 1 ] = parseFloat( transRez[1] );\r\n                }\r\n            }\r\n\r\n            return {\r\n                top     : matrix[ 0 ],\r\n                left    : matrix[ 1 ],\r\n                scaleX  : matrix[ 2 ],\r\n                scaleY  : matrix[ 3 ],\r\n                opacity : parseFloat( $el.css('opacity') ),\r\n                width   : $el.width(),\r\n                height  : $el.height()\r\n            };\r\n\r\n        },\r\n\r\n\r\n        // Shortcut for setting \"translate3d\" properties for element\r\n        // Can set be used to set opacity, too\r\n        // ========================================================\r\n\r\n        setTranslate : function( $el, props ) {\r\n            var str  = '';\r\n            var css  = {};\r\n\r\n            if ( !$el || !props ) {\r\n                return;\r\n            }\r\n\r\n            if ( props.left !== undefined || props.top !== undefined ) {\r\n                str = ( props.left === undefined ? $el.position().left : props.left )  + 'px, ' + ( props.top === undefined ? $el.position().top : props.top ) + 'px';\r\n\r\n                if ( this.use3d ) {\r\n                    str = 'translate3d(' + str + ', 0px)';\r\n\r\n                } else {\r\n                    str = 'translate(' + str + ')';\r\n                }\r\n            }\r\n\r\n            if ( props.scaleX !== undefined && props.scaleY !== undefined ) {\r\n                str = (str.length ? str + ' ' : '') + 'scale(' + props.scaleX + ', ' + props.scaleY + ')';\r\n            }\r\n\r\n            if ( str.length ) {\r\n                css.transform = str;\r\n            }\r\n\r\n            if ( props.opacity !== undefined ) {\r\n                css.opacity = props.opacity;\r\n            }\r\n\r\n            if ( props.width !== undefined ) {\r\n                css.width = props.width;\r\n            }\r\n\r\n            if ( props.height !== undefined ) {\r\n                css.height = props.height;\r\n            }\r\n\r\n            return $el.css( css );\r\n        },\r\n\r\n\r\n        // Simple CSS transition handler\r\n        // =============================\r\n\r\n        animate : function ( $el, to, duration, callback, leaveAnimationName ) {\r\n            var event = transitionEnd || 'transitionend';\r\n\r\n            if ( $.isFunction( duration ) ) {\r\n                callback = duration;\r\n                duration = null;\r\n            }\r\n\r\n            if ( !$.isPlainObject( to ) ) {\r\n                $el.removeAttr('style');\r\n            }\r\n\r\n            $el.on( event, function(e) {\r\n\r\n                // Skip events from child elements and z-index change\r\n                if ( e && e.originalEvent && ( !$el.is( e.originalEvent.target ) || e.originalEvent.propertyName == 'z-index' ) ) {\r\n                    return;\r\n                }\r\n\r\n                $el.off( event );\r\n\r\n                if ( $.isPlainObject( to ) ) {\r\n\r\n                    if ( to.scaleX !== undefined && to.scaleY !== undefined ) {\r\n                        $el.css( 'transition-duration', '0ms' );\r\n\r\n                        to.width  = $el.width()  * to.scaleX;\r\n                        to.height = $el.height() * to.scaleY;\r\n\r\n                        to.scaleX = 1;\r\n                        to.scaleY = 1;\r\n\r\n                        $.fancybox.setTranslate( $el, to );\r\n                    }\r\n\r\n                } else if ( leaveAnimationName !== true ) {\r\n                    $el.removeClass( to );\r\n                }\r\n\r\n                if ( $.isFunction( callback ) ) {\r\n                    callback( e );\r\n                }\r\n\r\n            });\r\n\r\n            if ( $.isNumeric( duration ) ) {\r\n                $el.css( 'transition-duration', duration + 'ms' );\r\n            }\r\n\r\n            if ( $.isPlainObject( to ) ) {\r\n                $.fancybox.setTranslate( $el, to );\r\n\r\n            } else {\r\n                $el.addClass( to );\r\n            }\r\n\r\n            $el.data(\"timer\", setTimeout(function() {\r\n                $el.trigger( 'transitionend' );\r\n            }, duration + 16));\r\n\r\n        },\r\n\r\n        stop : function( $el ) {\r\n            clearTimeout( $el.data(\"timer\") );\r\n\r\n            $el.off( transitionEnd );\r\n        }\r\n\r\n    };\r\n\r\n\r\n    // Default click handler for \"fancyboxed\" links\r\n    // ============================================\r\n\r\n    function _run( e ) {\r\n        var target  = e.currentTarget,\r\n            opts    = e.data ? e.data.options : {},\r\n            items   = e.data ? e.data.items : [],\r\n            value   = $(target).attr( 'data-fancybox' ) || '',\r\n            index   = 0;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        // Get all related items and find index for clicked one\r\n        if ( value ) {\r\n            items = items.length ? items.filter( '[data-fancybox=\"' + value + '\"]' ) : $( '[data-fancybox=\"' + value + '\"]' );\r\n            index = items.index( target );\r\n\r\n            // Sometimes current item can not be found\r\n            // (for example, when slider clones items)\r\n            if ( index < 0 ) {\r\n                index = 0;\r\n            }\r\n\r\n        } else {\r\n            items = [ target ];\r\n        }\r\n\r\n        $.fancybox.open( items, opts, index );\r\n    }\r\n\r\n\r\n    // Create a jQuery plugin\r\n    // ======================\r\n\r\n    $.fn.fancybox = function (options) {\r\n        var selector;\r\n\r\n        options  = options || {};\r\n        selector = options.selector || false;\r\n\r\n        if ( selector ) {\r\n\r\n            $( 'body' ).off( 'click.fb-start', selector ).on( 'click.fb-start', selector, {\r\n                items   : $( selector ),\r\n                options : options\r\n            }, _run );\r\n\r\n        } else {\r\n\r\n            this.off( 'click.fb-start' ).on( 'click.fb-start', {\r\n                items   : this,\r\n                options : options\r\n            }, _run);\r\n\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n\r\n    // Self initializing plugin\r\n    // ========================\r\n\r\n    $D.on( 'click.fb-start', '[data-fancybox]', _run );\r\n\r\n}( window, document, window.jQuery ));\r\n\r\n// ==========================================================================\r\n//\r\n// Media\r\n// Adds additional media type support\r\n//\r\n// ==========================================================================\r\n;(function ($) {\r\n\r\n    'use strict';\r\n\r\n    // Formats matching url to final form\r\n\r\n    var format = function (url, rez, params) {\r\n        if ( !url ) {\r\n            return;\r\n        }\r\n\r\n        params = params || '';\r\n\r\n        if ( $.type(params) === \"object\" ) {\r\n            params = $.param(params, true);\r\n        }\r\n\r\n        $.each(rez, function (key, value) {\r\n            url = url.replace('$' + key, value || '');\r\n        });\r\n\r\n        if (params.length) {\r\n            url += (url.indexOf('?') > 0 ? '&' : '?') + params;\r\n        }\r\n\r\n        return url;\r\n    };\r\n\r\n    // Object containing properties for each media type\r\n\r\n    var defaults = {\r\n        youtube : {\r\n            matcher : /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\r\n            params  : {\r\n                autoplay : 1,\r\n                autohide : 1,\r\n                fs  : 1,\r\n                rel : 0,\r\n                hd  : 1,\r\n                wmode : 'transparent',\r\n                enablejsapi : 1,\r\n                html5 : 1\r\n            },\r\n            paramPlace : 8,\r\n            type  : 'iframe',\r\n            url   : '//www.youtube.com/embed/$4',\r\n            thumb : '//img.youtube.com/vi/$4/hqdefault.jpg'\r\n        },\r\n\r\n        vimeo : {\r\n            matcher : /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\r\n            params  : {\r\n                autoplay : 1,\r\n                hd : 1,\r\n                show_title    : 1,\r\n                show_byline   : 1,\r\n                show_portrait : 0,\r\n                fullscreen    : 1,\r\n                api : 1\r\n            },\r\n            paramPlace : 3,\r\n            type : 'iframe',\r\n            url : '//player.vimeo.com/video/$2'\r\n        },\r\n\r\n        metacafe : {\r\n            matcher : /metacafe.com\\/watch\\/(\\d+)\\/(.*)?/,\r\n            type    : 'iframe',\r\n            url     : '//www.metacafe.com/embed/$1/?ap=1'\r\n        },\r\n\r\n        dailymotion : {\r\n            matcher : /dailymotion.com\\/video\\/(.*)\\/?(.*)/,\r\n            params : {\r\n                additionalInfos : 0,\r\n                autoStart : 1\r\n            },\r\n            type : 'iframe',\r\n            url  : '//www.dailymotion.com/embed/video/$1'\r\n        },\r\n\r\n        vine : {\r\n            matcher : /vine.co\\/v\\/([a-zA-Z0-9\\?\\=\\-]+)/,\r\n            type    : 'iframe',\r\n            url     : '//vine.co/v/$1/embed/simple'\r\n        },\r\n\r\n        instagram : {\r\n            matcher : /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\r\n            type    : 'image',\r\n            url     : '//$1/p/$2/media/?size=l'\r\n        },\r\n\r\n        // Examples:\r\n        // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\r\n        // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\r\n        // https://www.google.lv/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\r\n        google_maps : {\r\n            matcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\r\n            type    : 'iframe',\r\n            url     : function (rez) {\r\n                return '//maps.google.' + rez[2] + '/?ll=' + ( rez[9] ? rez[9] + '&z=' + Math.floor(  rez[10]  ) + ( rez[12] ? rez[12].replace(/^\\//, \"&\") : '' )  : rez[12] ) + '&output=' + ( rez[12] && rez[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed' );\r\n            }\r\n        }\r\n    };\r\n\r\n    $(document).on('onInit.fb', function (e, instance) {\r\n\r\n        $.each(instance.group, function( i, item ) {\r\n\r\n            var url  = item.src || '',\r\n                type = false,\r\n                media,\r\n                thumb,\r\n                rez,\r\n                params,\r\n                urlParams,\r\n                o,\r\n                provider;\r\n\r\n            // Skip items that already have content type\r\n            if ( item.type ) {\r\n                return;\r\n            }\r\n\r\n            media = $.extend( true, {}, defaults, item.opts.media );\r\n\r\n            // Look for any matching media type\r\n            $.each(media, function ( n, el ) {\r\n                rez = url.match(el.matcher);\r\n                o   = {};\r\n                provider = n;\r\n\r\n                if (!rez) {\r\n                    return;\r\n                }\r\n\r\n                type = el.type;\r\n\r\n                if ( el.paramPlace && rez[ el.paramPlace ] ) {\r\n                    urlParams = rez[ el.paramPlace ];\r\n\r\n                    if ( urlParams[ 0 ] == '?' ) {\r\n                        urlParams = urlParams.substring(1);\r\n                    }\r\n\r\n                    urlParams = urlParams.split('&');\r\n\r\n                    for ( var m = 0; m < urlParams.length; ++m ) {\r\n                        var p = urlParams[ m ].split('=', 2);\r\n\r\n                        if ( p.length == 2 ) {\r\n                            o[ p[0] ] = decodeURIComponent( p[1].replace(/\\+/g, \" \") );\r\n                        }\r\n                    }\r\n                }\r\n\r\n                params = $.extend( true, {}, el.params, item.opts[ n ], o );\r\n\r\n                url   = $.type(el.url) === \"function\" ? el.url.call(this, rez, params, item) : format(el.url, rez, params);\r\n                thumb = $.type(el.thumb) === \"function\" ? el.thumb.call(this, rez, params, item) : format(el.thumb, rez);\r\n\r\n                if ( provider === 'vimeo' ) {\r\n                    url = url.replace('&%23', '#');\r\n                }\r\n\r\n                return false;\r\n            });\r\n\r\n            // If it is found, then change content type and update the url\r\n\r\n            if ( type ) {\r\n                item.src  = url;\r\n                item.type = type;\r\n\r\n                if ( !item.opts.thumb && !( item.opts.$thumb && item.opts.$thumb.length ) ) {\r\n                    item.opts.thumb = thumb;\r\n                }\r\n\r\n                if ( type === 'iframe' ) {\r\n                    $.extend(true, item.opts, {\r\n                        iframe : {\r\n                            preload : false,\r\n                            attr : {\r\n                                scrolling : \"no\"\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    item.contentProvider = provider;\r\n\r\n                    item.opts.slideClass += ' fancybox-slide--' + ( provider == 'google_maps' ? 'map' : 'video' );\r\n                }\r\n\r\n            } else {\r\n\r\n                // If no content type is found, then set it to `image` as fallback\r\n                item.type = 'image';\r\n            }\r\n\r\n        });\r\n\r\n    });\r\n\r\n}(window.jQuery));\r\n\r\n// ==========================================================================\r\n//\r\n// Guestures\r\n// Adds touch guestures, handles click and tap events\r\n//\r\n// ==========================================================================\r\n;(function (window, document, $) {\r\n    'use strict';\r\n\r\n    var requestAFrame = (function () {\r\n        return window.requestAnimationFrame ||\r\n                window.webkitRequestAnimationFrame ||\r\n                window.mozRequestAnimationFrame ||\r\n                window.oRequestAnimationFrame ||\r\n                // if all else fails, use setTimeout\r\n                function (callback) {\r\n                    return window.setTimeout(callback, 1000 / 60);\r\n                };\r\n    })();\r\n\r\n\r\n    var cancelAFrame = (function () {\r\n        return window.cancelAnimationFrame ||\r\n                window.webkitCancelAnimationFrame ||\r\n                window.mozCancelAnimationFrame ||\r\n                window.oCancelAnimationFrame ||\r\n                function (id) {\r\n                    window.clearTimeout(id);\r\n                };\r\n    })();\r\n\r\n\r\n    var pointers = function( e ) {\r\n        var result = [];\r\n\r\n        e = e.originalEvent || e || window.e;\r\n        e = e.touches && e.touches.length ? e.touches : ( e.changedTouches && e.changedTouches.length ? e.changedTouches : [ e ] );\r\n\r\n        for ( var key in e ) {\r\n\r\n            if ( e[ key ].pageX ) {\r\n                result.push( { x : e[ key ].pageX, y : e[ key ].pageY } );\r\n\r\n            } else if ( e[ key ].clientX ) {\r\n                result.push( { x : e[ key ].clientX, y : e[ key ].clientY } );\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    var distance = function( point2, point1, what ) {\r\n        if ( !point1 || !point2 ) {\r\n            return 0;\r\n        }\r\n\r\n        if ( what === 'x' ) {\r\n            return point2.x - point1.x;\r\n\r\n        } else if ( what === 'y' ) {\r\n            return point2.y - point1.y;\r\n        }\r\n\r\n        return Math.sqrt( Math.pow( point2.x - point1.x, 2 ) + Math.pow( point2.y - point1.y, 2 ) );\r\n    };\r\n\r\n    var isClickable = function( $el ) {\r\n        if ( $el.is('a,button,input,select,textarea') || $.isFunction( $el.get(0).onclick ) ) {\r\n            return true;\r\n        }\r\n\r\n        // Check for attributes like data-fancybox-next or data-fancybox-close\r\n        for ( var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++ ) {\r\n            if ( atts[i].nodeName.substr(0, 14) === 'data-fancybox-' ) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    var hasScrollbars = function( el ) {\r\n        var overflowY = window.getComputedStyle( el )['overflow-y'];\r\n        var overflowX = window.getComputedStyle( el )['overflow-x'];\r\n\r\n        var vertical   = (overflowY === 'scroll' || overflowY === 'auto') && el.scrollHeight > el.clientHeight;\r\n        var horizontal = (overflowX === 'scroll' || overflowX === 'auto') && el.scrollWidth > el.clientWidth;\r\n\r\n        return vertical || horizontal;\r\n    };\r\n\r\n    var isScrollable = function ( $el ) {\r\n        var rez = false;\r\n\r\n        while ( true ) {\r\n            rez = hasScrollbars( $el.get(0) );\r\n\r\n            if ( rez ) {\r\n                break;\r\n            }\r\n\r\n            $el = $el.parent();\r\n\r\n            if ( !$el.length || $el.hasClass( 'fancybox-stage' ) || $el.is( 'body' ) ) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return rez;\r\n    };\r\n\r\n\r\n    var Guestures = function ( instance ) {\r\n        var self = this;\r\n\r\n        self.instance = instance;\r\n\r\n        self.$bg        = instance.$refs.bg;\r\n        self.$stage     = instance.$refs.stage;\r\n        self.$container = instance.$refs.container;\r\n\r\n        self.destroy();\r\n\r\n        self.$container.on( 'touchstart.fb.touch mousedown.fb.touch', $.proxy(self, 'ontouchstart') );\r\n    };\r\n\r\n    Guestures.prototype.destroy = function() {\r\n        this.$container.off( '.fb.touch' );\r\n    };\r\n\r\n    Guestures.prototype.ontouchstart = function( e ) {\r\n        var self = this;\r\n\r\n        var $target  = $( e.target );\r\n        var instance = self.instance;\r\n        var current  = instance.current;\r\n        var $content = current.$content;\r\n\r\n        var isTouchDevice = ( e.type == 'touchstart' );\r\n\r\n        // Do not respond to both events\r\n        if ( isTouchDevice ) {\r\n            self.$container.off( 'mousedown.fb.touch' );\r\n        }\r\n\r\n        // Ignore clicks while zooming or closing\r\n        if ( !current || self.instance.isAnimating || self.instance.isClosing ) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n\r\n            return;\r\n        }\r\n\r\n        // Ignore right click\r\n        if ( e.originalEvent && e.originalEvent.button == 2 ) {\r\n            return;\r\n        }\r\n\r\n        // Ignore taping on links, buttons, input elements\r\n        if ( !$target.length || isClickable( $target ) || isClickable( $target.parent() ) ) {\r\n            return;\r\n        }\r\n\r\n        // Ignore clicks on the scrollbar\r\n        if ( e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left ) {\r\n            return;\r\n        }\r\n\r\n        self.startPoints = pointers( e );\r\n\r\n        // Prevent zooming if already swiping\r\n        if ( !self.startPoints || ( self.startPoints.length > 1 && instance.isSliding ) ) {\r\n            return;\r\n        }\r\n\r\n        self.$target  = $target;\r\n        self.$content = $content;\r\n        self.canTap   = true;\r\n\r\n        $(document).off( '.fb.touch' );\r\n\r\n        $(document).on( isTouchDevice ? 'touchend.fb.touch touchcancel.fb.touch' : 'mouseup.fb.touch mouseleave.fb.touch',  $.proxy(self, \"ontouchend\"));\r\n        $(document).on( isTouchDevice ? 'touchmove.fb.touch' : 'mousemove.fb.touch',  $.proxy(self, \"ontouchmove\"));\r\n\r\n        e.stopPropagation();\r\n\r\n        if ( !(instance.current.opts.touch || instance.canPan() ) || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {\r\n\r\n            // Prevent ghosting\r\n            if ( $target.is('img') ) {\r\n                e.preventDefault();\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        if ( !( $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) ) {\r\n            e.preventDefault();\r\n        }\r\n\r\n        self.canvasWidth  = Math.round( current.$slide[0].clientWidth );\r\n        self.canvasHeight = Math.round( current.$slide[0].clientHeight );\r\n\r\n        self.startTime = new Date().getTime();\r\n        self.distanceX = self.distanceY = self.distance = 0;\r\n\r\n        self.isPanning = false;\r\n        self.isSwiping = false;\r\n        self.isZooming = false;\r\n\r\n        self.sliderStartPos  = self.sliderLastPos || { top: 0, left: 0 };\r\n        self.contentStartPos = $.fancybox.getTranslate( self.$content );\r\n        self.contentLastPos  = null;\r\n\r\n        if ( self.startPoints.length === 1 && !self.isZooming ) {\r\n            self.canTap = !instance.isSliding;\r\n\r\n            if ( current.type === 'image' && ( self.contentStartPos.width > self.canvasWidth + 1 || self.contentStartPos.height > self.canvasHeight + 1 ) ) {\r\n\r\n                $.fancybox.stop( self.$content );\r\n\r\n                self.$content.css( 'transition-duration', '0ms' );\r\n\r\n                self.isPanning = true;\r\n\r\n            } else {\r\n\r\n                self.isSwiping = true;\r\n            }\r\n\r\n            self.$container.addClass('fancybox-controls--isGrabbing');\r\n        }\r\n\r\n        if ( self.startPoints.length === 2 && !instance.isAnimating && !current.hasError && current.type === 'image' && ( current.isLoaded || current.$ghost ) ) {\r\n            self.isZooming = true;\r\n\r\n            self.isSwiping = false;\r\n            self.isPanning = false;\r\n\r\n            $.fancybox.stop( self.$content );\r\n\r\n            self.$content.css( 'transition-duration', '0ms' );\r\n\r\n            self.centerPointStartX = ( ( self.startPoints[0].x + self.startPoints[1].x ) * 0.5 ) - $(window).scrollLeft();\r\n            self.centerPointStartY = ( ( self.startPoints[0].y + self.startPoints[1].y ) * 0.5 ) - $(window).scrollTop();\r\n\r\n            self.percentageOfImageAtPinchPointX = ( self.centerPointStartX - self.contentStartPos.left ) / self.contentStartPos.width;\r\n            self.percentageOfImageAtPinchPointY = ( self.centerPointStartY - self.contentStartPos.top  ) / self.contentStartPos.height;\r\n\r\n            self.startDistanceBetweenFingers = distance( self.startPoints[0], self.startPoints[1] );\r\n        }\r\n\r\n    };\r\n\r\n    Guestures.prototype.ontouchmove = function( e ) {\r\n\r\n        var self = this;\r\n\r\n        self.newPoints = pointers( e );\r\n\r\n        if ( $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) {\r\n            e.stopPropagation();\r\n\r\n            self.canTap = false;\r\n\r\n            return;\r\n        }\r\n\r\n        if ( !( self.instance.current.opts.touch || self.instance.canPan() ) || !self.newPoints || !self.newPoints.length ) {\r\n            return;\r\n        }\r\n\r\n        self.distanceX = distance( self.newPoints[0], self.startPoints[0], 'x' );\r\n        self.distanceY = distance( self.newPoints[0], self.startPoints[0], 'y' );\r\n\r\n        self.distance = distance( self.newPoints[0], self.startPoints[0] );\r\n\r\n        // Skip false ontouchmove events (Chrome)\r\n        if ( self.distance > 0 ) {\r\n\r\n            if ( !( self.$target.is( self.$stage ) || self.$stage.find( self.$target ).length ) ) {\r\n                return;\r\n            }\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n\r\n            if ( self.isSwiping ) {\r\n                self.onSwipe();\r\n\r\n            } else if ( self.isPanning ) {\r\n                self.onPan();\r\n\r\n            } else if ( self.isZooming ) {\r\n                self.onZoom();\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Guestures.prototype.onSwipe = function() {\r\n\r\n        var self = this;\r\n\r\n        var swiping = self.isSwiping;\r\n        var left    = self.sliderStartPos.left || 0;\r\n        var angle;\r\n\r\n        if ( swiping === true ) {\r\n\r\n            if ( Math.abs( self.distance ) > 10 )  {\r\n\r\n                self.canTap = false;\r\n\r\n                if ( self.instance.group.length < 2 && self.instance.opts.touch.vertical ) {\r\n                    self.isSwiping  = 'y';\r\n\r\n                } else if ( self.instance.isSliding || self.instance.opts.touch.vertical === false || ( self.instance.opts.touch.vertical === 'auto' && $( window ).width() > 800 ) ) {\r\n                    self.isSwiping  = 'x';\r\n\r\n                } else {\r\n                    angle = Math.abs( Math.atan2( self.distanceY, self.distanceX ) * 180 / Math.PI );\r\n\r\n                    self.isSwiping = ( angle > 45 && angle < 135 ) ? 'y' : 'x';\r\n                }\r\n\r\n                self.instance.isSliding = self.isSwiping;\r\n\r\n                // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\r\n                self.startPoints = self.newPoints;\r\n\r\n                $.each(self.instance.slides, function( index, slide ) {\r\n                    $.fancybox.stop( slide.$slide );\r\n\r\n                    slide.$slide.css( 'transition-duration', '0ms' );\r\n\r\n                    slide.inTransition = false;\r\n\r\n                    if ( slide.pos === self.instance.current.pos ) {\r\n                        self.sliderStartPos.left = $.fancybox.getTranslate( slide.$slide ).left;\r\n                    }\r\n                });\r\n\r\n                //self.instance.current.isMoved = true;\r\n\r\n                // Stop slideshow\r\n                if ( self.instance.SlideShow && self.instance.SlideShow.isActive ) {\r\n                    self.instance.SlideShow.stop();\r\n                }\r\n            }\r\n\r\n        } else {\r\n\r\n            if ( swiping == 'x' ) {\r\n\r\n                // Sticky edges\r\n                if ( self.distanceX > 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === 0 && !self.instance.current.opts.loop ) ) ) {\r\n                    left = left + Math.pow( self.distanceX, 0.8 );\r\n\r\n                } else if ( self.distanceX < 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop ) ) ) {\r\n                    left = left - Math.pow( -self.distanceX, 0.8 );\r\n\r\n                } else {\r\n                    left = left + self.distanceX;\r\n                }\r\n\r\n            }\r\n\r\n            self.sliderLastPos = {\r\n                top  : swiping == 'x' ? 0 : self.sliderStartPos.top + self.distanceY,\r\n                left : left\r\n            };\r\n\r\n            if ( self.requestId ) {\r\n                cancelAFrame( self.requestId );\r\n\r\n                self.requestId = null;\r\n            }\r\n\r\n            self.requestId = requestAFrame(function() {\r\n\r\n                if ( self.sliderLastPos ) {\r\n                    $.each(self.instance.slides, function( index, slide ) {\r\n                        var pos = slide.pos - self.instance.currPos;\r\n\r\n                        $.fancybox.setTranslate( slide.$slide, {\r\n                            top  : self.sliderLastPos.top,\r\n                            left : self.sliderLastPos.left + ( pos * self.canvasWidth ) + ( pos * slide.opts.gutter )\r\n                        });\r\n                    });\r\n\r\n                    self.$container.addClass( 'fancybox-is-sliding' );\r\n                }\r\n\r\n            });\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Guestures.prototype.onPan = function() {\r\n\r\n        var self = this;\r\n\r\n        var newOffsetX, newOffsetY, newPos;\r\n\r\n        self.canTap = false;\r\n\r\n        if ( self.contentStartPos.width > self.canvasWidth ) {\r\n            newOffsetX = self.contentStartPos.left + self.distanceX;\r\n\r\n        } else {\r\n            newOffsetX = self.contentStartPos.left;\r\n        }\r\n\r\n        newOffsetY = self.contentStartPos.top + self.distanceY;\r\n\r\n        newPos = self.limitMovement( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\r\n\r\n        newPos.scaleX = self.contentStartPos.scaleX;\r\n        newPos.scaleY = self.contentStartPos.scaleY;\r\n\r\n        self.contentLastPos = newPos;\r\n\r\n        if ( self.requestId ) {\r\n            cancelAFrame( self.requestId );\r\n\r\n            self.requestId = null;\r\n        }\r\n\r\n        self.requestId = requestAFrame(function() {\r\n            $.fancybox.setTranslate( self.$content, self.contentLastPos );\r\n        });\r\n    };\r\n\r\n    // Make panning sticky to the edges\r\n    Guestures.prototype.limitMovement = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\r\n\r\n        var self = this;\r\n\r\n        var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY;\r\n\r\n        var canvasWidth  = self.canvasWidth;\r\n        var canvasHeight = self.canvasHeight;\r\n\r\n        var currentOffsetX = self.contentStartPos.left;\r\n        var currentOffsetY = self.contentStartPos.top;\r\n\r\n        var distanceX = self.distanceX;\r\n        var distanceY = self.distanceY;\r\n\r\n        // Slow down proportionally to traveled distance\r\n\r\n        minTranslateX = Math.max(0, canvasWidth  * 0.5 - newWidth  * 0.5 );\r\n        minTranslateY = Math.max(0, canvasHeight * 0.5 - newHeight * 0.5 );\r\n\r\n        maxTranslateX = Math.min( canvasWidth  - newWidth,  canvasWidth  * 0.5 - newWidth  * 0.5 );\r\n        maxTranslateY = Math.min( canvasHeight - newHeight, canvasHeight * 0.5 - newHeight * 0.5 );\r\n\r\n        if ( newWidth > canvasWidth ) {\r\n\r\n            //   ->\r\n            if ( distanceX > 0 && newOffsetX > minTranslateX ) {\r\n                newOffsetX = minTranslateX - 1 + Math.pow( -minTranslateX + currentOffsetX + distanceX, 0.8 ) || 0;\r\n            }\r\n\r\n            //    <-\r\n            if ( distanceX  < 0 && newOffsetX < maxTranslateX ) {\r\n                newOffsetX = maxTranslateX + 1 - Math.pow( maxTranslateX - currentOffsetX - distanceX, 0.8 ) || 0;\r\n            }\r\n\r\n        }\r\n\r\n        if ( newHeight > canvasHeight ) {\r\n\r\n            //   \\/\r\n            if ( distanceY > 0 && newOffsetY > minTranslateY ) {\r\n                newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8 ) || 0;\r\n            }\r\n\r\n            //   /\\\r\n            if ( distanceY < 0 && newOffsetY < maxTranslateY ) {\r\n                newOffsetY = maxTranslateY + 1 - Math.pow ( maxTranslateY - currentOffsetY - distanceY, 0.8 ) || 0;\r\n            }\r\n\r\n        }\r\n\r\n        return {\r\n            top  : newOffsetY,\r\n            left : newOffsetX\r\n        };\r\n\r\n    };\r\n\r\n\r\n    Guestures.prototype.limitPosition = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\r\n\r\n        var self = this;\r\n\r\n        var canvasWidth  = self.canvasWidth;\r\n        var canvasHeight = self.canvasHeight;\r\n\r\n        if ( newWidth > canvasWidth ) {\r\n            newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\r\n            newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\r\n\r\n        } else {\r\n\r\n            // Center horizontally\r\n            newOffsetX = Math.max( 0, canvasWidth / 2 - newWidth / 2 );\r\n\r\n        }\r\n\r\n        if ( newHeight > canvasHeight ) {\r\n            newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\r\n            newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\r\n\r\n        } else {\r\n\r\n            // Center vertically\r\n            newOffsetY = Math.max( 0, canvasHeight / 2 - newHeight / 2 );\r\n\r\n        }\r\n\r\n        return {\r\n            top  : newOffsetY,\r\n            left : newOffsetX\r\n        };\r\n\r\n    };\r\n\r\n    Guestures.prototype.onZoom = function() {\r\n\r\n        var self = this;\r\n\r\n        // Calculate current distance between points to get pinch ratio and new width and height\r\n\r\n        var currentWidth  = self.contentStartPos.width;\r\n        var currentHeight = self.contentStartPos.height;\r\n\r\n        var currentOffsetX = self.contentStartPos.left;\r\n        var currentOffsetY = self.contentStartPos.top;\r\n\r\n        var endDistanceBetweenFingers = distance( self.newPoints[0], self.newPoints[1] );\r\n\r\n        var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\r\n\r\n        var newWidth  = Math.floor( currentWidth  * pinchRatio );\r\n        var newHeight = Math.floor( currentHeight * pinchRatio );\r\n\r\n        // This is the translation due to pinch-zooming\r\n        var translateFromZoomingX = (currentWidth  - newWidth)  * self.percentageOfImageAtPinchPointX;\r\n        var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\r\n\r\n        //Point between the two touches\r\n\r\n        var centerPointEndX = ((self.newPoints[0].x + self.newPoints[1].x) / 2) - $(window).scrollLeft();\r\n        var centerPointEndY = ((self.newPoints[0].y + self.newPoints[1].y) / 2) - $(window).scrollTop();\r\n\r\n        // And this is the translation due to translation of the centerpoint\r\n        // between the two fingers\r\n\r\n        var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\r\n        var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\r\n\r\n        // The new offset is the old/current one plus the total translation\r\n\r\n        var newOffsetX = currentOffsetX + ( translateFromZoomingX + translateFromTranslatingX );\r\n        var newOffsetY = currentOffsetY + ( translateFromZoomingY + translateFromTranslatingY );\r\n\r\n        var newPos = {\r\n            top    : newOffsetY,\r\n            left   : newOffsetX,\r\n            scaleX : self.contentStartPos.scaleX * pinchRatio,\r\n            scaleY : self.contentStartPos.scaleY * pinchRatio\r\n        };\r\n\r\n        self.canTap = false;\r\n\r\n        self.newWidth  = newWidth;\r\n        self.newHeight = newHeight;\r\n\r\n        self.contentLastPos = newPos;\r\n\r\n        if ( self.requestId ) {\r\n            cancelAFrame( self.requestId );\r\n\r\n            self.requestId = null;\r\n        }\r\n\r\n        self.requestId = requestAFrame(function() {\r\n            $.fancybox.setTranslate( self.$content, self.contentLastPos );\r\n        });\r\n\r\n    };\r\n\r\n    Guestures.prototype.ontouchend = function( e ) {\r\n\r\n        var self = this;\r\n        var dMs  = Math.max( (new Date().getTime() ) - self.startTime, 1);\r\n\r\n        var swiping = self.isSwiping;\r\n        var panning = self.isPanning;\r\n        var zooming = self.isZooming;\r\n\r\n        self.endPoints = pointers( e );\r\n\r\n        self.$container.removeClass( 'fancybox-controls--isGrabbing' );\r\n\r\n        $(document).off( '.fb.touch' );\r\n\r\n        if ( self.requestId ) {\r\n            cancelAFrame( self.requestId );\r\n\r\n            self.requestId = null;\r\n        }\r\n\r\n        self.isSwiping = false;\r\n        self.isPanning = false;\r\n        self.isZooming = false;\r\n\r\n        if ( self.canTap )  {\r\n            return self.onTap( e );\r\n        }\r\n\r\n        self.speed = 366;\r\n\r\n        // Speed in px/ms\r\n        self.velocityX = self.distanceX / dMs * 0.5;\r\n        self.velocityY = self.distanceY / dMs * 0.5;\r\n\r\n        self.speedX = Math.max( self.speed * 0.5, Math.min( self.speed * 1.5, ( 1 / Math.abs( self.velocityX ) ) * self.speed ) );\r\n\r\n        if ( panning ) {\r\n            self.endPanning();\r\n\r\n        } else if ( zooming ) {\r\n            self.endZooming();\r\n\r\n        } else {\r\n            self.endSwiping( swiping );\r\n        }\r\n\r\n        return;\r\n    };\r\n\r\n    Guestures.prototype.endSwiping = function( swiping ) {\r\n\r\n        var self = this;\r\n        var ret = false;\r\n\r\n        self.instance.isSliding = false;\r\n        self.sliderLastPos      = null;\r\n\r\n        // Close if swiped vertically / navigate if horizontally\r\n        if ( swiping == 'y' && Math.abs( self.distanceY ) > 50 ) {\r\n\r\n            // Continue vertical movement\r\n            $.fancybox.animate( self.instance.current.$slide, {\r\n                top     : self.sliderStartPos.top + self.distanceY + ( self.velocityY * 150 ),\r\n                opacity : 0\r\n            }, 150 );\r\n\r\n            ret = self.instance.close( true, 300 );\r\n\r\n        } else if ( swiping == 'x' && self.distanceX > 50 && self.instance.group.length > 1 ) {\r\n            ret = self.instance.previous( self.speedX );\r\n\r\n        } else if ( swiping == 'x' && self.distanceX < -50  && self.instance.group.length > 1 ) {\r\n            ret = self.instance.next( self.speedX );\r\n        }\r\n\r\n        if ( ret === false && ( swiping == 'x' || swiping == 'y' ) ) {\r\n            self.instance.jumpTo( self.instance.current.index, 150 );\r\n        }\r\n\r\n        self.$container.removeClass( 'fancybox-is-sliding' );\r\n\r\n    };\r\n\r\n    // Limit panning from edges\r\n    // ========================\r\n\r\n    Guestures.prototype.endPanning = function() {\r\n\r\n        var self = this;\r\n        var newOffsetX, newOffsetY, newPos;\r\n\r\n        if ( !self.contentLastPos ) {\r\n            return;\r\n        }\r\n\r\n        if ( self.instance.current.opts.touch.momentum === false ) {\r\n            newOffsetX = self.contentLastPos.left;\r\n            newOffsetY = self.contentLastPos.top;\r\n\r\n        } else {\r\n\r\n            // Continue movement\r\n            newOffsetX = self.contentLastPos.left + ( self.velocityX * self.speed );\r\n            newOffsetY = self.contentLastPos.top  + ( self.velocityY * self.speed );\r\n        }\r\n\r\n        newPos = self.limitPosition( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\r\n\r\n         newPos.width  = self.contentStartPos.width;\r\n         newPos.height = self.contentStartPos.height;\r\n\r\n        $.fancybox.animate( self.$content, newPos, 330 );\r\n    };\r\n\r\n\r\n    Guestures.prototype.endZooming = function() {\r\n\r\n        var self = this;\r\n\r\n        var current = self.instance.current;\r\n\r\n        var newOffsetX, newOffsetY, newPos, reset;\r\n\r\n        var newWidth  = self.newWidth;\r\n        var newHeight = self.newHeight;\r\n\r\n        if ( !self.contentLastPos ) {\r\n            return;\r\n        }\r\n\r\n        newOffsetX = self.contentLastPos.left;\r\n        newOffsetY = self.contentLastPos.top;\r\n\r\n        reset = {\r\n            top    : newOffsetY,\r\n            left   : newOffsetX,\r\n            width  : newWidth,\r\n            height : newHeight,\r\n            scaleX : 1,\r\n            scaleY : 1\r\n       };\r\n\r\n       // Reset scalex/scaleY values; this helps for perfomance and does not break animation\r\n       $.fancybox.setTranslate( self.$content, reset );\r\n\r\n        if ( newWidth < self.canvasWidth && newHeight < self.canvasHeight ) {\r\n            self.instance.scaleToFit( 150 );\r\n\r\n        } else if ( newWidth > current.width || newHeight > current.height ) {\r\n            self.instance.scaleToActual( self.centerPointStartX, self.centerPointStartY, 150 );\r\n\r\n        } else {\r\n\r\n            newPos = self.limitPosition( newOffsetX, newOffsetY, newWidth, newHeight );\r\n\r\n            // Switch from scale() to width/height or animation will not work correctly\r\n            $.fancybox.setTranslate( self.content, $.fancybox.getTranslate( self.$content ) );\r\n\r\n            $.fancybox.animate( self.$content, newPos, 150 );\r\n        }\r\n\r\n    };\r\n\r\n    Guestures.prototype.onTap = function(e) {\r\n        var self    = this;\r\n        var $target = $( e.target );\r\n\r\n        var instance = self.instance;\r\n        var current  = instance.current;\r\n\r\n        var endPoints = ( e && pointers( e ) ) || self.startPoints;\r\n\r\n        var tapX = endPoints[0] ? endPoints[0].x - self.$stage.offset().left : 0;\r\n        var tapY = endPoints[0] ? endPoints[0].y - self.$stage.offset().top  : 0;\r\n\r\n        var where;\r\n\r\n        var process = function ( prefix ) {\r\n\r\n            var action = current.opts[ prefix ];\r\n\r\n            if ( $.isFunction( action ) ) {\r\n                action = action.apply( instance, [ current, e ] );\r\n            }\r\n\r\n            if ( !action) {\r\n                return;\r\n            }\r\n\r\n            switch ( action ) {\r\n\r\n                case \"close\" :\r\n\r\n                    instance.close( self.startEvent );\r\n\r\n                break;\r\n\r\n                case \"toggleControls\" :\r\n\r\n                    instance.toggleControls( true );\r\n\r\n                break;\r\n\r\n                case \"next\" :\r\n\r\n                    instance.next();\r\n\r\n                break;\r\n\r\n                case \"nextOrClose\" :\r\n\r\n                    if ( instance.group.length > 1 ) {\r\n                        instance.next();\r\n\r\n                    } else {\r\n                        instance.close( self.startEvent );\r\n                    }\r\n\r\n                break;\r\n\r\n                case \"zoom\" :\r\n\r\n                    if ( current.type == 'image' && ( current.isLoaded || current.$ghost ) ) {\r\n\r\n                        if ( instance.canPan() ) {\r\n                            instance.scaleToFit();\r\n\r\n                        } else if ( instance.isScaledDown() ) {\r\n                            instance.scaleToActual( tapX, tapY );\r\n\r\n                        } else if ( instance.group.length < 2 ) {\r\n                            instance.close( self.startEvent );\r\n                        }\r\n                    }\r\n\r\n                break;\r\n            }\r\n\r\n        };\r\n\r\n        // Ignore right click\r\n        if ( e.originalEvent && e.originalEvent.button == 2 ) {\r\n            return;\r\n        }\r\n\r\n        // Skip if current slide is not in the center\r\n        if ( instance.isSliding ) {\r\n            return;\r\n        }\r\n\r\n        // Skip if clicked on the scrollbar\r\n        if ( tapX > $target[0].clientWidth + $target.offset().left ) {\r\n            return;\r\n        }\r\n\r\n        // Check where is clicked\r\n        if ( $target.is( '.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container' ) ) {\r\n            where = 'Outside';\r\n\r\n        } else if ( $target.is( '.fancybox-slide' ) ) {\r\n            where = 'Slide';\r\n\r\n        } else if  ( instance.current.$content && instance.current.$content.has( e.target ).length ) {\r\n            where = 'Content';\r\n\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        // Check if this is a double tap\r\n        if ( self.tapped ) {\r\n\r\n            // Stop previously created single tap\r\n            clearTimeout( self.tapped );\r\n            self.tapped = null;\r\n\r\n            // Skip if distance between taps is too big\r\n            if ( Math.abs( tapX - self.tapX ) > 50 || Math.abs( tapY - self.tapY ) > 50 || instance.isSliding ) {\r\n                return this;\r\n            }\r\n\r\n            // OK, now we assume that this is a double-tap\r\n            process( 'dblclick' + where );\r\n\r\n        } else {\r\n\r\n            // Single tap will be processed if user has not clicked second time within 300ms\r\n            // or there is no need to wait for double-tap\r\n            self.tapX = tapX;\r\n            self.tapY = tapY;\r\n\r\n            if ( current.opts[ 'dblclick' + where ] && current.opts[ 'dblclick' + where ] !== current.opts[ 'click' + where ] ) {\r\n                self.tapped = setTimeout(function() {\r\n                    self.tapped = null;\r\n\r\n                    process( 'click' + where );\r\n\r\n                }, 300);\r\n\r\n            } else {\r\n                process( 'click' + where );\r\n            }\r\n\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    $(document).on('onActivate.fb', function (e, instance) {\r\n        if ( instance && !instance.Guestures ) {\r\n            instance.Guestures = new Guestures( instance );\r\n        }\r\n    });\r\n\r\n    $(document).on('beforeClose.fb', function (e, instance) {\r\n        if ( instance && instance.Guestures ) {\r\n            instance.Guestures.destroy();\r\n        }\r\n    });\r\n\r\n\r\n}(window, document, window.jQuery));\r\n\r\n// ==========================================================================\r\n//\r\n// SlideShow\r\n// Enables slideshow functionality\r\n//\r\n// Example of usage:\r\n// $.fancybox.getInstance().SlideShow.start()\r\n//\r\n// ==========================================================================\r\n;(function (document, $) {\r\n    'use strict';\r\n\r\n    var SlideShow = function( instance ) {\r\n        this.instance = instance;\r\n        this.init();\r\n    };\r\n\r\n    $.extend( SlideShow.prototype, {\r\n        timer    : null,\r\n        isActive : false,\r\n        $button  : null,\r\n        speed    : 3000,\r\n\r\n        init : function() {\r\n            var self = this;\r\n\r\n            self.$button = self.instance.$refs.toolbar.find('[data-fancybox-play]').on('click', function() {\r\n                self.toggle();\r\n            });\r\n\r\n            if ( self.instance.group.length < 2 || !self.instance.group[ self.instance.currIndex ].opts.slideShow ) {\r\n                self.$button.hide();\r\n            }\r\n        },\r\n\r\n        set : function() {\r\n            var self = this;\r\n\r\n            // Check if reached last element\r\n            if ( self.instance && self.instance.current && (self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1 )) {\r\n                self.timer = setTimeout(function() {\r\n                    self.instance.next();\r\n\r\n                }, self.instance.current.opts.slideShow.speed || self.speed);\r\n\r\n            } else {\r\n                self.stop();\r\n                self.instance.idleSecondsCounter = 0;\r\n                self.instance.showControls();\r\n            }\r\n\r\n        },\r\n\r\n        clear : function() {\r\n            var self = this;\r\n\r\n            clearTimeout( self.timer );\r\n\r\n            self.timer = null;\r\n        },\r\n\r\n        start : function() {\r\n            var self = this;\r\n            var current = self.instance.current;\r\n\r\n            if ( self.instance && current && ( current.opts.loop || current.index < self.instance.group.length - 1 )) {\r\n\r\n                self.isActive = true;\r\n\r\n                self.$button\r\n                    .attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_STOP )\r\n                    .addClass( 'fancybox-button--pause' );\r\n\r\n                if ( current.isComplete ) {\r\n                    self.set();\r\n                }\r\n            }\r\n        },\r\n\r\n        stop : function() {\r\n            var self = this;\r\n            var current = self.instance.current;\r\n\r\n            self.clear();\r\n\r\n            self.$button\r\n                .attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_START )\r\n                .removeClass( 'fancybox-button--pause' );\r\n\r\n            self.isActive = false;\r\n        },\r\n\r\n        toggle : function() {\r\n            var self = this;\r\n\r\n            if ( self.isActive ) {\r\n                self.stop();\r\n\r\n            } else {\r\n                self.start();\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    $(document).on({\r\n        'onInit.fb' : function(e, instance) {\r\n            if ( instance && !instance.SlideShow ) {\r\n                instance.SlideShow = new SlideShow( instance );\r\n            }\r\n        },\r\n\r\n        'beforeShow.fb' : function(e, instance, current, firstRun) {\r\n            var SlideShow = instance && instance.SlideShow;\r\n\r\n            if ( firstRun ) {\r\n\r\n                if ( SlideShow && current.opts.slideShow.autoStart ) {\r\n                    SlideShow.start();\r\n                }\r\n\r\n            } else if ( SlideShow && SlideShow.isActive )  {\r\n                SlideShow.clear();\r\n            }\r\n        },\r\n\r\n        'afterShow.fb' : function(e, instance, current) {\r\n            var SlideShow = instance && instance.SlideShow;\r\n\r\n            if ( SlideShow && SlideShow.isActive ) {\r\n                SlideShow.set();\r\n            }\r\n        },\r\n\r\n        'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\r\n            var SlideShow = instance && instance.SlideShow;\r\n\r\n            // \"P\" or Spacebar\r\n            if ( SlideShow && current.opts.slideShow && ( keycode === 80 || keycode === 32 ) && !$(document.activeElement).is( 'button,a,input' ) ) {\r\n                keypress.preventDefault();\r\n\r\n                SlideShow.toggle();\r\n            }\r\n        },\r\n\r\n        'beforeClose.fb onDeactivate.fb' : function(e, instance) {\r\n            var SlideShow = instance && instance.SlideShow;\r\n\r\n            if ( SlideShow ) {\r\n                SlideShow.stop();\r\n            }\r\n        }\r\n    });\r\n\r\n    // Page Visibility API to pause slideshow when window is not active\r\n    $(document).on(\"visibilitychange\", function() {\r\n        var instance  = $.fancybox.getInstance();\r\n        var SlideShow = instance && instance.SlideShow;\r\n\r\n        if ( SlideShow && SlideShow.isActive ) {\r\n            if ( document.hidden ) {\r\n                SlideShow.clear();\r\n\r\n            } else {\r\n                SlideShow.set();\r\n            }\r\n        }\r\n    });\r\n\r\n}(document, window.jQuery));\r\n\r\n// ==========================================================================\r\n//\r\n// FullScreen\r\n// Adds fullscreen functionality\r\n//\r\n// ==========================================================================\r\n;(function (document, $) {\r\n    'use strict';\r\n\r\n    // Collection of methods supported by user browser\r\n    var fn = (function () {\r\n\r\n        var fnMap = [\r\n            [\r\n                'requestFullscreen',\r\n                'exitFullscreen',\r\n                'fullscreenElement',\r\n                'fullscreenEnabled',\r\n                'fullscreenchange',\r\n                'fullscreenerror'\r\n            ],\r\n            // new WebKit\r\n            [\r\n                'webkitRequestFullscreen',\r\n                'webkitExitFullscreen',\r\n                'webkitFullscreenElement',\r\n                'webkitFullscreenEnabled',\r\n                'webkitfullscreenchange',\r\n                'webkitfullscreenerror'\r\n\r\n            ],\r\n            // old WebKit (Safari 5.1)\r\n            [\r\n                'webkitRequestFullScreen',\r\n                'webkitCancelFullScreen',\r\n                'webkitCurrentFullScreenElement',\r\n                'webkitCancelFullScreen',\r\n                'webkitfullscreenchange',\r\n                'webkitfullscreenerror'\r\n\r\n            ],\r\n            [\r\n                'mozRequestFullScreen',\r\n                'mozCancelFullScreen',\r\n                'mozFullScreenElement',\r\n                'mozFullScreenEnabled',\r\n                'mozfullscreenchange',\r\n                'mozfullscreenerror'\r\n            ],\r\n            [\r\n                'msRequestFullscreen',\r\n                'msExitFullscreen',\r\n                'msFullscreenElement',\r\n                'msFullscreenEnabled',\r\n                'MSFullscreenChange',\r\n                'MSFullscreenError'\r\n            ]\r\n        ];\r\n\r\n        var val;\r\n        var ret = {};\r\n        var i, j;\r\n\r\n        for ( i = 0; i < fnMap.length; i++ ) {\r\n            val = fnMap[ i ];\r\n\r\n            if ( val && val[ 1 ] in document ) {\r\n                for ( j = 0; j < val.length; j++ ) {\r\n                    ret[ fnMap[ 0 ][ j ] ] = val[ j ];\r\n                }\r\n\r\n                return ret;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    })();\r\n\r\n    // If browser does not have Full Screen API, then simply unset default button template and stop\r\n    if ( !fn ) {\r\n        $.fancybox.defaults.btnTpl.fullScreen = false;\r\n\r\n        return;\r\n    }\r\n\r\n    var FullScreen = {\r\n        request : function ( elem ) {\r\n\r\n            elem = elem || document.documentElement;\r\n\r\n            elem[ fn.requestFullscreen ]( elem.ALLOW_KEYBOARD_INPUT );\r\n\r\n        },\r\n        exit : function () {\r\n\r\n            document[ fn.exitFullscreen ]();\r\n\r\n        },\r\n        toggle : function ( elem ) {\r\n\r\n            elem = elem || document.documentElement;\r\n\r\n            if ( this.isFullscreen() ) {\r\n                this.exit();\r\n\r\n            } else {\r\n                this.request( elem );\r\n            }\r\n\r\n        },\r\n        isFullscreen : function()  {\r\n\r\n            return Boolean( document[ fn.fullscreenElement ] );\r\n\r\n        },\r\n        enabled : function()  {\r\n\r\n            return Boolean( document[ fn.fullscreenEnabled ] );\r\n\r\n        }\r\n    };\r\n\r\n    $(document).on({\r\n        'onInit.fb' : function(e, instance) {\r\n            var $container;\r\n\r\n            var $button = instance.$refs.toolbar.find('[data-fancybox-fullscreen]');\r\n\r\n            if ( instance && !instance.FullScreen && instance.group[ instance.currIndex ].opts.fullScreen ) {\r\n                $container = instance.$refs.container;\r\n\r\n                $container.on('click.fb-fullscreen', '[data-fancybox-fullscreen]', function(e) {\r\n\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n\r\n                    FullScreen.toggle( $container[ 0 ] );\r\n\r\n                });\r\n\r\n                if ( instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true ) {\r\n                    FullScreen.request( $container[ 0 ] );\r\n                }\r\n\r\n                // Expose API\r\n                instance.FullScreen = FullScreen;\r\n\r\n            } else {\r\n                $button.hide();\r\n            }\r\n\r\n        },\r\n\r\n        'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\r\n\r\n            // \"P\" or Spacebar\r\n            if ( instance && instance.FullScreen && keycode === 70 ) {\r\n                keypress.preventDefault();\r\n\r\n                instance.FullScreen.toggle( instance.$refs.container[ 0 ] );\r\n            }\r\n\r\n        },\r\n\r\n        'beforeClose.fb' : function( instance ) {\r\n            if ( instance && instance.FullScreen ) {\r\n                FullScreen.exit();\r\n            }\r\n        }\r\n    });\r\n\r\n    $(document).on(fn.fullscreenchange, function() {\r\n        var instance = $.fancybox.getInstance();\r\n\r\n        // If image is zooming, then force to stop and reposition properly\r\n        if ( instance.current && instance.current.type === 'image' && instance.isAnimating ) {\r\n            instance.current.$content.css( 'transition', 'none' );\r\n\r\n            instance.isAnimating = false;\r\n\r\n            instance.update( true, true, 0 );\r\n        }\r\n\r\n    });\r\n\r\n}(document, window.jQuery));\r\n\r\n// ==========================================================================\r\n//\r\n// Thumbs\r\n// Displays thumbnails in a grid\r\n//\r\n// ==========================================================================\r\n;(function (document, $) {\r\n    'use strict';\r\n\r\n    var FancyThumbs = function( instance ) {\r\n        this.instance = instance;\r\n        this.init();\r\n    };\r\n\r\n    $.extend( FancyThumbs.prototype, {\r\n\r\n        $button     : null,\r\n        $grid       : null,\r\n        $list       : null,\r\n        isVisible   : false,\r\n\r\n        init : function() {\r\n            var self = this;\r\n\r\n            var first  = self.instance.group[0],\r\n                second = self.instance.group[1];\r\n\r\n            self.$button = self.instance.$refs.toolbar.find( '[data-fancybox-thumbs]' );\r\n\r\n            if ( self.instance.group.length > 1 && self.instance.group[ self.instance.currIndex ].opts.thumbs && (\r\n                    ( first.type == 'image'  || first.opts.thumb  || first.opts.$thumb ) &&\r\n                    ( second.type == 'image' || second.opts.thumb || second.opts.$thumb )\r\n            )) {\r\n\r\n                self.$button.on('click', function() {\r\n                    self.toggle();\r\n                });\r\n\r\n                self.isActive = true;\r\n\r\n            } else {\r\n                self.$button.hide();\r\n\r\n                self.isActive = false;\r\n            }\r\n\r\n        },\r\n\r\n        create : function() {\r\n            var instance = this.instance,\r\n                list,\r\n                src;\r\n\r\n            this.$grid = $('<div class=\"fancybox-thumbs\"></div>').appendTo( instance.$refs.container );\r\n\r\n            list = '<ul>';\r\n\r\n            $.each(instance.group, function( i, item ) {\r\n\r\n                src = item.opts.thumb || ( item.opts.$thumb ? item.opts.$thumb.attr('src') : null );\r\n\r\n                if ( !src && item.type === 'image' ) {\r\n                    src = item.src;\r\n                }\r\n\r\n                if ( src && src.length ) {\r\n                    list += '<li data-index=\"' + i + '\"  tabindex=\"0\" class=\"fancybox-thumbs-loading\"><img data-src=\"' + src + '\" /></li>';\r\n                }\r\n\r\n            });\r\n\r\n            list += '</ul>';\r\n\r\n            this.$list = $( list ).appendTo( this.$grid ).on('click', 'li', function() {\r\n                instance.jumpTo( $(this).data('index') );\r\n            });\r\n\r\n            this.$list.find('img').hide().one('load', function() {\r\n\r\n                var $parent     = $(this).parent().removeClass('fancybox-thumbs-loading'),\r\n                    thumbWidth  = $parent.outerWidth(),\r\n                    thumbHeight = $parent.outerHeight(),\r\n                    width,\r\n                    height,\r\n                    widthRatio,\r\n                    heightRatio;\r\n\r\n                width  = this.naturalWidth  || this.width;\r\n                height = this.naturalHeight || this.height;\r\n\r\n                //Calculate thumbnail width/height and center it\r\n\r\n                widthRatio  = width  / thumbWidth;\r\n                heightRatio = height / thumbHeight;\r\n\r\n                if (widthRatio >= 1 && heightRatio >= 1) {\r\n                    if (widthRatio > heightRatio) {\r\n                        width  = width / heightRatio;\r\n                        height = thumbHeight;\r\n\r\n                    } else {\r\n                        width  = thumbWidth;\r\n                        height = height / widthRatio;\r\n                    }\r\n                }\r\n\r\n                $(this).css({\r\n                    width         : Math.floor(width),\r\n                    height        : Math.floor(height),\r\n                    'margin-top'  : Math.min( 0, Math.floor(thumbHeight * 0.3 - height * 0.3 ) ),\r\n                    'margin-left' : Math.min( 0, Math.floor(thumbWidth  * 0.5 - width  * 0.5 ) )\r\n                }).show();\r\n\r\n            })\r\n            .each(function() {\r\n                this.src = $( this ).data( 'src' );\r\n            });\r\n\r\n        },\r\n\r\n        focus : function() {\r\n\r\n            if ( this.instance.current ) {\r\n                this.$list\r\n                    .children()\r\n                    .removeClass('fancybox-thumbs-active')\r\n                    .filter('[data-index=\"' + this.instance.current.index  + '\"]')\r\n                    .addClass('fancybox-thumbs-active')\r\n                    .focus();\r\n            }\r\n\r\n        },\r\n\r\n        close : function() {\r\n            this.$grid.hide();\r\n        },\r\n\r\n        update : function() {\r\n\r\n            this.instance.$refs.container.toggleClass( 'fancybox-show-thumbs', this.isVisible );\r\n\r\n            if ( this.isVisible ) {\r\n\r\n                if ( !this.$grid ) {\r\n                    this.create();\r\n                }\r\n\r\n                this.instance.trigger( 'onThumbsShow' );\r\n\r\n                this.focus();\r\n\r\n            } else if ( this.$grid ) {\r\n                this.instance.trigger( 'onThumbsHide' );\r\n            }\r\n\r\n            // Update content position\r\n            this.instance.update();\r\n\r\n        },\r\n\r\n        hide : function() {\r\n            this.isVisible = false;\r\n            this.update();\r\n        },\r\n\r\n        show : function() {\r\n            this.isVisible = true;\r\n            this.update();\r\n        },\r\n\r\n        toggle : function() {\r\n            this.isVisible = !this.isVisible;\r\n            this.update();\r\n        }\r\n\r\n    });\r\n\r\n    $(document).on({\r\n\r\n        'onInit.fb' : function(e, instance) {\r\n            if ( instance && !instance.Thumbs ) {\r\n                instance.Thumbs = new FancyThumbs( instance );\r\n            }\r\n        },\r\n\r\n        'beforeShow.fb' : function(e, instance, item, firstRun) {\r\n            var Thumbs = instance && instance.Thumbs;\r\n\r\n            if ( !Thumbs || !Thumbs.isActive ) {\r\n                return;\r\n            }\r\n\r\n            if ( item.modal ) {\r\n                Thumbs.$button.hide();\r\n\r\n                Thumbs.hide();\r\n\r\n                return;\r\n            }\r\n\r\n            if ( firstRun && instance.opts.thumbs.autoStart === true ) {\r\n                Thumbs.show();\r\n            }\r\n\r\n            if ( Thumbs.isVisible ) {\r\n                Thumbs.focus();\r\n            }\r\n        },\r\n\r\n        'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\r\n            var Thumbs = instance && instance.Thumbs;\r\n\r\n            // \"G\"\r\n            if ( Thumbs && Thumbs.isActive && keycode === 71 ) {\r\n                keypress.preventDefault();\r\n\r\n                Thumbs.toggle();\r\n            }\r\n        },\r\n\r\n        'beforeClose.fb' : function( e, instance ) {\r\n            var Thumbs = instance && instance.Thumbs;\r\n\r\n            if ( Thumbs && Thumbs.isVisible && instance.opts.thumbs.hideOnClose !== false ) {\r\n                Thumbs.close();\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n}(document, window.jQuery));\r\n\r\n// ==========================================================================\r\n//\r\n// Hash\r\n// Enables linking to each modal\r\n//\r\n// ==========================================================================\r\n;(function (document, window, $) {\r\n    'use strict';\r\n\r\n    // Simple $.escapeSelector polyfill (for jQuery prior v3)\r\n    if ( !$.escapeSelector ) {\r\n        $.escapeSelector = function( sel ) {\r\n            var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\r\n            var fcssescape = function( ch, asCodePoint ) {\r\n                if ( asCodePoint ) {\r\n                    // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\r\n                    if ( ch === \"\\0\" ) {\r\n                        return \"\\uFFFD\";\r\n                    }\r\n\r\n                    // Control characters and (dependent upon position) numbers get escaped as code points\r\n                    return ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\r\n                }\r\n\r\n                // Other potentially-special ASCII characters get backslash-escaped\r\n                return \"\\\\\" + ch;\r\n            };\r\n\r\n            return ( sel + \"\" ).replace( rcssescape, fcssescape );\r\n        };\r\n    }\r\n\r\n    // Variable containing last hash value set by fancyBox\r\n    // It will be used to determine if fancyBox needs to close after hash change is detected\r\n    var currentHash = null;\r\n\r\n    // Throtlling the history change\r\n    var timerID = null;\r\n\r\n    // Get info about gallery name and current index from url\r\n    function parseUrl() {\r\n        var hash    = window.location.hash.substr( 1 );\r\n        var rez     = hash.split( '-' );\r\n        var index   = rez.length > 1 && /^\\+?\\d+$/.test( rez[ rez.length - 1 ] ) ? parseInt( rez.pop( -1 ), 10 ) || 1 : 1;\r\n        var gallery = rez.join( '-' );\r\n\r\n        // Index is starting from 1\r\n        if ( index < 1 ) {\r\n            index = 1;\r\n        }\r\n\r\n        return {\r\n            hash    : hash,\r\n            index   : index,\r\n            gallery : gallery\r\n        };\r\n    }\r\n\r\n    // Trigger click evnt on links to open new fancyBox instance\r\n    function triggerFromUrl( url ) {\r\n        var $el;\r\n\r\n        if ( url.gallery !== '' ) {\r\n\r\n            // If we can find element matching 'data-fancybox' atribute, then trigger click event for that ..\r\n            $el = $( \"[data-fancybox='\" + $.escapeSelector( url.gallery ) + \"']\" ).eq( url.index - 1 );\r\n\r\n            if ( $el.length ) {\r\n                $el.trigger( 'click' );\r\n\r\n            } else {\r\n\r\n                // .. if not, try finding element by ID\r\n                $( \"#\" + $.escapeSelector( url.gallery ) + \"\" ).trigger( 'click' );\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    // Get gallery name from current instance\r\n    function getGallery( instance ) {\r\n        var opts;\r\n\r\n        if ( !instance ) {\r\n            return false;\r\n        }\r\n\r\n        opts = instance.current ? instance.current.opts : instance.opts;\r\n\r\n        return opts.$orig ? opts.$orig.data( 'fancybox' ) : ( opts.hash || '' );\r\n    }\r\n\r\n    // Star when DOM becomes ready\r\n    $(function() {\r\n\r\n        // Small delay is used to allow other scripts to process \"dom ready\" event\r\n        setTimeout(function() {\r\n\r\n            // Check if this module is not disabled\r\n            if ( $.fancybox.defaults.hash === false ) {\r\n                return;\r\n            }\r\n\r\n            // Update hash when opening/closing fancyBox\r\n            $(document).on({\r\n                'onInit.fb' : function( e, instance ) {\r\n                    var url, gallery;\r\n\r\n                    if ( instance.group[ instance.currIndex ].opts.hash === false ) {\r\n                        return;\r\n                    }\r\n\r\n                    url     = parseUrl();\r\n                    gallery = getGallery( instance );\r\n\r\n                    // Make sure gallery start index matches index from hash\r\n                    if ( gallery && url.gallery && gallery == url.gallery ) {\r\n                        instance.currIndex = url.index - 1;\r\n                    }\r\n\r\n                },\r\n\r\n                'beforeShow.fb' : function( e, instance, current, firstRun ) {\r\n                    var gallery;\r\n\r\n                    if ( current.opts.hash === false ) {\r\n                        return;\r\n                    }\r\n\r\n                    gallery = getGallery( instance );\r\n\r\n                    // Update window hash\r\n                    if ( gallery && gallery !== '' ) {\r\n\r\n                        if ( window.location.hash.indexOf( gallery ) < 0 ) {\r\n                            instance.opts.origHash = window.location.hash;\r\n                        }\r\n\r\n                        currentHash = gallery + ( instance.group.length > 1 ? '-' + ( current.index + 1 ) : '' );\r\n\r\n                        if ( 'replaceState' in window.history ) {\r\n                            if ( timerID ) {\r\n                                clearTimeout( timerID );\r\n                            }\r\n\r\n                            timerID = setTimeout(function() {\r\n                                window.history[ firstRun ? 'pushState' : 'replaceState' ]( {} , document.title, window.location.pathname + window.location.search + '#' +  currentHash );\r\n\r\n                                timerID = null;\r\n\r\n                            }, 300);\r\n\r\n                        } else {\r\n                            window.location.hash = currentHash;\r\n                        }\r\n\r\n                    }\r\n\r\n                },\r\n\r\n                'beforeClose.fb' : function( e, instance, current ) {\r\n                    var gallery, origHash;\r\n\r\n                    if ( timerID ) {\r\n                        clearTimeout( timerID );\r\n                    }\r\n\r\n                    if ( current.opts.hash === false ) {\r\n                        return;\r\n                    }\r\n\r\n                    gallery  = getGallery( instance );\r\n                    origHash = instance && instance.opts.origHash ? instance.opts.origHash : '';\r\n\r\n                    // Remove hash from location bar\r\n                    if ( gallery && gallery !== '' ) {\r\n\r\n                        if ( 'replaceState' in history ) {\r\n                            window.history.replaceState( {} , document.title, window.location.pathname + window.location.search + origHash );\r\n\r\n                        } else {\r\n                            window.location.hash = origHash;\r\n\r\n                            // Keep original scroll position\r\n                            $( window ).scrollTop( instance.scrollTop ).scrollLeft( instance.scrollLeft );\r\n                        }\r\n                    }\r\n\r\n                    currentHash = null;\r\n                }\r\n            });\r\n\r\n            // Check if need to close after url has changed\r\n            $(window).on('hashchange.fb', function() {\r\n                var url = parseUrl();\r\n\r\n                if ( $.fancybox.getInstance() ) {\r\n                    if ( currentHash && currentHash !== url.gallery + '-' + url.index && !( url.index === 1 && currentHash == url.gallery ) ) {\r\n                        currentHash = null;\r\n\r\n                        $.fancybox.close();\r\n                    }\r\n\r\n                } else if ( url.gallery !== '' ) {\r\n                    triggerFromUrl( url );\r\n                }\r\n            });\r\n\r\n            // If navigating away from current page\r\n            $(window).one('unload.fb popstate.fb', function() {\r\n                $.fancybox.getInstance( 'close', true, 0 );\r\n            });\r\n\r\n            // Check current hash and trigger click event on matching element to start fancyBox, if needed\r\n            triggerFromUrl( parseUrl() );\r\n\r\n        }, 50);\r\n\r\n    });\r\n\r\n\r\n}(document, window, window.jQuery));\r\n","/*!\r\n\r\n handlebars v4.0.5\r\n\r\nCopyright (C) 2011-2015 by Yehuda Katz\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n\r\n@license\r\n*/\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"Handlebars\"] = factory();\r\n\telse\r\n\t\troot[\"Handlebars\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId])\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\texports: {},\r\n/******/ \t\t\tid: moduleId,\r\n/******/ \t\t\tloaded: false\r\n/******/ \t\t};\r\n\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.loaded = true;\r\n\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n\r\n\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _handlebarsRuntime = __webpack_require__(2);\r\n\r\n\tvar _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime);\r\n\r\n\t// Compiler imports\r\n\r\n\tvar _handlebarsCompilerAst = __webpack_require__(21);\r\n\r\n\tvar _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst);\r\n\r\n\tvar _handlebarsCompilerBase = __webpack_require__(22);\r\n\r\n\tvar _handlebarsCompilerCompiler = __webpack_require__(27);\r\n\r\n\tvar _handlebarsCompilerJavascriptCompiler = __webpack_require__(28);\r\n\r\n\tvar _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler);\r\n\r\n\tvar _handlebarsCompilerVisitor = __webpack_require__(25);\r\n\r\n\tvar _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor);\r\n\r\n\tvar _handlebarsNoConflict = __webpack_require__(20);\r\n\r\n\tvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\r\n\r\n\tvar _create = _handlebarsRuntime2['default'].create;\r\n\tfunction create() {\r\n\t  var hb = _create();\r\n\r\n\t  hb.compile = function (input, options) {\r\n\t    return _handlebarsCompilerCompiler.compile(input, options, hb);\r\n\t  };\r\n\t  hb.precompile = function (input, options) {\r\n\t    return _handlebarsCompilerCompiler.precompile(input, options, hb);\r\n\t  };\r\n\r\n\t  hb.AST = _handlebarsCompilerAst2['default'];\r\n\t  hb.Compiler = _handlebarsCompilerCompiler.Compiler;\r\n\t  hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2['default'];\r\n\t  hb.Parser = _handlebarsCompilerBase.parser;\r\n\t  hb.parse = _handlebarsCompilerBase.parse;\r\n\r\n\t  return hb;\r\n\t}\r\n\r\n\tvar inst = create();\r\n\tinst.create = create;\r\n\r\n\t_handlebarsNoConflict2['default'](inst);\r\n\r\n\tinst.Visitor = _handlebarsCompilerVisitor2['default'];\r\n\r\n\tinst['default'] = inst;\r\n\r\n\texports['default'] = inst;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 1 */\r\n/***/ function(module, exports) {\r\n\r\n\t\"use strict\";\r\n\r\n\texports[\"default\"] = function (obj) {\r\n\t  return obj && obj.__esModule ? obj : {\r\n\t    \"default\": obj\r\n\t  };\r\n\t};\r\n\r\n\texports.__esModule = true;\r\n\r\n/***/ },\r\n/* 2 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireWildcard = __webpack_require__(3)['default'];\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _handlebarsBase = __webpack_require__(4);\r\n\r\n\tvar base = _interopRequireWildcard(_handlebarsBase);\r\n\r\n\t// Each of these augment the Handlebars object. No need to setup here.\r\n\t// (This is done to easily share code between commonjs and browse envs)\r\n\r\n\tvar _handlebarsSafeString = __webpack_require__(18);\r\n\r\n\tvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\r\n\r\n\tvar _handlebarsException = __webpack_require__(6);\r\n\r\n\tvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\r\n\r\n\tvar _handlebarsUtils = __webpack_require__(5);\r\n\r\n\tvar Utils = _interopRequireWildcard(_handlebarsUtils);\r\n\r\n\tvar _handlebarsRuntime = __webpack_require__(19);\r\n\r\n\tvar runtime = _interopRequireWildcard(_handlebarsRuntime);\r\n\r\n\tvar _handlebarsNoConflict = __webpack_require__(20);\r\n\r\n\tvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\r\n\r\n\t// For compatibility and usage outside of module systems, make the Handlebars object a namespace\r\n\tfunction create() {\r\n\t  var hb = new base.HandlebarsEnvironment();\r\n\r\n\t  Utils.extend(hb, base);\r\n\t  hb.SafeString = _handlebarsSafeString2['default'];\r\n\t  hb.Exception = _handlebarsException2['default'];\r\n\t  hb.Utils = Utils;\r\n\t  hb.escapeExpression = Utils.escapeExpression;\r\n\r\n\t  hb.VM = runtime;\r\n\t  hb.template = function (spec) {\r\n\t    return runtime.template(spec, hb);\r\n\t  };\r\n\r\n\t  return hb;\r\n\t}\r\n\r\n\tvar inst = create();\r\n\tinst.create = create;\r\n\r\n\t_handlebarsNoConflict2['default'](inst);\r\n\r\n\tinst['default'] = inst;\r\n\r\n\texports['default'] = inst;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 3 */\r\n/***/ function(module, exports) {\r\n\r\n\t\"use strict\";\r\n\r\n\texports[\"default\"] = function (obj) {\r\n\t  if (obj && obj.__esModule) {\r\n\t    return obj;\r\n\t  } else {\r\n\t    var newObj = {};\r\n\r\n\t    if (obj != null) {\r\n\t      for (var key in obj) {\r\n\t        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\r\n\t      }\r\n\t    }\r\n\r\n\t    newObj[\"default\"] = obj;\r\n\t    return newObj;\r\n\t  }\r\n\t};\r\n\r\n\texports.__esModule = true;\r\n\r\n/***/ },\r\n/* 4 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\texports.HandlebarsEnvironment = HandlebarsEnvironment;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\tvar _exception = __webpack_require__(6);\r\n\r\n\tvar _exception2 = _interopRequireDefault(_exception);\r\n\r\n\tvar _helpers = __webpack_require__(7);\r\n\r\n\tvar _decorators = __webpack_require__(15);\r\n\r\n\tvar _logger = __webpack_require__(17);\r\n\r\n\tvar _logger2 = _interopRequireDefault(_logger);\r\n\r\n\tvar VERSION = '4.0.5';\r\n\texports.VERSION = VERSION;\r\n\tvar COMPILER_REVISION = 7;\r\n\r\n\texports.COMPILER_REVISION = COMPILER_REVISION;\r\n\tvar REVISION_CHANGES = {\r\n\t  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\r\n\t  2: '== 1.0.0-rc.3',\r\n\t  3: '== 1.0.0-rc.4',\r\n\t  4: '== 1.x.x',\r\n\t  5: '== 2.0.0-alpha.x',\r\n\t  6: '>= 2.0.0-beta.1',\r\n\t  7: '>= 4.0.0'\r\n\t};\r\n\r\n\texports.REVISION_CHANGES = REVISION_CHANGES;\r\n\tvar objectType = '[object Object]';\r\n\r\n\tfunction HandlebarsEnvironment(helpers, partials, decorators) {\r\n\t  this.helpers = helpers || {};\r\n\t  this.partials = partials || {};\r\n\t  this.decorators = decorators || {};\r\n\r\n\t  _helpers.registerDefaultHelpers(this);\r\n\t  _decorators.registerDefaultDecorators(this);\r\n\t}\r\n\r\n\tHandlebarsEnvironment.prototype = {\r\n\t  constructor: HandlebarsEnvironment,\r\n\r\n\t  logger: _logger2['default'],\r\n\t  log: _logger2['default'].log,\r\n\r\n\t  registerHelper: function registerHelper(name, fn) {\r\n\t    if (_utils.toString.call(name) === objectType) {\r\n\t      if (fn) {\r\n\t        throw new _exception2['default']('Arg not supported with multiple helpers');\r\n\t      }\r\n\t      _utils.extend(this.helpers, name);\r\n\t    } else {\r\n\t      this.helpers[name] = fn;\r\n\t    }\r\n\t  },\r\n\t  unregisterHelper: function unregisterHelper(name) {\r\n\t    delete this.helpers[name];\r\n\t  },\r\n\r\n\t  registerPartial: function registerPartial(name, partial) {\r\n\t    if (_utils.toString.call(name) === objectType) {\r\n\t      _utils.extend(this.partials, name);\r\n\t    } else {\r\n\t      if (typeof partial === 'undefined') {\r\n\t        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\r\n\t      }\r\n\t      this.partials[name] = partial;\r\n\t    }\r\n\t  },\r\n\t  unregisterPartial: function unregisterPartial(name) {\r\n\t    delete this.partials[name];\r\n\t  },\r\n\r\n\t  registerDecorator: function registerDecorator(name, fn) {\r\n\t    if (_utils.toString.call(name) === objectType) {\r\n\t      if (fn) {\r\n\t        throw new _exception2['default']('Arg not supported with multiple decorators');\r\n\t      }\r\n\t      _utils.extend(this.decorators, name);\r\n\t    } else {\r\n\t      this.decorators[name] = fn;\r\n\t    }\r\n\t  },\r\n\t  unregisterDecorator: function unregisterDecorator(name) {\r\n\t    delete this.decorators[name];\r\n\t  }\r\n\t};\r\n\r\n\tvar log = _logger2['default'].log;\r\n\r\n\texports.log = log;\r\n\texports.createFrame = _utils.createFrame;\r\n\texports.logger = _logger2['default'];\r\n\r\n/***/ },\r\n/* 5 */\r\n/***/ function(module, exports) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\texports.extend = extend;\r\n\texports.indexOf = indexOf;\r\n\texports.escapeExpression = escapeExpression;\r\n\texports.isEmpty = isEmpty;\r\n\texports.createFrame = createFrame;\r\n\texports.blockParams = blockParams;\r\n\texports.appendContextPath = appendContextPath;\r\n\tvar escape = {\r\n\t  '&': '&amp;',\r\n\t  '<': '&lt;',\r\n\t  '>': '&gt;',\r\n\t  '\"': '&quot;',\r\n\t  \"'\": '&#x27;',\r\n\t  '`': '&#x60;',\r\n\t  '=': '&#x3D;'\r\n\t};\r\n\r\n\tvar badChars = /[&<>\"'`=]/g,\r\n\t    possible = /[&<>\"'`=]/;\r\n\r\n\tfunction escapeChar(chr) {\r\n\t  return escape[chr];\r\n\t}\r\n\r\n\tfunction extend(obj /* , ...source */) {\r\n\t  for (var i = 1; i < arguments.length; i++) {\r\n\t    for (var key in arguments[i]) {\r\n\t      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\r\n\t        obj[key] = arguments[i][key];\r\n\t      }\r\n\t    }\r\n\t  }\r\n\r\n\t  return obj;\r\n\t}\r\n\r\n\tvar toString = Object.prototype.toString;\r\n\r\n\texports.toString = toString;\r\n\t// Sourced from lodash\r\n\t// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\r\n\t/* eslint-disable func-style */\r\n\tvar isFunction = function isFunction(value) {\r\n\t  return typeof value === 'function';\r\n\t};\r\n\t// fallback for older versions of Chrome and Safari\r\n\t/* istanbul ignore next */\r\n\tif (isFunction(/x/)) {\r\n\t  exports.isFunction = isFunction = function (value) {\r\n\t    return typeof value === 'function' && toString.call(value) === '[object Function]';\r\n\t  };\r\n\t}\r\n\texports.isFunction = isFunction;\r\n\r\n\t/* eslint-enable func-style */\r\n\r\n\t/* istanbul ignore next */\r\n\tvar isArray = Array.isArray || function (value) {\r\n\t  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\r\n\t};\r\n\r\n\texports.isArray = isArray;\r\n\t// Older IE versions do not directly support indexOf so we must implement our own, sadly.\r\n\r\n\tfunction indexOf(array, value) {\r\n\t  for (var i = 0, len = array.length; i < len; i++) {\r\n\t    if (array[i] === value) {\r\n\t      return i;\r\n\t    }\r\n\t  }\r\n\t  return -1;\r\n\t}\r\n\r\n\tfunction escapeExpression(string) {\r\n\t  if (typeof string !== 'string') {\r\n\t    // don't escape SafeStrings, since they're already safe\r\n\t    if (string && string.toHTML) {\r\n\t      return string.toHTML();\r\n\t    } else if (string == null) {\r\n\t      return '';\r\n\t    } else if (!string) {\r\n\t      return string + '';\r\n\t    }\r\n\r\n\t    // Force a string conversion as this will be done by the append regardless and\r\n\t    // the regex test will do this transparently behind the scenes, causing issues if\r\n\t    // an object's to string has escaped characters in it.\r\n\t    string = '' + string;\r\n\t  }\r\n\r\n\t  if (!possible.test(string)) {\r\n\t    return string;\r\n\t  }\r\n\t  return string.replace(badChars, escapeChar);\r\n\t}\r\n\r\n\tfunction isEmpty(value) {\r\n\t  if (!value && value !== 0) {\r\n\t    return true;\r\n\t  } else if (isArray(value) && value.length === 0) {\r\n\t    return true;\r\n\t  } else {\r\n\t    return false;\r\n\t  }\r\n\t}\r\n\r\n\tfunction createFrame(object) {\r\n\t  var frame = extend({}, object);\r\n\t  frame._parent = object;\r\n\t  return frame;\r\n\t}\r\n\r\n\tfunction blockParams(params, ids) {\r\n\t  params.path = ids;\r\n\t  return params;\r\n\t}\r\n\r\n\tfunction appendContextPath(contextPath, id) {\r\n\t  return (contextPath ? contextPath + '.' : '') + id;\r\n\t}\r\n\r\n/***/ },\r\n/* 6 */\r\n/***/ function(module, exports) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\r\n\r\n\tfunction Exception(message, node) {\r\n\t  var loc = node && node.loc,\r\n\t      line = undefined,\r\n\t      column = undefined;\r\n\t  if (loc) {\r\n\t    line = loc.start.line;\r\n\t    column = loc.start.column;\r\n\r\n\t    message += ' - ' + line + ':' + column;\r\n\t  }\r\n\r\n\t  var tmp = Error.prototype.constructor.call(this, message);\r\n\r\n\t  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\r\n\t  for (var idx = 0; idx < errorProps.length; idx++) {\r\n\t    this[errorProps[idx]] = tmp[errorProps[idx]];\r\n\t  }\r\n\r\n\t  /* istanbul ignore else */\r\n\t  if (Error.captureStackTrace) {\r\n\t    Error.captureStackTrace(this, Exception);\r\n\t  }\r\n\r\n\t  if (loc) {\r\n\t    this.lineNumber = line;\r\n\t    this.column = column;\r\n\t  }\r\n\t}\r\n\r\n\tException.prototype = new Error();\r\n\r\n\texports['default'] = Exception;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 7 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\texports.registerDefaultHelpers = registerDefaultHelpers;\r\n\r\n\tvar _helpersBlockHelperMissing = __webpack_require__(8);\r\n\r\n\tvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\r\n\r\n\tvar _helpersEach = __webpack_require__(9);\r\n\r\n\tvar _helpersEach2 = _interopRequireDefault(_helpersEach);\r\n\r\n\tvar _helpersHelperMissing = __webpack_require__(10);\r\n\r\n\tvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\r\n\r\n\tvar _helpersIf = __webpack_require__(11);\r\n\r\n\tvar _helpersIf2 = _interopRequireDefault(_helpersIf);\r\n\r\n\tvar _helpersLog = __webpack_require__(12);\r\n\r\n\tvar _helpersLog2 = _interopRequireDefault(_helpersLog);\r\n\r\n\tvar _helpersLookup = __webpack_require__(13);\r\n\r\n\tvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\r\n\r\n\tvar _helpersWith = __webpack_require__(14);\r\n\r\n\tvar _helpersWith2 = _interopRequireDefault(_helpersWith);\r\n\r\n\tfunction registerDefaultHelpers(instance) {\r\n\t  _helpersBlockHelperMissing2['default'](instance);\r\n\t  _helpersEach2['default'](instance);\r\n\t  _helpersHelperMissing2['default'](instance);\r\n\t  _helpersIf2['default'](instance);\r\n\t  _helpersLog2['default'](instance);\r\n\t  _helpersLookup2['default'](instance);\r\n\t  _helpersWith2['default'](instance);\r\n\t}\r\n\r\n/***/ },\r\n/* 8 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\texports['default'] = function (instance) {\r\n\t  instance.registerHelper('blockHelperMissing', function (context, options) {\r\n\t    var inverse = options.inverse,\r\n\t        fn = options.fn;\r\n\r\n\t    if (context === true) {\r\n\t      return fn(this);\r\n\t    } else if (context === false || context == null) {\r\n\t      return inverse(this);\r\n\t    } else if (_utils.isArray(context)) {\r\n\t      if (context.length > 0) {\r\n\t        if (options.ids) {\r\n\t          options.ids = [options.name];\r\n\t        }\r\n\r\n\t        return instance.helpers.each(context, options);\r\n\t      } else {\r\n\t        return inverse(this);\r\n\t      }\r\n\t    } else {\r\n\t      if (options.data && options.ids) {\r\n\t        var data = _utils.createFrame(options.data);\r\n\t        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\r\n\t        options = { data: data };\r\n\t      }\r\n\r\n\t      return fn(context, options);\r\n\t    }\r\n\t  });\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 9 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\tvar _exception = __webpack_require__(6);\r\n\r\n\tvar _exception2 = _interopRequireDefault(_exception);\r\n\r\n\texports['default'] = function (instance) {\r\n\t  instance.registerHelper('each', function (context, options) {\r\n\t    if (!options) {\r\n\t      throw new _exception2['default']('Must pass iterator to #each');\r\n\t    }\r\n\r\n\t    var fn = options.fn,\r\n\t        inverse = options.inverse,\r\n\t        i = 0,\r\n\t        ret = '',\r\n\t        data = undefined,\r\n\t        contextPath = undefined;\r\n\r\n\t    if (options.data && options.ids) {\r\n\t      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\r\n\t    }\r\n\r\n\t    if (_utils.isFunction(context)) {\r\n\t      context = context.call(this);\r\n\t    }\r\n\r\n\t    if (options.data) {\r\n\t      data = _utils.createFrame(options.data);\r\n\t    }\r\n\r\n\t    function execIteration(field, index, last) {\r\n\t      if (data) {\r\n\t        data.key = field;\r\n\t        data.index = index;\r\n\t        data.first = index === 0;\r\n\t        data.last = !!last;\r\n\r\n\t        if (contextPath) {\r\n\t          data.contextPath = contextPath + field;\r\n\t        }\r\n\t      }\r\n\r\n\t      ret = ret + fn(context[field], {\r\n\t        data: data,\r\n\t        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\r\n\t      });\r\n\t    }\r\n\r\n\t    if (context && typeof context === 'object') {\r\n\t      if (_utils.isArray(context)) {\r\n\t        for (var j = context.length; i < j; i++) {\r\n\t          if (i in context) {\r\n\t            execIteration(i, i, i === context.length - 1);\r\n\t          }\r\n\t        }\r\n\t      } else {\r\n\t        var priorKey = undefined;\r\n\r\n\t        for (var key in context) {\r\n\t          if (context.hasOwnProperty(key)) {\r\n\t            // We're running the iterations one step out of sync so we can detect\r\n\t            // the last iteration without have to scan the object twice and create\r\n\t            // an itermediate keys array.\r\n\t            if (priorKey !== undefined) {\r\n\t              execIteration(priorKey, i - 1);\r\n\t            }\r\n\t            priorKey = key;\r\n\t            i++;\r\n\t          }\r\n\t        }\r\n\t        if (priorKey !== undefined) {\r\n\t          execIteration(priorKey, i - 1, true);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\r\n\t    if (i === 0) {\r\n\t      ret = inverse(this);\r\n\t    }\r\n\r\n\t    return ret;\r\n\t  });\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 10 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _exception = __webpack_require__(6);\r\n\r\n\tvar _exception2 = _interopRequireDefault(_exception);\r\n\r\n\texports['default'] = function (instance) {\r\n\t  instance.registerHelper('helperMissing', function () /* [args, ]options */{\r\n\t    if (arguments.length === 1) {\r\n\t      // A missing field in a {{foo}} construct.\r\n\t      return undefined;\r\n\t    } else {\r\n\t      // Someone is actually trying to call something, blow up.\r\n\t      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\r\n\t    }\r\n\t  });\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 11 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\texports['default'] = function (instance) {\r\n\t  instance.registerHelper('if', function (conditional, options) {\r\n\t    if (_utils.isFunction(conditional)) {\r\n\t      conditional = conditional.call(this);\r\n\t    }\r\n\r\n\t    // Default behavior is to render the positive path if the value is truthy and not empty.\r\n\t    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\r\n\t    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\r\n\t    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\r\n\t      return options.inverse(this);\r\n\t    } else {\r\n\t      return options.fn(this);\r\n\t    }\r\n\t  });\r\n\r\n\t  instance.registerHelper('unless', function (conditional, options) {\r\n\t    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\r\n\t  });\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 12 */\r\n/***/ function(module, exports) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\texports['default'] = function (instance) {\r\n\t  instance.registerHelper('log', function () /* message, options */{\r\n\t    var args = [undefined],\r\n\t        options = arguments[arguments.length - 1];\r\n\t    for (var i = 0; i < arguments.length - 1; i++) {\r\n\t      args.push(arguments[i]);\r\n\t    }\r\n\r\n\t    var level = 1;\r\n\t    if (options.hash.level != null) {\r\n\t      level = options.hash.level;\r\n\t    } else if (options.data && options.data.level != null) {\r\n\t      level = options.data.level;\r\n\t    }\r\n\t    args[0] = level;\r\n\r\n\t    instance.log.apply(instance, args);\r\n\t  });\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 13 */\r\n/***/ function(module, exports) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\texports['default'] = function (instance) {\r\n\t  instance.registerHelper('lookup', function (obj, field) {\r\n\t    return obj && obj[field];\r\n\t  });\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 14 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\texports['default'] = function (instance) {\r\n\t  instance.registerHelper('with', function (context, options) {\r\n\t    if (_utils.isFunction(context)) {\r\n\t      context = context.call(this);\r\n\t    }\r\n\r\n\t    var fn = options.fn;\r\n\r\n\t    if (!_utils.isEmpty(context)) {\r\n\t      var data = options.data;\r\n\t      if (options.data && options.ids) {\r\n\t        data = _utils.createFrame(options.data);\r\n\t        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\r\n\t      }\r\n\r\n\t      return fn(context, {\r\n\t        data: data,\r\n\t        blockParams: _utils.blockParams([context], [data && data.contextPath])\r\n\t      });\r\n\t    } else {\r\n\t      return options.inverse(this);\r\n\t    }\r\n\t  });\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 15 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\texports.registerDefaultDecorators = registerDefaultDecorators;\r\n\r\n\tvar _decoratorsInline = __webpack_require__(16);\r\n\r\n\tvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\r\n\r\n\tfunction registerDefaultDecorators(instance) {\r\n\t  _decoratorsInline2['default'](instance);\r\n\t}\r\n\r\n/***/ },\r\n/* 16 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\texports['default'] = function (instance) {\r\n\t  instance.registerDecorator('inline', function (fn, props, container, options) {\r\n\t    var ret = fn;\r\n\t    if (!props.partials) {\r\n\t      props.partials = {};\r\n\t      ret = function (context, options) {\r\n\t        // Create a new partials stack frame prior to exec.\r\n\t        var original = container.partials;\r\n\t        container.partials = _utils.extend({}, original, props.partials);\r\n\t        var ret = fn(context, options);\r\n\t        container.partials = original;\r\n\t        return ret;\r\n\t      };\r\n\t    }\r\n\r\n\t    props.partials[options.args[0]] = options.fn;\r\n\r\n\t    return ret;\r\n\t  });\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 17 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\tvar logger = {\r\n\t  methodMap: ['debug', 'info', 'warn', 'error'],\r\n\t  level: 'info',\r\n\r\n\t  // Maps a given level value to the `methodMap` indexes above.\r\n\t  lookupLevel: function lookupLevel(level) {\r\n\t    if (typeof level === 'string') {\r\n\t      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\r\n\t      if (levelMap >= 0) {\r\n\t        level = levelMap;\r\n\t      } else {\r\n\t        level = parseInt(level, 10);\r\n\t      }\r\n\t    }\r\n\r\n\t    return level;\r\n\t  },\r\n\r\n\t  // Can be overridden in the host environment\r\n\t  log: function log(level) {\r\n\t    level = logger.lookupLevel(level);\r\n\r\n\t    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\r\n\t      var method = logger.methodMap[level];\r\n\t      if (!console[method]) {\r\n\t        // eslint-disable-line no-console\r\n\t        method = 'log';\r\n\t      }\r\n\r\n\t      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n\t        message[_key - 1] = arguments[_key];\r\n\t      }\r\n\r\n\t      console[method].apply(console, message); // eslint-disable-line no-console\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\texports['default'] = logger;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 18 */\r\n/***/ function(module, exports) {\r\n\r\n\t// Build out our basic SafeString type\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\tfunction SafeString(string) {\r\n\t  this.string = string;\r\n\t}\r\n\r\n\tSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\r\n\t  return '' + this.string;\r\n\t};\r\n\r\n\texports['default'] = SafeString;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 19 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireWildcard = __webpack_require__(3)['default'];\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\texports.checkRevision = checkRevision;\r\n\texports.template = template;\r\n\texports.wrapProgram = wrapProgram;\r\n\texports.resolvePartial = resolvePartial;\r\n\texports.invokePartial = invokePartial;\r\n\texports.noop = noop;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\tvar Utils = _interopRequireWildcard(_utils);\r\n\r\n\tvar _exception = __webpack_require__(6);\r\n\r\n\tvar _exception2 = _interopRequireDefault(_exception);\r\n\r\n\tvar _base = __webpack_require__(4);\r\n\r\n\tfunction checkRevision(compilerInfo) {\r\n\t  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\r\n\t      currentRevision = _base.COMPILER_REVISION;\r\n\r\n\t  if (compilerRevision !== currentRevision) {\r\n\t    if (compilerRevision < currentRevision) {\r\n\t      var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\r\n\t          compilerVersions = _base.REVISION_CHANGES[compilerRevision];\r\n\t      throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\r\n\t    } else {\r\n\t      // Use the embedded version info since the runtime doesn't know about this revision yet\r\n\t      throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n\tfunction template(templateSpec, env) {\r\n\t  /* istanbul ignore next */\r\n\t  if (!env) {\r\n\t    throw new _exception2['default']('No environment passed to template');\r\n\t  }\r\n\t  if (!templateSpec || !templateSpec.main) {\r\n\t    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\r\n\t  }\r\n\r\n\t  templateSpec.main.decorator = templateSpec.main_d;\r\n\r\n\t  // Note: Using env.VM references rather than local var references throughout this section to allow\r\n\t  // for external users to override these as psuedo-supported APIs.\r\n\t  env.VM.checkRevision(templateSpec.compiler);\r\n\r\n\t  function invokePartialWrapper(partial, context, options) {\r\n\t    if (options.hash) {\r\n\t      context = Utils.extend({}, context, options.hash);\r\n\t      if (options.ids) {\r\n\t        options.ids[0] = true;\r\n\t      }\r\n\t    }\r\n\r\n\t    partial = env.VM.resolvePartial.call(this, partial, context, options);\r\n\t    var result = env.VM.invokePartial.call(this, partial, context, options);\r\n\r\n\t    if (result == null && env.compile) {\r\n\t      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\r\n\t      result = options.partials[options.name](context, options);\r\n\t    }\r\n\t    if (result != null) {\r\n\t      if (options.indent) {\r\n\t        var lines = result.split('\\n');\r\n\t        for (var i = 0, l = lines.length; i < l; i++) {\r\n\t          if (!lines[i] && i + 1 === l) {\r\n\t            break;\r\n\t          }\r\n\r\n\t          lines[i] = options.indent + lines[i];\r\n\t        }\r\n\t        result = lines.join('\\n');\r\n\t      }\r\n\t      return result;\r\n\t    } else {\r\n\t      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\r\n\t    }\r\n\t  }\r\n\r\n\t  // Just add water\r\n\t  var container = {\r\n\t    strict: function strict(obj, name) {\r\n\t      if (!(name in obj)) {\r\n\t        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj);\r\n\t      }\r\n\t      return obj[name];\r\n\t    },\r\n\t    lookup: function lookup(depths, name) {\r\n\t      var len = depths.length;\r\n\t      for (var i = 0; i < len; i++) {\r\n\t        if (depths[i] && depths[i][name] != null) {\r\n\t          return depths[i][name];\r\n\t        }\r\n\t      }\r\n\t    },\r\n\t    lambda: function lambda(current, context) {\r\n\t      return typeof current === 'function' ? current.call(context) : current;\r\n\t    },\r\n\r\n\t    escapeExpression: Utils.escapeExpression,\r\n\t    invokePartial: invokePartialWrapper,\r\n\r\n\t    fn: function fn(i) {\r\n\t      var ret = templateSpec[i];\r\n\t      ret.decorator = templateSpec[i + '_d'];\r\n\t      return ret;\r\n\t    },\r\n\r\n\t    programs: [],\r\n\t    program: function program(i, data, declaredBlockParams, blockParams, depths) {\r\n\t      var programWrapper = this.programs[i],\r\n\t          fn = this.fn(i);\r\n\t      if (data || depths || blockParams || declaredBlockParams) {\r\n\t        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\r\n\t      } else if (!programWrapper) {\r\n\t        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\r\n\t      }\r\n\t      return programWrapper;\r\n\t    },\r\n\r\n\t    data: function data(value, depth) {\r\n\t      while (value && depth--) {\r\n\t        value = value._parent;\r\n\t      }\r\n\t      return value;\r\n\t    },\r\n\t    merge: function merge(param, common) {\r\n\t      var obj = param || common;\r\n\r\n\t      if (param && common && param !== common) {\r\n\t        obj = Utils.extend({}, common, param);\r\n\t      }\r\n\r\n\t      return obj;\r\n\t    },\r\n\r\n\t    noop: env.VM.noop,\r\n\t    compilerInfo: templateSpec.compiler\r\n\t  };\r\n\r\n\t  function ret(context) {\r\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\r\n\r\n\t    var data = options.data;\r\n\r\n\t    ret._setup(options);\r\n\t    if (!options.partial && templateSpec.useData) {\r\n\t      data = initData(context, data);\r\n\t    }\r\n\t    var depths = undefined,\r\n\t        blockParams = templateSpec.useBlockParams ? [] : undefined;\r\n\t    if (templateSpec.useDepths) {\r\n\t      if (options.depths) {\r\n\t        depths = context !== options.depths[0] ? [context].concat(options.depths) : options.depths;\r\n\t      } else {\r\n\t        depths = [context];\r\n\t      }\r\n\t    }\r\n\r\n\t    function main(context /*, options*/) {\r\n\t      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\r\n\t    }\r\n\t    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\r\n\t    return main(context, options);\r\n\t  }\r\n\t  ret.isTop = true;\r\n\r\n\t  ret._setup = function (options) {\r\n\t    if (!options.partial) {\r\n\t      container.helpers = container.merge(options.helpers, env.helpers);\r\n\r\n\t      if (templateSpec.usePartial) {\r\n\t        container.partials = container.merge(options.partials, env.partials);\r\n\t      }\r\n\t      if (templateSpec.usePartial || templateSpec.useDecorators) {\r\n\t        container.decorators = container.merge(options.decorators, env.decorators);\r\n\t      }\r\n\t    } else {\r\n\t      container.helpers = options.helpers;\r\n\t      container.partials = options.partials;\r\n\t      container.decorators = options.decorators;\r\n\t    }\r\n\t  };\r\n\r\n\t  ret._child = function (i, data, blockParams, depths) {\r\n\t    if (templateSpec.useBlockParams && !blockParams) {\r\n\t      throw new _exception2['default']('must pass block params');\r\n\t    }\r\n\t    if (templateSpec.useDepths && !depths) {\r\n\t      throw new _exception2['default']('must pass parent depths');\r\n\t    }\r\n\r\n\t    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\r\n\t  };\r\n\t  return ret;\r\n\t}\r\n\r\n\tfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\r\n\t  function prog(context) {\r\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\r\n\r\n\t    var currentDepths = depths;\r\n\t    if (depths && context !== depths[0]) {\r\n\t      currentDepths = [context].concat(depths);\r\n\t    }\r\n\r\n\t    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\r\n\t  }\r\n\r\n\t  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\r\n\r\n\t  prog.program = i;\r\n\t  prog.depth = depths ? depths.length : 0;\r\n\t  prog.blockParams = declaredBlockParams || 0;\r\n\t  return prog;\r\n\t}\r\n\r\n\tfunction resolvePartial(partial, context, options) {\r\n\t  if (!partial) {\r\n\t    if (options.name === '@partial-block') {\r\n\t      partial = options.data['partial-block'];\r\n\t    } else {\r\n\t      partial = options.partials[options.name];\r\n\t    }\r\n\t  } else if (!partial.call && !options.name) {\r\n\t    // This is a dynamic partial that returned a string\r\n\t    options.name = partial;\r\n\t    partial = options.partials[partial];\r\n\t  }\r\n\t  return partial;\r\n\t}\r\n\r\n\tfunction invokePartial(partial, context, options) {\r\n\t  options.partial = true;\r\n\t  if (options.ids) {\r\n\t    options.data.contextPath = options.ids[0] || options.data.contextPath;\r\n\t  }\r\n\r\n\t  var partialBlock = undefined;\r\n\t  if (options.fn && options.fn !== noop) {\r\n\t    options.data = _base.createFrame(options.data);\r\n\t    partialBlock = options.data['partial-block'] = options.fn;\r\n\r\n\t    if (partialBlock.partials) {\r\n\t      options.partials = Utils.extend({}, options.partials, partialBlock.partials);\r\n\t    }\r\n\t  }\r\n\r\n\t  if (partial === undefined && partialBlock) {\r\n\t    partial = partialBlock;\r\n\t  }\r\n\r\n\t  if (partial === undefined) {\r\n\t    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\r\n\t  } else if (partial instanceof Function) {\r\n\t    return partial(context, options);\r\n\t  }\r\n\t}\r\n\r\n\tfunction noop() {\r\n\t  return '';\r\n\t}\r\n\r\n\tfunction initData(context, data) {\r\n\t  if (!data || !('root' in data)) {\r\n\t    data = data ? _base.createFrame(data) : {};\r\n\t    data.root = context;\r\n\t  }\r\n\t  return data;\r\n\t}\r\n\r\n\tfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\r\n\t  if (fn.decorator) {\r\n\t    var props = {};\r\n\t    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\r\n\t    Utils.extend(prog, props);\r\n\t  }\r\n\t  return prog;\r\n\t}\r\n\r\n/***/ },\r\n/* 20 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/* global window */\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\texports['default'] = function (Handlebars) {\r\n\t  /* istanbul ignore next */\r\n\t  var root = typeof global !== 'undefined' ? global : window,\r\n\t      $Handlebars = root.Handlebars;\r\n\t  /* istanbul ignore next */\r\n\t  Handlebars.noConflict = function () {\r\n\t    if (root.Handlebars === Handlebars) {\r\n\t      root.Handlebars = $Handlebars;\r\n\t    }\r\n\t    return Handlebars;\r\n\t  };\r\n\t};\r\n\r\n\tmodule.exports = exports['default'];\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 21 */\r\n/***/ function(module, exports) {\r\n\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\tvar AST = {\r\n\t  // Public API used to evaluate derived attributes regarding AST nodes\r\n\t  helpers: {\r\n\t    // a mustache is definitely a helper if:\r\n\t    // * it is an eligible helper, and\r\n\t    // * it has at least one parameter or hash segment\r\n\t    helperExpression: function helperExpression(node) {\r\n\t      return node.type === 'SubExpression' || (node.type === 'MustacheStatement' || node.type === 'BlockStatement') && !!(node.params && node.params.length || node.hash);\r\n\t    },\r\n\r\n\t    scopedId: function scopedId(path) {\r\n\t      return (/^\\.|this\\b/.test(path.original)\r\n\t      );\r\n\t    },\r\n\r\n\t    // an ID is simple if it only has one part, and that part is not\r\n\t    // `..` or `this`.\r\n\t    simpleId: function simpleId(path) {\r\n\t      return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t// Must be exported as an object rather than the root of the module as the jison lexer\r\n\t// must modify the object to operate properly.\r\n\texports['default'] = AST;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 22 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\tvar _interopRequireWildcard = __webpack_require__(3)['default'];\r\n\r\n\texports.__esModule = true;\r\n\texports.parse = parse;\r\n\r\n\tvar _parser = __webpack_require__(23);\r\n\r\n\tvar _parser2 = _interopRequireDefault(_parser);\r\n\r\n\tvar _whitespaceControl = __webpack_require__(24);\r\n\r\n\tvar _whitespaceControl2 = _interopRequireDefault(_whitespaceControl);\r\n\r\n\tvar _helpers = __webpack_require__(26);\r\n\r\n\tvar Helpers = _interopRequireWildcard(_helpers);\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\texports.parser = _parser2['default'];\r\n\r\n\tvar yy = {};\r\n\t_utils.extend(yy, Helpers);\r\n\r\n\tfunction parse(input, options) {\r\n\t  // Just return if an already-compiled AST was passed in.\r\n\t  if (input.type === 'Program') {\r\n\t    return input;\r\n\t  }\r\n\r\n\t  _parser2['default'].yy = yy;\r\n\r\n\t  // Altering the shared object here, but this is ok as parser is a sync operation\r\n\t  yy.locInfo = function (locInfo) {\r\n\t    return new yy.SourceLocation(options && options.srcName, locInfo);\r\n\t  };\r\n\r\n\t  var strip = new _whitespaceControl2['default'](options);\r\n\t  return strip.accept(_parser2['default'].parse(input));\r\n\t}\r\n\r\n/***/ },\r\n/* 23 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* istanbul ignore next */\r\n\t/* Jison generated parser */\r\n\t\"use strict\";\r\n\r\n\tvar handlebars = (function () {\r\n\t    var parser = { trace: function trace() {},\r\n\t        yy: {},\r\n\t        symbols_: { \"error\": 2, \"root\": 3, \"program\": 4, \"EOF\": 5, \"program_repetition0\": 6, \"statement\": 7, \"mustache\": 8, \"block\": 9, \"rawBlock\": 10, \"partial\": 11, \"partialBlock\": 12, \"content\": 13, \"COMMENT\": 14, \"CONTENT\": 15, \"openRawBlock\": 16, \"rawBlock_repetition_plus0\": 17, \"END_RAW_BLOCK\": 18, \"OPEN_RAW_BLOCK\": 19, \"helperName\": 20, \"openRawBlock_repetition0\": 21, \"openRawBlock_option0\": 22, \"CLOSE_RAW_BLOCK\": 23, \"openBlock\": 24, \"block_option0\": 25, \"closeBlock\": 26, \"openInverse\": 27, \"block_option1\": 28, \"OPEN_BLOCK\": 29, \"openBlock_repetition0\": 30, \"openBlock_option0\": 31, \"openBlock_option1\": 32, \"CLOSE\": 33, \"OPEN_INVERSE\": 34, \"openInverse_repetition0\": 35, \"openInverse_option0\": 36, \"openInverse_option1\": 37, \"openInverseChain\": 38, \"OPEN_INVERSE_CHAIN\": 39, \"openInverseChain_repetition0\": 40, \"openInverseChain_option0\": 41, \"openInverseChain_option1\": 42, \"inverseAndProgram\": 43, \"INVERSE\": 44, \"inverseChain\": 45, \"inverseChain_option0\": 46, \"OPEN_ENDBLOCK\": 47, \"OPEN\": 48, \"mustache_repetition0\": 49, \"mustache_option0\": 50, \"OPEN_UNESCAPED\": 51, \"mustache_repetition1\": 52, \"mustache_option1\": 53, \"CLOSE_UNESCAPED\": 54, \"OPEN_PARTIAL\": 55, \"partialName\": 56, \"partial_repetition0\": 57, \"partial_option0\": 58, \"openPartialBlock\": 59, \"OPEN_PARTIAL_BLOCK\": 60, \"openPartialBlock_repetition0\": 61, \"openPartialBlock_option0\": 62, \"param\": 63, \"sexpr\": 64, \"OPEN_SEXPR\": 65, \"sexpr_repetition0\": 66, \"sexpr_option0\": 67, \"CLOSE_SEXPR\": 68, \"hash\": 69, \"hash_repetition_plus0\": 70, \"hashSegment\": 71, \"ID\": 72, \"EQUALS\": 73, \"blockParams\": 74, \"OPEN_BLOCK_PARAMS\": 75, \"blockParams_repetition_plus0\": 76, \"CLOSE_BLOCK_PARAMS\": 77, \"path\": 78, \"dataName\": 79, \"STRING\": 80, \"NUMBER\": 81, \"BOOLEAN\": 82, \"UNDEFINED\": 83, \"NULL\": 84, \"DATA\": 85, \"pathSegments\": 86, \"SEP\": 87, \"$accept\": 0, \"$end\": 1 },\r\n\t        terminals_: { 2: \"error\", 5: \"EOF\", 14: \"COMMENT\", 15: \"CONTENT\", 18: \"END_RAW_BLOCK\", 19: \"OPEN_RAW_BLOCK\", 23: \"CLOSE_RAW_BLOCK\", 29: \"OPEN_BLOCK\", 33: \"CLOSE\", 34: \"OPEN_INVERSE\", 39: \"OPEN_INVERSE_CHAIN\", 44: \"INVERSE\", 47: \"OPEN_ENDBLOCK\", 48: \"OPEN\", 51: \"OPEN_UNESCAPED\", 54: \"CLOSE_UNESCAPED\", 55: \"OPEN_PARTIAL\", 60: \"OPEN_PARTIAL_BLOCK\", 65: \"OPEN_SEXPR\", 68: \"CLOSE_SEXPR\", 72: \"ID\", 73: \"EQUALS\", 75: \"OPEN_BLOCK_PARAMS\", 77: \"CLOSE_BLOCK_PARAMS\", 80: \"STRING\", 81: \"NUMBER\", 82: \"BOOLEAN\", 83: \"UNDEFINED\", 84: \"NULL\", 85: \"DATA\", 87: \"SEP\" },\r\n\t        productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 1], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]],\r\n\t        performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$\r\n\t        /**/) {\r\n\r\n\t            var $0 = $$.length - 1;\r\n\t            switch (yystate) {\r\n\t                case 1:\r\n\t                    return $$[$0 - 1];\r\n\t                    break;\r\n\t                case 2:\r\n\t                    this.$ = yy.prepareProgram($$[$0]);\r\n\t                    break;\r\n\t                case 3:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 4:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 5:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 6:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 7:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 8:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 9:\r\n\t                    this.$ = {\r\n\t                        type: 'CommentStatement',\r\n\t                        value: yy.stripComment($$[$0]),\r\n\t                        strip: yy.stripFlags($$[$0], $$[$0]),\r\n\t                        loc: yy.locInfo(this._$)\r\n\t                    };\r\n\r\n\t                    break;\r\n\t                case 10:\r\n\t                    this.$ = {\r\n\t                        type: 'ContentStatement',\r\n\t                        original: $$[$0],\r\n\t                        value: $$[$0],\r\n\t                        loc: yy.locInfo(this._$)\r\n\t                    };\r\n\r\n\t                    break;\r\n\t                case 11:\r\n\t                    this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);\r\n\t                    break;\r\n\t                case 12:\r\n\t                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1] };\r\n\t                    break;\r\n\t                case 13:\r\n\t                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$);\r\n\t                    break;\r\n\t                case 14:\r\n\t                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$);\r\n\t                    break;\r\n\t                case 15:\r\n\t                    this.$ = { open: $$[$0 - 5], path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\r\n\t                    break;\r\n\t                case 16:\r\n\t                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\r\n\t                    break;\r\n\t                case 17:\r\n\t                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\r\n\t                    break;\r\n\t                case 18:\r\n\t                    this.$ = { strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0] };\r\n\t                    break;\r\n\t                case 19:\r\n\t                    var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$),\r\n\t                        program = yy.prepareProgram([inverse], $$[$0 - 1].loc);\r\n\t                    program.chained = true;\r\n\r\n\t                    this.$ = { strip: $$[$0 - 2].strip, program: program, chain: true };\r\n\r\n\t                    break;\r\n\t                case 20:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 21:\r\n\t                    this.$ = { path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0]) };\r\n\t                    break;\r\n\t                case 22:\r\n\t                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);\r\n\t                    break;\r\n\t                case 23:\r\n\t                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);\r\n\t                    break;\r\n\t                case 24:\r\n\t                    this.$ = {\r\n\t                        type: 'PartialStatement',\r\n\t                        name: $$[$0 - 3],\r\n\t                        params: $$[$0 - 2],\r\n\t                        hash: $$[$0 - 1],\r\n\t                        indent: '',\r\n\t                        strip: yy.stripFlags($$[$0 - 4], $$[$0]),\r\n\t                        loc: yy.locInfo(this._$)\r\n\t                    };\r\n\r\n\t                    break;\r\n\t                case 25:\r\n\t                    this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);\r\n\t                    break;\r\n\t                case 26:\r\n\t                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 4], $$[$0]) };\r\n\t                    break;\r\n\t                case 27:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 28:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 29:\r\n\t                    this.$ = {\r\n\t                        type: 'SubExpression',\r\n\t                        path: $$[$0 - 3],\r\n\t                        params: $$[$0 - 2],\r\n\t                        hash: $$[$0 - 1],\r\n\t                        loc: yy.locInfo(this._$)\r\n\t                    };\r\n\r\n\t                    break;\r\n\t                case 30:\r\n\t                    this.$ = { type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$) };\r\n\t                    break;\r\n\t                case 31:\r\n\t                    this.$ = { type: 'HashPair', key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$) };\r\n\t                    break;\r\n\t                case 32:\r\n\t                    this.$ = yy.id($$[$0 - 1]);\r\n\t                    break;\r\n\t                case 33:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 34:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 35:\r\n\t                    this.$ = { type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$) };\r\n\t                    break;\r\n\t                case 36:\r\n\t                    this.$ = { type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$) };\r\n\t                    break;\r\n\t                case 37:\r\n\t                    this.$ = { type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$) };\r\n\t                    break;\r\n\t                case 38:\r\n\t                    this.$ = { type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$) };\r\n\t                    break;\r\n\t                case 39:\r\n\t                    this.$ = { type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$) };\r\n\t                    break;\r\n\t                case 40:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 41:\r\n\t                    this.$ = $$[$0];\r\n\t                    break;\r\n\t                case 42:\r\n\t                    this.$ = yy.preparePath(true, $$[$0], this._$);\r\n\t                    break;\r\n\t                case 43:\r\n\t                    this.$ = yy.preparePath(false, $$[$0], this._$);\r\n\t                    break;\r\n\t                case 44:\r\n\t                    $$[$0 - 2].push({ part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1] });this.$ = $$[$0 - 2];\r\n\t                    break;\r\n\t                case 45:\r\n\t                    this.$ = [{ part: yy.id($$[$0]), original: $$[$0] }];\r\n\t                    break;\r\n\t                case 46:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 47:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 48:\r\n\t                    this.$ = [$$[$0]];\r\n\t                    break;\r\n\t                case 49:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 50:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 51:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 58:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 59:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 64:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 65:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 70:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 71:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 78:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 79:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 82:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 83:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 86:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 87:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 90:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 91:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 94:\r\n\t                    this.$ = [];\r\n\t                    break;\r\n\t                case 95:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 98:\r\n\t                    this.$ = [$$[$0]];\r\n\t                    break;\r\n\t                case 99:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t                case 100:\r\n\t                    this.$ = [$$[$0]];\r\n\t                    break;\r\n\t                case 101:\r\n\t                    $$[$0 - 1].push($$[$0]);\r\n\t                    break;\r\n\t            }\r\n\t        },\r\n\t        table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 13: 40, 15: [1, 20], 17: 39 }, { 20: 42, 56: 41, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 45, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 48, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 42, 56: 49, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 50, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 51] }, { 72: [1, 35], 86: 52 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 53, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 54, 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 55, 47: [2, 54] }, { 28: 60, 43: 61, 44: [1, 59], 47: [2, 56] }, { 13: 63, 15: [1, 20], 18: [1, 62] }, { 15: [2, 48], 18: [2, 48] }, { 33: [2, 86], 57: 64, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 65, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 66, 47: [1, 67] }, { 30: 68, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 69, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 70, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 71, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 75, 33: [2, 80], 50: 72, 63: 73, 64: 76, 65: [1, 44], 69: 74, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 80] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 51] }, { 20: 75, 53: 81, 54: [2, 84], 63: 82, 64: 76, 65: [1, 44], 69: 83, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 84, 47: [1, 67] }, { 47: [2, 55] }, { 4: 85, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 86, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 87, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 88, 47: [1, 67] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 75, 33: [2, 88], 58: 89, 63: 90, 64: 76, 65: [1, 44], 69: 91, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 92, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 93, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 31: 94, 33: [2, 60], 63: 95, 64: 76, 65: [1, 44], 69: 96, 70: 77, 71: 78, 72: [1, 79], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 66], 36: 97, 63: 98, 64: 76, 65: [1, 44], 69: 99, 70: 77, 71: 78, 72: [1, 79], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 22: 100, 23: [2, 52], 63: 101, 64: 76, 65: [1, 44], 69: 102, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 92], 62: 103, 63: 104, 64: 76, 65: [1, 44], 69: 105, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 106] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 107, 72: [1, 108], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 109], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 110] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 112, 46: 111, 47: [2, 76] }, { 33: [2, 70], 40: 113, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 114] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 75, 63: 116, 64: 76, 65: [1, 44], 67: 115, 68: [2, 96], 69: 117, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 118] }, { 32: 119, 33: [2, 62], 74: 120, 75: [1, 121] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 122, 74: 123, 75: [1, 121] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 124] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 125] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 109] }, { 20: 75, 63: 126, 64: 76, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 75, 33: [2, 72], 41: 127, 63: 128, 64: 76, 65: [1, 44], 69: 129, 70: 77, 71: 78, 72: [1, 79], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 130] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 131] }, { 33: [2, 63] }, { 72: [1, 133], 76: 132 }, { 33: [1, 134] }, { 33: [2, 69] }, { 15: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 135, 74: 136, 75: [1, 121] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 138], 77: [1, 137] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 139] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }],\r\n\t        defaultActions: { 4: [2, 1], 55: [2, 55], 57: [2, 20], 61: [2, 57], 74: [2, 81], 83: [2, 85], 87: [2, 18], 91: [2, 89], 102: [2, 53], 105: [2, 93], 111: [2, 19], 112: [2, 77], 117: [2, 97], 120: [2, 63], 123: [2, 69], 124: [2, 12], 136: [2, 75], 137: [2, 32] },\r\n\t        parseError: function parseError(str, hash) {\r\n\t            throw new Error(str);\r\n\t        },\r\n\t        parse: function parse(input) {\r\n\t            var self = this,\r\n\t                stack = [0],\r\n\t                vstack = [null],\r\n\t                lstack = [],\r\n\t                table = this.table,\r\n\t                yytext = \"\",\r\n\t                yylineno = 0,\r\n\t                yyleng = 0,\r\n\t                recovering = 0,\r\n\t                TERROR = 2,\r\n\t                EOF = 1;\r\n\t            this.lexer.setInput(input);\r\n\t            this.lexer.yy = this.yy;\r\n\t            this.yy.lexer = this.lexer;\r\n\t            this.yy.parser = this;\r\n\t            if (typeof this.lexer.yylloc == \"undefined\") this.lexer.yylloc = {};\r\n\t            var yyloc = this.lexer.yylloc;\r\n\t            lstack.push(yyloc);\r\n\t            var ranges = this.lexer.options && this.lexer.options.ranges;\r\n\t            if (typeof this.yy.parseError === \"function\") this.parseError = this.yy.parseError;\r\n\t            function popStack(n) {\r\n\t                stack.length = stack.length - 2 * n;\r\n\t                vstack.length = vstack.length - n;\r\n\t                lstack.length = lstack.length - n;\r\n\t            }\r\n\t            function lex() {\r\n\t                var token;\r\n\t                token = self.lexer.lex() || 1;\r\n\t                if (typeof token !== \"number\") {\r\n\t                    token = self.symbols_[token] || token;\r\n\t                }\r\n\t                return token;\r\n\t            }\r\n\t            var symbol,\r\n\t                preErrorSymbol,\r\n\t                state,\r\n\t                action,\r\n\t                a,\r\n\t                r,\r\n\t                yyval = {},\r\n\t                p,\r\n\t                len,\r\n\t                newState,\r\n\t                expected;\r\n\t            while (true) {\r\n\t                state = stack[stack.length - 1];\r\n\t                if (this.defaultActions[state]) {\r\n\t                    action = this.defaultActions[state];\r\n\t                } else {\r\n\t                    if (symbol === null || typeof symbol == \"undefined\") {\r\n\t                        symbol = lex();\r\n\t                    }\r\n\t                    action = table[state] && table[state][symbol];\r\n\t                }\r\n\t                if (typeof action === \"undefined\" || !action.length || !action[0]) {\r\n\t                    var errStr = \"\";\r\n\t                    if (!recovering) {\r\n\t                        expected = [];\r\n\t                        for (p in table[state]) if (this.terminals_[p] && p > 2) {\r\n\t                            expected.push(\"'\" + this.terminals_[p] + \"'\");\r\n\t                        }\r\n\t                        if (this.lexer.showPosition) {\r\n\t                            errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\r\n\t                        } else {\r\n\t                            errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == 1 ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\r\n\t                        }\r\n\t                        this.parseError(errStr, { text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected });\r\n\t                    }\r\n\t                }\r\n\t                if (action[0] instanceof Array && action.length > 1) {\r\n\t                    throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\r\n\t                }\r\n\t                switch (action[0]) {\r\n\t                    case 1:\r\n\t                        stack.push(symbol);\r\n\t                        vstack.push(this.lexer.yytext);\r\n\t                        lstack.push(this.lexer.yylloc);\r\n\t                        stack.push(action[1]);\r\n\t                        symbol = null;\r\n\t                        if (!preErrorSymbol) {\r\n\t                            yyleng = this.lexer.yyleng;\r\n\t                            yytext = this.lexer.yytext;\r\n\t                            yylineno = this.lexer.yylineno;\r\n\t                            yyloc = this.lexer.yylloc;\r\n\t                            if (recovering > 0) recovering--;\r\n\t                        } else {\r\n\t                            symbol = preErrorSymbol;\r\n\t                            preErrorSymbol = null;\r\n\t                        }\r\n\t                        break;\r\n\t                    case 2:\r\n\t                        len = this.productions_[action[1]][1];\r\n\t                        yyval.$ = vstack[vstack.length - len];\r\n\t                        yyval._$ = { first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column };\r\n\t                        if (ranges) {\r\n\t                            yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\r\n\t                        }\r\n\t                        r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\r\n\t                        if (typeof r !== \"undefined\") {\r\n\t                            return r;\r\n\t                        }\r\n\t                        if (len) {\r\n\t                            stack = stack.slice(0, -1 * len * 2);\r\n\t                            vstack = vstack.slice(0, -1 * len);\r\n\t                            lstack = lstack.slice(0, -1 * len);\r\n\t                        }\r\n\t                        stack.push(this.productions_[action[1]][0]);\r\n\t                        vstack.push(yyval.$);\r\n\t                        lstack.push(yyval._$);\r\n\t                        newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\r\n\t                        stack.push(newState);\r\n\t                        break;\r\n\t                    case 3:\r\n\t                        return true;\r\n\t                }\r\n\t            }\r\n\t            return true;\r\n\t        }\r\n\t    };\r\n\t    /* Jison generated lexer */\r\n\t    var lexer = (function () {\r\n\t        var lexer = { EOF: 1,\r\n\t            parseError: function parseError(str, hash) {\r\n\t                if (this.yy.parser) {\r\n\t                    this.yy.parser.parseError(str, hash);\r\n\t                } else {\r\n\t                    throw new Error(str);\r\n\t                }\r\n\t            },\r\n\t            setInput: function setInput(input) {\r\n\t                this._input = input;\r\n\t                this._more = this._less = this.done = false;\r\n\t                this.yylineno = this.yyleng = 0;\r\n\t                this.yytext = this.matched = this.match = '';\r\n\t                this.conditionStack = ['INITIAL'];\r\n\t                this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 };\r\n\t                if (this.options.ranges) this.yylloc.range = [0, 0];\r\n\t                this.offset = 0;\r\n\t                return this;\r\n\t            },\r\n\t            input: function input() {\r\n\t                var ch = this._input[0];\r\n\t                this.yytext += ch;\r\n\t                this.yyleng++;\r\n\t                this.offset++;\r\n\t                this.match += ch;\r\n\t                this.matched += ch;\r\n\t                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\r\n\t                if (lines) {\r\n\t                    this.yylineno++;\r\n\t                    this.yylloc.last_line++;\r\n\t                } else {\r\n\t                    this.yylloc.last_column++;\r\n\t                }\r\n\t                if (this.options.ranges) this.yylloc.range[1]++;\r\n\r\n\t                this._input = this._input.slice(1);\r\n\t                return ch;\r\n\t            },\r\n\t            unput: function unput(ch) {\r\n\t                var len = ch.length;\r\n\t                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\r\n\r\n\t                this._input = ch + this._input;\r\n\t                this.yytext = this.yytext.substr(0, this.yytext.length - len - 1);\r\n\t                //this.yyleng -= len;\r\n\t                this.offset -= len;\r\n\t                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\r\n\t                this.match = this.match.substr(0, this.match.length - 1);\r\n\t                this.matched = this.matched.substr(0, this.matched.length - 1);\r\n\r\n\t                if (lines.length - 1) this.yylineno -= lines.length - 1;\r\n\t                var r = this.yylloc.range;\r\n\r\n\t                this.yylloc = { first_line: this.yylloc.first_line,\r\n\t                    last_line: this.yylineno + 1,\r\n\t                    first_column: this.yylloc.first_column,\r\n\t                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\r\n\t                };\r\n\r\n\t                if (this.options.ranges) {\r\n\t                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];\r\n\t                }\r\n\t                return this;\r\n\t            },\r\n\t            more: function more() {\r\n\t                this._more = true;\r\n\t                return this;\r\n\t            },\r\n\t            less: function less(n) {\r\n\t                this.unput(this.match.slice(n));\r\n\t            },\r\n\t            pastInput: function pastInput() {\r\n\t                var past = this.matched.substr(0, this.matched.length - this.match.length);\r\n\t                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\r\n\t            },\r\n\t            upcomingInput: function upcomingInput() {\r\n\t                var next = this.match;\r\n\t                if (next.length < 20) {\r\n\t                    next += this._input.substr(0, 20 - next.length);\r\n\t                }\r\n\t                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\r\n\t            },\r\n\t            showPosition: function showPosition() {\r\n\t                var pre = this.pastInput();\r\n\t                var c = new Array(pre.length + 1).join(\"-\");\r\n\t                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\r\n\t            },\r\n\t            next: function next() {\r\n\t                if (this.done) {\r\n\t                    return this.EOF;\r\n\t                }\r\n\t                if (!this._input) this.done = true;\r\n\r\n\t                var token, match, tempMatch, index, col, lines;\r\n\t                if (!this._more) {\r\n\t                    this.yytext = '';\r\n\t                    this.match = '';\r\n\t                }\r\n\t                var rules = this._currentRules();\r\n\t                for (var i = 0; i < rules.length; i++) {\r\n\t                    tempMatch = this._input.match(this.rules[rules[i]]);\r\n\t                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\r\n\t                        match = tempMatch;\r\n\t                        index = i;\r\n\t                        if (!this.options.flex) break;\r\n\t                    }\r\n\t                }\r\n\t                if (match) {\r\n\t                    lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\r\n\t                    if (lines) this.yylineno += lines.length;\r\n\t                    this.yylloc = { first_line: this.yylloc.last_line,\r\n\t                        last_line: this.yylineno + 1,\r\n\t                        first_column: this.yylloc.last_column,\r\n\t                        last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length };\r\n\t                    this.yytext += match[0];\r\n\t                    this.match += match[0];\r\n\t                    this.matches = match;\r\n\t                    this.yyleng = this.yytext.length;\r\n\t                    if (this.options.ranges) {\r\n\t                        this.yylloc.range = [this.offset, this.offset += this.yyleng];\r\n\t                    }\r\n\t                    this._more = false;\r\n\t                    this._input = this._input.slice(match[0].length);\r\n\t                    this.matched += match[0];\r\n\t                    token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);\r\n\t                    if (this.done && this._input) this.done = false;\r\n\t                    if (token) return token;else return;\r\n\t                }\r\n\t                if (this._input === \"\") {\r\n\t                    return this.EOF;\r\n\t                } else {\r\n\t                    return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), { text: \"\", token: null, line: this.yylineno });\r\n\t                }\r\n\t            },\r\n\t            lex: function lex() {\r\n\t                var r = this.next();\r\n\t                if (typeof r !== 'undefined') {\r\n\t                    return r;\r\n\t                } else {\r\n\t                    return this.lex();\r\n\t                }\r\n\t            },\r\n\t            begin: function begin(condition) {\r\n\t                this.conditionStack.push(condition);\r\n\t            },\r\n\t            popState: function popState() {\r\n\t                return this.conditionStack.pop();\r\n\t            },\r\n\t            _currentRules: function _currentRules() {\r\n\t                return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\r\n\t            },\r\n\t            topState: function topState() {\r\n\t                return this.conditionStack[this.conditionStack.length - 2];\r\n\t            },\r\n\t            pushState: function begin(condition) {\r\n\t                this.begin(condition);\r\n\t            } };\r\n\t        lexer.options = {};\r\n\t        lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START\r\n\t        /**/) {\r\n\r\n\t            function strip(start, end) {\r\n\t                return yy_.yytext = yy_.yytext.substr(start, yy_.yyleng - end);\r\n\t            }\r\n\r\n\t            var YYSTATE = YY_START;\r\n\t            switch ($avoiding_name_collisions) {\r\n\t                case 0:\r\n\t                    if (yy_.yytext.slice(-2) === \"\\\\\\\\\") {\r\n\t                        strip(0, 1);\r\n\t                        this.begin(\"mu\");\r\n\t                    } else if (yy_.yytext.slice(-1) === \"\\\\\") {\r\n\t                        strip(0, 1);\r\n\t                        this.begin(\"emu\");\r\n\t                    } else {\r\n\t                        this.begin(\"mu\");\r\n\t                    }\r\n\t                    if (yy_.yytext) return 15;\r\n\r\n\t                    break;\r\n\t                case 1:\r\n\t                    return 15;\r\n\t                    break;\r\n\t                case 2:\r\n\t                    this.popState();\r\n\t                    return 15;\r\n\r\n\t                    break;\r\n\t                case 3:\r\n\t                    this.begin('raw');return 15;\r\n\t                    break;\r\n\t                case 4:\r\n\t                    this.popState();\r\n\t                    // Should be using `this.topState()` below, but it currently\r\n\t                    // returns the second top instead of the first top. Opened an\r\n\t                    // issue about it at https://github.com/zaach/jison/issues/291\r\n\t                    if (this.conditionStack[this.conditionStack.length - 1] === 'raw') {\r\n\t                        return 15;\r\n\t                    } else {\r\n\t                        yy_.yytext = yy_.yytext.substr(5, yy_.yyleng - 9);\r\n\t                        return 'END_RAW_BLOCK';\r\n\t                    }\r\n\r\n\t                    break;\r\n\t                case 5:\r\n\t                    return 15;\r\n\t                    break;\r\n\t                case 6:\r\n\t                    this.popState();\r\n\t                    return 14;\r\n\r\n\t                    break;\r\n\t                case 7:\r\n\t                    return 65;\r\n\t                    break;\r\n\t                case 8:\r\n\t                    return 68;\r\n\t                    break;\r\n\t                case 9:\r\n\t                    return 19;\r\n\t                    break;\r\n\t                case 10:\r\n\t                    this.popState();\r\n\t                    this.begin('raw');\r\n\t                    return 23;\r\n\r\n\t                    break;\r\n\t                case 11:\r\n\t                    return 55;\r\n\t                    break;\r\n\t                case 12:\r\n\t                    return 60;\r\n\t                    break;\r\n\t                case 13:\r\n\t                    return 29;\r\n\t                    break;\r\n\t                case 14:\r\n\t                    return 47;\r\n\t                    break;\r\n\t                case 15:\r\n\t                    this.popState();return 44;\r\n\t                    break;\r\n\t                case 16:\r\n\t                    this.popState();return 44;\r\n\t                    break;\r\n\t                case 17:\r\n\t                    return 34;\r\n\t                    break;\r\n\t                case 18:\r\n\t                    return 39;\r\n\t                    break;\r\n\t                case 19:\r\n\t                    return 51;\r\n\t                    break;\r\n\t                case 20:\r\n\t                    return 48;\r\n\t                    break;\r\n\t                case 21:\r\n\t                    this.unput(yy_.yytext);\r\n\t                    this.popState();\r\n\t                    this.begin('com');\r\n\r\n\t                    break;\r\n\t                case 22:\r\n\t                    this.popState();\r\n\t                    return 14;\r\n\r\n\t                    break;\r\n\t                case 23:\r\n\t                    return 48;\r\n\t                    break;\r\n\t                case 24:\r\n\t                    return 73;\r\n\t                    break;\r\n\t                case 25:\r\n\t                    return 72;\r\n\t                    break;\r\n\t                case 26:\r\n\t                    return 72;\r\n\t                    break;\r\n\t                case 27:\r\n\t                    return 87;\r\n\t                    break;\r\n\t                case 28:\r\n\t                    // ignore whitespace\r\n\t                    break;\r\n\t                case 29:\r\n\t                    this.popState();return 54;\r\n\t                    break;\r\n\t                case 30:\r\n\t                    this.popState();return 33;\r\n\t                    break;\r\n\t                case 31:\r\n\t                    yy_.yytext = strip(1, 2).replace(/\\\\\"/g, '\"');return 80;\r\n\t                    break;\r\n\t                case 32:\r\n\t                    yy_.yytext = strip(1, 2).replace(/\\\\'/g, \"'\");return 80;\r\n\t                    break;\r\n\t                case 33:\r\n\t                    return 85;\r\n\t                    break;\r\n\t                case 34:\r\n\t                    return 82;\r\n\t                    break;\r\n\t                case 35:\r\n\t                    return 82;\r\n\t                    break;\r\n\t                case 36:\r\n\t                    return 83;\r\n\t                    break;\r\n\t                case 37:\r\n\t                    return 84;\r\n\t                    break;\r\n\t                case 38:\r\n\t                    return 81;\r\n\t                    break;\r\n\t                case 39:\r\n\t                    return 75;\r\n\t                    break;\r\n\t                case 40:\r\n\t                    return 77;\r\n\t                    break;\r\n\t                case 41:\r\n\t                    return 72;\r\n\t                    break;\r\n\t                case 42:\r\n\t                    yy_.yytext = yy_.yytext.replace(/\\\\([\\\\\\]])/g, '$1');return 72;\r\n\t                    break;\r\n\t                case 43:\r\n\t                    return 'INVALID';\r\n\t                    break;\r\n\t                case 44:\r\n\t                    return 5;\r\n\t                    break;\r\n\t            }\r\n\t        };\r\n\t        lexer.rules = [/^(?:[^\\x00]*?(?=(\\{\\{)))/, /^(?:[^\\x00]+)/, /^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/, /^(?:\\{\\{\\{\\{(?=[^/]))/, /^(?:\\{\\{\\{\\{\\/[^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=[=}\\s\\/.])\\}\\}\\}\\})/, /^(?:[^\\x00]*?(?=(\\{\\{\\{\\{)))/, /^(?:[\\s\\S]*?--(~)?\\}\\})/, /^(?:\\()/, /^(?:\\))/, /^(?:\\{\\{\\{\\{)/, /^(?:\\}\\}\\}\\})/, /^(?:\\{\\{(~)?>)/, /^(?:\\{\\{(~)?#>)/, /^(?:\\{\\{(~)?#\\*?)/, /^(?:\\{\\{(~)?\\/)/, /^(?:\\{\\{(~)?\\^\\s*(~)?\\}\\})/, /^(?:\\{\\{(~)?\\s*else\\s*(~)?\\}\\})/, /^(?:\\{\\{(~)?\\^)/, /^(?:\\{\\{(~)?\\s*else\\b)/, /^(?:\\{\\{(~)?\\{)/, /^(?:\\{\\{(~)?&)/, /^(?:\\{\\{(~)?!--)/, /^(?:\\{\\{(~)?![\\s\\S]*?\\}\\})/, /^(?:\\{\\{(~)?\\*?)/, /^(?:=)/, /^(?:\\.\\.)/, /^(?:\\.(?=([=~}\\s\\/.)|])))/, /^(?:[\\/.])/, /^(?:\\s+)/, /^(?:\\}(~)?\\}\\})/, /^(?:(~)?\\}\\})/, /^(?:\"(\\\\[\"]|[^\"])*\")/, /^(?:'(\\\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\\s)])))/, /^(?:false(?=([~}\\s)])))/, /^(?:undefined(?=([~}\\s)])))/, /^(?:null(?=([~}\\s)])))/, /^(?:-?[0-9]+(?:\\.[0-9]+)?(?=([~}\\s)])))/, /^(?:as\\s+\\|)/, /^(?:\\|)/, /^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)|]))))/, /^(?:\\[(\\\\\\]|[^\\]])*\\])/, /^(?:.)/, /^(?:$)/];\r\n\t        lexer.conditions = { \"mu\": { \"rules\": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], \"inclusive\": false }, \"emu\": { \"rules\": [2], \"inclusive\": false }, \"com\": { \"rules\": [6], \"inclusive\": false }, \"raw\": { \"rules\": [3, 4, 5], \"inclusive\": false }, \"INITIAL\": { \"rules\": [0, 1, 44], \"inclusive\": true } };\r\n\t        return lexer;\r\n\t    })();\r\n\t    parser.lexer = lexer;\r\n\t    function Parser() {\r\n\t        this.yy = {};\r\n\t    }Parser.prototype = parser;parser.Parser = Parser;\r\n\t    return new Parser();\r\n\t})();exports.__esModule = true;\r\n\texports['default'] = handlebars;\r\n\r\n/***/ },\r\n/* 24 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _visitor = __webpack_require__(25);\r\n\r\n\tvar _visitor2 = _interopRequireDefault(_visitor);\r\n\r\n\tfunction WhitespaceControl() {\r\n\t  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\r\n\r\n\t  this.options = options;\r\n\t}\r\n\tWhitespaceControl.prototype = new _visitor2['default']();\r\n\r\n\tWhitespaceControl.prototype.Program = function (program) {\r\n\t  var doStandalone = !this.options.ignoreStandalone;\r\n\r\n\t  var isRoot = !this.isRootSeen;\r\n\t  this.isRootSeen = true;\r\n\r\n\t  var body = program.body;\r\n\t  for (var i = 0, l = body.length; i < l; i++) {\r\n\t    var current = body[i],\r\n\t        strip = this.accept(current);\r\n\r\n\t    if (!strip) {\r\n\t      continue;\r\n\t    }\r\n\r\n\t    var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),\r\n\t        _isNextWhitespace = isNextWhitespace(body, i, isRoot),\r\n\t        openStandalone = strip.openStandalone && _isPrevWhitespace,\r\n\t        closeStandalone = strip.closeStandalone && _isNextWhitespace,\r\n\t        inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;\r\n\r\n\t    if (strip.close) {\r\n\t      omitRight(body, i, true);\r\n\t    }\r\n\t    if (strip.open) {\r\n\t      omitLeft(body, i, true);\r\n\t    }\r\n\r\n\t    if (doStandalone && inlineStandalone) {\r\n\t      omitRight(body, i);\r\n\r\n\t      if (omitLeft(body, i)) {\r\n\t        // If we are on a standalone node, save the indent info for partials\r\n\t        if (current.type === 'PartialStatement') {\r\n\t          // Pull out the whitespace from the final line\r\n\t          current.indent = /([ \\t]+$)/.exec(body[i - 1].original)[1];\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    if (doStandalone && openStandalone) {\r\n\t      omitRight((current.program || current.inverse).body);\r\n\r\n\t      // Strip out the previous content node if it's whitespace only\r\n\t      omitLeft(body, i);\r\n\t    }\r\n\t    if (doStandalone && closeStandalone) {\r\n\t      // Always strip the next node\r\n\t      omitRight(body, i);\r\n\r\n\t      omitLeft((current.inverse || current.program).body);\r\n\t    }\r\n\t  }\r\n\r\n\t  return program;\r\n\t};\r\n\r\n\tWhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function (block) {\r\n\t  this.accept(block.program);\r\n\t  this.accept(block.inverse);\r\n\r\n\t  // Find the inverse program that is involed with whitespace stripping.\r\n\t  var program = block.program || block.inverse,\r\n\t      inverse = block.program && block.inverse,\r\n\t      firstInverse = inverse,\r\n\t      lastInverse = inverse;\r\n\r\n\t  if (inverse && inverse.chained) {\r\n\t    firstInverse = inverse.body[0].program;\r\n\r\n\t    // Walk the inverse chain to find the last inverse that is actually in the chain.\r\n\t    while (lastInverse.chained) {\r\n\t      lastInverse = lastInverse.body[lastInverse.body.length - 1].program;\r\n\t    }\r\n\t  }\r\n\r\n\t  var strip = {\r\n\t    open: block.openStrip.open,\r\n\t    close: block.closeStrip.close,\r\n\r\n\t    // Determine the standalone candiacy. Basically flag our content as being possibly standalone\r\n\t    // so our parent can determine if we actually are standalone\r\n\t    openStandalone: isNextWhitespace(program.body),\r\n\t    closeStandalone: isPrevWhitespace((firstInverse || program).body)\r\n\t  };\r\n\r\n\t  if (block.openStrip.close) {\r\n\t    omitRight(program.body, null, true);\r\n\t  }\r\n\r\n\t  if (inverse) {\r\n\t    var inverseStrip = block.inverseStrip;\r\n\r\n\t    if (inverseStrip.open) {\r\n\t      omitLeft(program.body, null, true);\r\n\t    }\r\n\r\n\t    if (inverseStrip.close) {\r\n\t      omitRight(firstInverse.body, null, true);\r\n\t    }\r\n\t    if (block.closeStrip.open) {\r\n\t      omitLeft(lastInverse.body, null, true);\r\n\t    }\r\n\r\n\t    // Find standalone else statments\r\n\t    if (!this.options.ignoreStandalone && isPrevWhitespace(program.body) && isNextWhitespace(firstInverse.body)) {\r\n\t      omitLeft(program.body);\r\n\t      omitRight(firstInverse.body);\r\n\t    }\r\n\t  } else if (block.closeStrip.open) {\r\n\t    omitLeft(program.body, null, true);\r\n\t  }\r\n\r\n\t  return strip;\r\n\t};\r\n\r\n\tWhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function (mustache) {\r\n\t  return mustache.strip;\r\n\t};\r\n\r\n\tWhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function (node) {\r\n\t  /* istanbul ignore next */\r\n\t  var strip = node.strip || {};\r\n\t  return {\r\n\t    inlineStandalone: true,\r\n\t    open: strip.open,\r\n\t    close: strip.close\r\n\t  };\r\n\t};\r\n\r\n\tfunction isPrevWhitespace(body, i, isRoot) {\r\n\t  if (i === undefined) {\r\n\t    i = body.length;\r\n\t  }\r\n\r\n\t  // Nodes that end with newlines are considered whitespace (but are special\r\n\t  // cased for strip operations)\r\n\t  var prev = body[i - 1],\r\n\t      sibling = body[i - 2];\r\n\t  if (!prev) {\r\n\t    return isRoot;\r\n\t  }\r\n\r\n\t  if (prev.type === 'ContentStatement') {\r\n\t    return (sibling || !isRoot ? /\\r?\\n\\s*?$/ : /(^|\\r?\\n)\\s*?$/).test(prev.original);\r\n\t  }\r\n\t}\r\n\tfunction isNextWhitespace(body, i, isRoot) {\r\n\t  if (i === undefined) {\r\n\t    i = -1;\r\n\t  }\r\n\r\n\t  var next = body[i + 1],\r\n\t      sibling = body[i + 2];\r\n\t  if (!next) {\r\n\t    return isRoot;\r\n\t  }\r\n\r\n\t  if (next.type === 'ContentStatement') {\r\n\t    return (sibling || !isRoot ? /^\\s*?\\r?\\n/ : /^\\s*?(\\r?\\n|$)/).test(next.original);\r\n\t  }\r\n\t}\r\n\r\n\t// Marks the node to the right of the position as omitted.\r\n\t// I.e. {{foo}}' ' will mark the ' ' node as omitted.\r\n\t//\r\n\t// If i is undefined, then the first child will be marked as such.\r\n\t//\r\n\t// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\r\n\t// content is met.\r\n\tfunction omitRight(body, i, multiple) {\r\n\t  var current = body[i == null ? 0 : i + 1];\r\n\t  if (!current || current.type !== 'ContentStatement' || !multiple && current.rightStripped) {\r\n\t    return;\r\n\t  }\r\n\r\n\t  var original = current.value;\r\n\t  current.value = current.value.replace(multiple ? /^\\s+/ : /^[ \\t]*\\r?\\n?/, '');\r\n\t  current.rightStripped = current.value !== original;\r\n\t}\r\n\r\n\t// Marks the node to the left of the position as omitted.\r\n\t// I.e. ' '{{foo}} will mark the ' ' node as omitted.\r\n\t//\r\n\t// If i is undefined then the last child will be marked as such.\r\n\t//\r\n\t// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\r\n\t// content is met.\r\n\tfunction omitLeft(body, i, multiple) {\r\n\t  var current = body[i == null ? body.length - 1 : i - 1];\r\n\t  if (!current || current.type !== 'ContentStatement' || !multiple && current.leftStripped) {\r\n\t    return;\r\n\t  }\r\n\r\n\t  // We omit the last node if it's whitespace only and not preceeded by a non-content node.\r\n\t  var original = current.value;\r\n\t  current.value = current.value.replace(multiple ? /\\s+$/ : /[ \\t]+$/, '');\r\n\t  current.leftStripped = current.value !== original;\r\n\t  return current.leftStripped;\r\n\t}\r\n\r\n\texports['default'] = WhitespaceControl;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 25 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _exception = __webpack_require__(6);\r\n\r\n\tvar _exception2 = _interopRequireDefault(_exception);\r\n\r\n\tfunction Visitor() {\r\n\t  this.parents = [];\r\n\t}\r\n\r\n\tVisitor.prototype = {\r\n\t  constructor: Visitor,\r\n\t  mutating: false,\r\n\r\n\t  // Visits a given value. If mutating, will replace the value if necessary.\r\n\t  acceptKey: function acceptKey(node, name) {\r\n\t    var value = this.accept(node[name]);\r\n\t    if (this.mutating) {\r\n\t      // Hacky sanity check: This may have a few false positives for type for the helper\r\n\t      // methods but will generally do the right thing without a lot of overhead.\r\n\t      if (value && !Visitor.prototype[value.type]) {\r\n\t        throw new _exception2['default']('Unexpected node type \"' + value.type + '\" found when accepting ' + name + ' on ' + node.type);\r\n\t      }\r\n\t      node[name] = value;\r\n\t    }\r\n\t  },\r\n\r\n\t  // Performs an accept operation with added sanity check to ensure\r\n\t  // required keys are not removed.\r\n\t  acceptRequired: function acceptRequired(node, name) {\r\n\t    this.acceptKey(node, name);\r\n\r\n\t    if (!node[name]) {\r\n\t      throw new _exception2['default'](node.type + ' requires ' + name);\r\n\t    }\r\n\t  },\r\n\r\n\t  // Traverses a given array. If mutating, empty respnses will be removed\r\n\t  // for child elements.\r\n\t  acceptArray: function acceptArray(array) {\r\n\t    for (var i = 0, l = array.length; i < l; i++) {\r\n\t      this.acceptKey(array, i);\r\n\r\n\t      if (!array[i]) {\r\n\t        array.splice(i, 1);\r\n\t        i--;\r\n\t        l--;\r\n\t      }\r\n\t    }\r\n\t  },\r\n\r\n\t  accept: function accept(object) {\r\n\t    if (!object) {\r\n\t      return;\r\n\t    }\r\n\r\n\t    /* istanbul ignore next: Sanity code */\r\n\t    if (!this[object.type]) {\r\n\t      throw new _exception2['default']('Unknown type: ' + object.type, object);\r\n\t    }\r\n\r\n\t    if (this.current) {\r\n\t      this.parents.unshift(this.current);\r\n\t    }\r\n\t    this.current = object;\r\n\r\n\t    var ret = this[object.type](object);\r\n\r\n\t    this.current = this.parents.shift();\r\n\r\n\t    if (!this.mutating || ret) {\r\n\t      return ret;\r\n\t    } else if (ret !== false) {\r\n\t      return object;\r\n\t    }\r\n\t  },\r\n\r\n\t  Program: function Program(program) {\r\n\t    this.acceptArray(program.body);\r\n\t  },\r\n\r\n\t  MustacheStatement: visitSubExpression,\r\n\t  Decorator: visitSubExpression,\r\n\r\n\t  BlockStatement: visitBlock,\r\n\t  DecoratorBlock: visitBlock,\r\n\r\n\t  PartialStatement: visitPartial,\r\n\t  PartialBlockStatement: function PartialBlockStatement(partial) {\r\n\t    visitPartial.call(this, partial);\r\n\r\n\t    this.acceptKey(partial, 'program');\r\n\t  },\r\n\r\n\t  ContentStatement: function ContentStatement() /* content */{},\r\n\t  CommentStatement: function CommentStatement() /* comment */{},\r\n\r\n\t  SubExpression: visitSubExpression,\r\n\r\n\t  PathExpression: function PathExpression() /* path */{},\r\n\r\n\t  StringLiteral: function StringLiteral() /* string */{},\r\n\t  NumberLiteral: function NumberLiteral() /* number */{},\r\n\t  BooleanLiteral: function BooleanLiteral() /* bool */{},\r\n\t  UndefinedLiteral: function UndefinedLiteral() /* literal */{},\r\n\t  NullLiteral: function NullLiteral() /* literal */{},\r\n\r\n\t  Hash: function Hash(hash) {\r\n\t    this.acceptArray(hash.pairs);\r\n\t  },\r\n\t  HashPair: function HashPair(pair) {\r\n\t    this.acceptRequired(pair, 'value');\r\n\t  }\r\n\t};\r\n\r\n\tfunction visitSubExpression(mustache) {\r\n\t  this.acceptRequired(mustache, 'path');\r\n\t  this.acceptArray(mustache.params);\r\n\t  this.acceptKey(mustache, 'hash');\r\n\t}\r\n\tfunction visitBlock(block) {\r\n\t  visitSubExpression.call(this, block);\r\n\r\n\t  this.acceptKey(block, 'program');\r\n\t  this.acceptKey(block, 'inverse');\r\n\t}\r\n\tfunction visitPartial(partial) {\r\n\t  this.acceptRequired(partial, 'name');\r\n\t  this.acceptArray(partial.params);\r\n\t  this.acceptKey(partial, 'hash');\r\n\t}\r\n\r\n\texports['default'] = Visitor;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 26 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\texports.SourceLocation = SourceLocation;\r\n\texports.id = id;\r\n\texports.stripFlags = stripFlags;\r\n\texports.stripComment = stripComment;\r\n\texports.preparePath = preparePath;\r\n\texports.prepareMustache = prepareMustache;\r\n\texports.prepareRawBlock = prepareRawBlock;\r\n\texports.prepareBlock = prepareBlock;\r\n\texports.prepareProgram = prepareProgram;\r\n\texports.preparePartialBlock = preparePartialBlock;\r\n\r\n\tvar _exception = __webpack_require__(6);\r\n\r\n\tvar _exception2 = _interopRequireDefault(_exception);\r\n\r\n\tfunction validateClose(open, close) {\r\n\t  close = close.path ? close.path.original : close;\r\n\r\n\t  if (open.path.original !== close) {\r\n\t    var errorNode = { loc: open.path.loc };\r\n\r\n\t    throw new _exception2['default'](open.path.original + \" doesn't match \" + close, errorNode);\r\n\t  }\r\n\t}\r\n\r\n\tfunction SourceLocation(source, locInfo) {\r\n\t  this.source = source;\r\n\t  this.start = {\r\n\t    line: locInfo.first_line,\r\n\t    column: locInfo.first_column\r\n\t  };\r\n\t  this.end = {\r\n\t    line: locInfo.last_line,\r\n\t    column: locInfo.last_column\r\n\t  };\r\n\t}\r\n\r\n\tfunction id(token) {\r\n\t  if (/^\\[.*\\]$/.test(token)) {\r\n\t    return token.substr(1, token.length - 2);\r\n\t  } else {\r\n\t    return token;\r\n\t  }\r\n\t}\r\n\r\n\tfunction stripFlags(open, close) {\r\n\t  return {\r\n\t    open: open.charAt(2) === '~',\r\n\t    close: close.charAt(close.length - 3) === '~'\r\n\t  };\r\n\t}\r\n\r\n\tfunction stripComment(comment) {\r\n\t  return comment.replace(/^\\{\\{~?\\!-?-?/, '').replace(/-?-?~?\\}\\}$/, '');\r\n\t}\r\n\r\n\tfunction preparePath(data, parts, loc) {\r\n\t  loc = this.locInfo(loc);\r\n\r\n\t  var original = data ? '@' : '',\r\n\t      dig = [],\r\n\t      depth = 0,\r\n\t      depthString = '';\r\n\r\n\t  for (var i = 0, l = parts.length; i < l; i++) {\r\n\t    var part = parts[i].part,\r\n\r\n\t    // If we have [] syntax then we do not treat path references as operators,\r\n\t    // i.e. foo.[this] resolves to approximately context.foo['this']\r\n\t    isLiteral = parts[i].original !== part;\r\n\t    original += (parts[i].separator || '') + part;\r\n\r\n\t    if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {\r\n\t      if (dig.length > 0) {\r\n\t        throw new _exception2['default']('Invalid path: ' + original, { loc: loc });\r\n\t      } else if (part === '..') {\r\n\t        depth++;\r\n\t        depthString += '../';\r\n\t      }\r\n\t    } else {\r\n\t      dig.push(part);\r\n\t    }\r\n\t  }\r\n\r\n\t  return {\r\n\t    type: 'PathExpression',\r\n\t    data: data,\r\n\t    depth: depth,\r\n\t    parts: dig,\r\n\t    original: original,\r\n\t    loc: loc\r\n\t  };\r\n\t}\r\n\r\n\tfunction prepareMustache(path, params, hash, open, strip, locInfo) {\r\n\t  // Must use charAt to support IE pre-10\r\n\t  var escapeFlag = open.charAt(3) || open.charAt(2),\r\n\t      escaped = escapeFlag !== '{' && escapeFlag !== '&';\r\n\r\n\t  var decorator = /\\*/.test(open);\r\n\t  return {\r\n\t    type: decorator ? 'Decorator' : 'MustacheStatement',\r\n\t    path: path,\r\n\t    params: params,\r\n\t    hash: hash,\r\n\t    escaped: escaped,\r\n\t    strip: strip,\r\n\t    loc: this.locInfo(locInfo)\r\n\t  };\r\n\t}\r\n\r\n\tfunction prepareRawBlock(openRawBlock, contents, close, locInfo) {\r\n\t  validateClose(openRawBlock, close);\r\n\r\n\t  locInfo = this.locInfo(locInfo);\r\n\t  var program = {\r\n\t    type: 'Program',\r\n\t    body: contents,\r\n\t    strip: {},\r\n\t    loc: locInfo\r\n\t  };\r\n\r\n\t  return {\r\n\t    type: 'BlockStatement',\r\n\t    path: openRawBlock.path,\r\n\t    params: openRawBlock.params,\r\n\t    hash: openRawBlock.hash,\r\n\t    program: program,\r\n\t    openStrip: {},\r\n\t    inverseStrip: {},\r\n\t    closeStrip: {},\r\n\t    loc: locInfo\r\n\t  };\r\n\t}\r\n\r\n\tfunction prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {\r\n\t  if (close && close.path) {\r\n\t    validateClose(openBlock, close);\r\n\t  }\r\n\r\n\t  var decorator = /\\*/.test(openBlock.open);\r\n\r\n\t  program.blockParams = openBlock.blockParams;\r\n\r\n\t  var inverse = undefined,\r\n\t      inverseStrip = undefined;\r\n\r\n\t  if (inverseAndProgram) {\r\n\t    if (decorator) {\r\n\t      throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram);\r\n\t    }\r\n\r\n\t    if (inverseAndProgram.chain) {\r\n\t      inverseAndProgram.program.body[0].closeStrip = close.strip;\r\n\t    }\r\n\r\n\t    inverseStrip = inverseAndProgram.strip;\r\n\t    inverse = inverseAndProgram.program;\r\n\t  }\r\n\r\n\t  if (inverted) {\r\n\t    inverted = inverse;\r\n\t    inverse = program;\r\n\t    program = inverted;\r\n\t  }\r\n\r\n\t  return {\r\n\t    type: decorator ? 'DecoratorBlock' : 'BlockStatement',\r\n\t    path: openBlock.path,\r\n\t    params: openBlock.params,\r\n\t    hash: openBlock.hash,\r\n\t    program: program,\r\n\t    inverse: inverse,\r\n\t    openStrip: openBlock.strip,\r\n\t    inverseStrip: inverseStrip,\r\n\t    closeStrip: close && close.strip,\r\n\t    loc: this.locInfo(locInfo)\r\n\t  };\r\n\t}\r\n\r\n\tfunction prepareProgram(statements, loc) {\r\n\t  if (!loc && statements.length) {\r\n\t    var firstLoc = statements[0].loc,\r\n\t        lastLoc = statements[statements.length - 1].loc;\r\n\r\n\t    /* istanbul ignore else */\r\n\t    if (firstLoc && lastLoc) {\r\n\t      loc = {\r\n\t        source: firstLoc.source,\r\n\t        start: {\r\n\t          line: firstLoc.start.line,\r\n\t          column: firstLoc.start.column\r\n\t        },\r\n\t        end: {\r\n\t          line: lastLoc.end.line,\r\n\t          column: lastLoc.end.column\r\n\t        }\r\n\t      };\r\n\t    }\r\n\t  }\r\n\r\n\t  return {\r\n\t    type: 'Program',\r\n\t    body: statements,\r\n\t    strip: {},\r\n\t    loc: loc\r\n\t  };\r\n\t}\r\n\r\n\tfunction preparePartialBlock(open, program, close, locInfo) {\r\n\t  validateClose(open, close);\r\n\r\n\t  return {\r\n\t    type: 'PartialBlockStatement',\r\n\t    name: open.path,\r\n\t    params: open.params,\r\n\t    hash: open.hash,\r\n\t    program: program,\r\n\t    openStrip: open.strip,\r\n\t    closeStrip: close && close.strip,\r\n\t    loc: this.locInfo(locInfo)\r\n\t  };\r\n\t}\r\n\r\n/***/ },\r\n/* 27 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* eslint-disable new-cap */\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\texports.Compiler = Compiler;\r\n\texports.precompile = precompile;\r\n\texports.compile = compile;\r\n\r\n\tvar _exception = __webpack_require__(6);\r\n\r\n\tvar _exception2 = _interopRequireDefault(_exception);\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\tvar _ast = __webpack_require__(21);\r\n\r\n\tvar _ast2 = _interopRequireDefault(_ast);\r\n\r\n\tvar slice = [].slice;\r\n\r\n\tfunction Compiler() {}\r\n\r\n\t// the foundHelper register will disambiguate helper lookup from finding a\r\n\t// function in a context. This is necessary for mustache compatibility, which\r\n\t// requires that context functions in blocks are evaluated by blockHelperMissing,\r\n\t// and then proceed as if the resulting value was provided to blockHelperMissing.\r\n\r\n\tCompiler.prototype = {\r\n\t  compiler: Compiler,\r\n\r\n\t  equals: function equals(other) {\r\n\t    var len = this.opcodes.length;\r\n\t    if (other.opcodes.length !== len) {\r\n\t      return false;\r\n\t    }\r\n\r\n\t    for (var i = 0; i < len; i++) {\r\n\t      var opcode = this.opcodes[i],\r\n\t          otherOpcode = other.opcodes[i];\r\n\t      if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {\r\n\t        return false;\r\n\t      }\r\n\t    }\r\n\r\n\t    // We know that length is the same between the two arrays because they are directly tied\r\n\t    // to the opcode behavior above.\r\n\t    len = this.children.length;\r\n\t    for (var i = 0; i < len; i++) {\r\n\t      if (!this.children[i].equals(other.children[i])) {\r\n\t        return false;\r\n\t      }\r\n\t    }\r\n\r\n\t    return true;\r\n\t  },\r\n\r\n\t  guid: 0,\r\n\r\n\t  compile: function compile(program, options) {\r\n\t    this.sourceNode = [];\r\n\t    this.opcodes = [];\r\n\t    this.children = [];\r\n\t    this.options = options;\r\n\t    this.stringParams = options.stringParams;\r\n\t    this.trackIds = options.trackIds;\r\n\r\n\t    options.blockParams = options.blockParams || [];\r\n\r\n\t    // These changes will propagate to the other compiler components\r\n\t    var knownHelpers = options.knownHelpers;\r\n\t    options.knownHelpers = {\r\n\t      'helperMissing': true,\r\n\t      'blockHelperMissing': true,\r\n\t      'each': true,\r\n\t      'if': true,\r\n\t      'unless': true,\r\n\t      'with': true,\r\n\t      'log': true,\r\n\t      'lookup': true\r\n\t    };\r\n\t    if (knownHelpers) {\r\n\t      for (var _name in knownHelpers) {\r\n\t        /* istanbul ignore else */\r\n\t        if (_name in knownHelpers) {\r\n\t          options.knownHelpers[_name] = knownHelpers[_name];\r\n\t        }\r\n\t      }\r\n\t    }\r\n\r\n\t    return this.accept(program);\r\n\t  },\r\n\r\n\t  compileProgram: function compileProgram(program) {\r\n\t    var childCompiler = new this.compiler(),\r\n\t        // eslint-disable-line new-cap\r\n\t    result = childCompiler.compile(program, this.options),\r\n\t        guid = this.guid++;\r\n\r\n\t    this.usePartial = this.usePartial || result.usePartial;\r\n\r\n\t    this.children[guid] = result;\r\n\t    this.useDepths = this.useDepths || result.useDepths;\r\n\r\n\t    return guid;\r\n\t  },\r\n\r\n\t  accept: function accept(node) {\r\n\t    /* istanbul ignore next: Sanity code */\r\n\t    if (!this[node.type]) {\r\n\t      throw new _exception2['default']('Unknown type: ' + node.type, node);\r\n\t    }\r\n\r\n\t    this.sourceNode.unshift(node);\r\n\t    var ret = this[node.type](node);\r\n\t    this.sourceNode.shift();\r\n\t    return ret;\r\n\t  },\r\n\r\n\t  Program: function Program(program) {\r\n\t    this.options.blockParams.unshift(program.blockParams);\r\n\r\n\t    var body = program.body,\r\n\t        bodyLength = body.length;\r\n\t    for (var i = 0; i < bodyLength; i++) {\r\n\t      this.accept(body[i]);\r\n\t    }\r\n\r\n\t    this.options.blockParams.shift();\r\n\r\n\t    this.isSimple = bodyLength === 1;\r\n\t    this.blockParams = program.blockParams ? program.blockParams.length : 0;\r\n\r\n\t    return this;\r\n\t  },\r\n\r\n\t  BlockStatement: function BlockStatement(block) {\r\n\t    transformLiteralToPath(block);\r\n\r\n\t    var program = block.program,\r\n\t        inverse = block.inverse;\r\n\r\n\t    program = program && this.compileProgram(program);\r\n\t    inverse = inverse && this.compileProgram(inverse);\r\n\r\n\t    var type = this.classifySexpr(block);\r\n\r\n\t    if (type === 'helper') {\r\n\t      this.helperSexpr(block, program, inverse);\r\n\t    } else if (type === 'simple') {\r\n\t      this.simpleSexpr(block);\r\n\r\n\t      // now that the simple mustache is resolved, we need to\r\n\t      // evaluate it by executing `blockHelperMissing`\r\n\t      this.opcode('pushProgram', program);\r\n\t      this.opcode('pushProgram', inverse);\r\n\t      this.opcode('emptyHash');\r\n\t      this.opcode('blockValue', block.path.original);\r\n\t    } else {\r\n\t      this.ambiguousSexpr(block, program, inverse);\r\n\r\n\t      // now that the simple mustache is resolved, we need to\r\n\t      // evaluate it by executing `blockHelperMissing`\r\n\t      this.opcode('pushProgram', program);\r\n\t      this.opcode('pushProgram', inverse);\r\n\t      this.opcode('emptyHash');\r\n\t      this.opcode('ambiguousBlockValue');\r\n\t    }\r\n\r\n\t    this.opcode('append');\r\n\t  },\r\n\r\n\t  DecoratorBlock: function DecoratorBlock(decorator) {\r\n\t    var program = decorator.program && this.compileProgram(decorator.program);\r\n\t    var params = this.setupFullMustacheParams(decorator, program, undefined),\r\n\t        path = decorator.path;\r\n\r\n\t    this.useDecorators = true;\r\n\t    this.opcode('registerDecorator', params.length, path.original);\r\n\t  },\r\n\r\n\t  PartialStatement: function PartialStatement(partial) {\r\n\t    this.usePartial = true;\r\n\r\n\t    var program = partial.program;\r\n\t    if (program) {\r\n\t      program = this.compileProgram(partial.program);\r\n\t    }\r\n\r\n\t    var params = partial.params;\r\n\t    if (params.length > 1) {\r\n\t      throw new _exception2['default']('Unsupported number of partial arguments: ' + params.length, partial);\r\n\t    } else if (!params.length) {\r\n\t      if (this.options.explicitPartialContext) {\r\n\t        this.opcode('pushLiteral', 'undefined');\r\n\t      } else {\r\n\t        params.push({ type: 'PathExpression', parts: [], depth: 0 });\r\n\t      }\r\n\t    }\r\n\r\n\t    var partialName = partial.name.original,\r\n\t        isDynamic = partial.name.type === 'SubExpression';\r\n\t    if (isDynamic) {\r\n\t      this.accept(partial.name);\r\n\t    }\r\n\r\n\t    this.setupFullMustacheParams(partial, program, undefined, true);\r\n\r\n\t    var indent = partial.indent || '';\r\n\t    if (this.options.preventIndent && indent) {\r\n\t      this.opcode('appendContent', indent);\r\n\t      indent = '';\r\n\t    }\r\n\r\n\t    this.opcode('invokePartial', isDynamic, partialName, indent);\r\n\t    this.opcode('append');\r\n\t  },\r\n\t  PartialBlockStatement: function PartialBlockStatement(partialBlock) {\r\n\t    this.PartialStatement(partialBlock);\r\n\t  },\r\n\r\n\t  MustacheStatement: function MustacheStatement(mustache) {\r\n\t    this.SubExpression(mustache);\r\n\r\n\t    if (mustache.escaped && !this.options.noEscape) {\r\n\t      this.opcode('appendEscaped');\r\n\t    } else {\r\n\t      this.opcode('append');\r\n\t    }\r\n\t  },\r\n\t  Decorator: function Decorator(decorator) {\r\n\t    this.DecoratorBlock(decorator);\r\n\t  },\r\n\r\n\t  ContentStatement: function ContentStatement(content) {\r\n\t    if (content.value) {\r\n\t      this.opcode('appendContent', content.value);\r\n\t    }\r\n\t  },\r\n\r\n\t  CommentStatement: function CommentStatement() {},\r\n\r\n\t  SubExpression: function SubExpression(sexpr) {\r\n\t    transformLiteralToPath(sexpr);\r\n\t    var type = this.classifySexpr(sexpr);\r\n\r\n\t    if (type === 'simple') {\r\n\t      this.simpleSexpr(sexpr);\r\n\t    } else if (type === 'helper') {\r\n\t      this.helperSexpr(sexpr);\r\n\t    } else {\r\n\t      this.ambiguousSexpr(sexpr);\r\n\t    }\r\n\t  },\r\n\t  ambiguousSexpr: function ambiguousSexpr(sexpr, program, inverse) {\r\n\t    var path = sexpr.path,\r\n\t        name = path.parts[0],\r\n\t        isBlock = program != null || inverse != null;\r\n\r\n\t    this.opcode('getContext', path.depth);\r\n\r\n\t    this.opcode('pushProgram', program);\r\n\t    this.opcode('pushProgram', inverse);\r\n\r\n\t    path.strict = true;\r\n\t    this.accept(path);\r\n\r\n\t    this.opcode('invokeAmbiguous', name, isBlock);\r\n\t  },\r\n\r\n\t  simpleSexpr: function simpleSexpr(sexpr) {\r\n\t    var path = sexpr.path;\r\n\t    path.strict = true;\r\n\t    this.accept(path);\r\n\t    this.opcode('resolvePossibleLambda');\r\n\t  },\r\n\r\n\t  helperSexpr: function helperSexpr(sexpr, program, inverse) {\r\n\t    var params = this.setupFullMustacheParams(sexpr, program, inverse),\r\n\t        path = sexpr.path,\r\n\t        name = path.parts[0];\r\n\r\n\t    if (this.options.knownHelpers[name]) {\r\n\t      this.opcode('invokeKnownHelper', params.length, name);\r\n\t    } else if (this.options.knownHelpersOnly) {\r\n\t      throw new _exception2['default']('You specified knownHelpersOnly, but used the unknown helper ' + name, sexpr);\r\n\t    } else {\r\n\t      path.strict = true;\r\n\t      path.falsy = true;\r\n\r\n\t      this.accept(path);\r\n\t      this.opcode('invokeHelper', params.length, path.original, _ast2['default'].helpers.simpleId(path));\r\n\t    }\r\n\t  },\r\n\r\n\t  PathExpression: function PathExpression(path) {\r\n\t    this.addDepth(path.depth);\r\n\t    this.opcode('getContext', path.depth);\r\n\r\n\t    var name = path.parts[0],\r\n\t        scoped = _ast2['default'].helpers.scopedId(path),\r\n\t        blockParamId = !path.depth && !scoped && this.blockParamIndex(name);\r\n\r\n\t    if (blockParamId) {\r\n\t      this.opcode('lookupBlockParam', blockParamId, path.parts);\r\n\t    } else if (!name) {\r\n\t      // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`\r\n\t      this.opcode('pushContext');\r\n\t    } else if (path.data) {\r\n\t      this.options.data = true;\r\n\t      this.opcode('lookupData', path.depth, path.parts, path.strict);\r\n\t    } else {\r\n\t      this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped);\r\n\t    }\r\n\t  },\r\n\r\n\t  StringLiteral: function StringLiteral(string) {\r\n\t    this.opcode('pushString', string.value);\r\n\t  },\r\n\r\n\t  NumberLiteral: function NumberLiteral(number) {\r\n\t    this.opcode('pushLiteral', number.value);\r\n\t  },\r\n\r\n\t  BooleanLiteral: function BooleanLiteral(bool) {\r\n\t    this.opcode('pushLiteral', bool.value);\r\n\t  },\r\n\r\n\t  UndefinedLiteral: function UndefinedLiteral() {\r\n\t    this.opcode('pushLiteral', 'undefined');\r\n\t  },\r\n\r\n\t  NullLiteral: function NullLiteral() {\r\n\t    this.opcode('pushLiteral', 'null');\r\n\t  },\r\n\r\n\t  Hash: function Hash(hash) {\r\n\t    var pairs = hash.pairs,\r\n\t        i = 0,\r\n\t        l = pairs.length;\r\n\r\n\t    this.opcode('pushHash');\r\n\r\n\t    for (; i < l; i++) {\r\n\t      this.pushParam(pairs[i].value);\r\n\t    }\r\n\t    while (i--) {\r\n\t      this.opcode('assignToHash', pairs[i].key);\r\n\t    }\r\n\t    this.opcode('popHash');\r\n\t  },\r\n\r\n\t  // HELPERS\r\n\t  opcode: function opcode(name) {\r\n\t    this.opcodes.push({ opcode: name, args: slice.call(arguments, 1), loc: this.sourceNode[0].loc });\r\n\t  },\r\n\r\n\t  addDepth: function addDepth(depth) {\r\n\t    if (!depth) {\r\n\t      return;\r\n\t    }\r\n\r\n\t    this.useDepths = true;\r\n\t  },\r\n\r\n\t  classifySexpr: function classifySexpr(sexpr) {\r\n\t    var isSimple = _ast2['default'].helpers.simpleId(sexpr.path);\r\n\r\n\t    var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);\r\n\r\n\t    // a mustache is an eligible helper if:\r\n\t    // * its id is simple (a single part, not `this` or `..`)\r\n\t    var isHelper = !isBlockParam && _ast2['default'].helpers.helperExpression(sexpr);\r\n\r\n\t    // if a mustache is an eligible helper but not a definite\r\n\t    // helper, it is ambiguous, and will be resolved in a later\r\n\t    // pass or at runtime.\r\n\t    var isEligible = !isBlockParam && (isHelper || isSimple);\r\n\r\n\t    // if ambiguous, we can possibly resolve the ambiguity now\r\n\t    // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.\r\n\t    if (isEligible && !isHelper) {\r\n\t      var _name2 = sexpr.path.parts[0],\r\n\t          options = this.options;\r\n\r\n\t      if (options.knownHelpers[_name2]) {\r\n\t        isHelper = true;\r\n\t      } else if (options.knownHelpersOnly) {\r\n\t        isEligible = false;\r\n\t      }\r\n\t    }\r\n\r\n\t    if (isHelper) {\r\n\t      return 'helper';\r\n\t    } else if (isEligible) {\r\n\t      return 'ambiguous';\r\n\t    } else {\r\n\t      return 'simple';\r\n\t    }\r\n\t  },\r\n\r\n\t  pushParams: function pushParams(params) {\r\n\t    for (var i = 0, l = params.length; i < l; i++) {\r\n\t      this.pushParam(params[i]);\r\n\t    }\r\n\t  },\r\n\r\n\t  pushParam: function pushParam(val) {\r\n\t    var value = val.value != null ? val.value : val.original || '';\r\n\r\n\t    if (this.stringParams) {\r\n\t      if (value.replace) {\r\n\t        value = value.replace(/^(\\.?\\.\\/)*/g, '').replace(/\\//g, '.');\r\n\t      }\r\n\r\n\t      if (val.depth) {\r\n\t        this.addDepth(val.depth);\r\n\t      }\r\n\t      this.opcode('getContext', val.depth || 0);\r\n\t      this.opcode('pushStringParam', value, val.type);\r\n\r\n\t      if (val.type === 'SubExpression') {\r\n\t        // SubExpressions get evaluated and passed in\r\n\t        // in string params mode.\r\n\t        this.accept(val);\r\n\t      }\r\n\t    } else {\r\n\t      if (this.trackIds) {\r\n\t        var blockParamIndex = undefined;\r\n\t        if (val.parts && !_ast2['default'].helpers.scopedId(val) && !val.depth) {\r\n\t          blockParamIndex = this.blockParamIndex(val.parts[0]);\r\n\t        }\r\n\t        if (blockParamIndex) {\r\n\t          var blockParamChild = val.parts.slice(1).join('.');\r\n\t          this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);\r\n\t        } else {\r\n\t          value = val.original || value;\r\n\t          if (value.replace) {\r\n\t            value = value.replace(/^this(?:\\.|$)/, '').replace(/^\\.\\//, '').replace(/^\\.$/, '');\r\n\t          }\r\n\r\n\t          this.opcode('pushId', val.type, value);\r\n\t        }\r\n\t      }\r\n\t      this.accept(val);\r\n\t    }\r\n\t  },\r\n\r\n\t  setupFullMustacheParams: function setupFullMustacheParams(sexpr, program, inverse, omitEmpty) {\r\n\t    var params = sexpr.params;\r\n\t    this.pushParams(params);\r\n\r\n\t    this.opcode('pushProgram', program);\r\n\t    this.opcode('pushProgram', inverse);\r\n\r\n\t    if (sexpr.hash) {\r\n\t      this.accept(sexpr.hash);\r\n\t    } else {\r\n\t      this.opcode('emptyHash', omitEmpty);\r\n\t    }\r\n\r\n\t    return params;\r\n\t  },\r\n\r\n\t  blockParamIndex: function blockParamIndex(name) {\r\n\t    for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {\r\n\t      var blockParams = this.options.blockParams[depth],\r\n\t          param = blockParams && _utils.indexOf(blockParams, name);\r\n\t      if (blockParams && param >= 0) {\r\n\t        return [depth, param];\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\tfunction precompile(input, options, env) {\r\n\t  if (input == null || typeof input !== 'string' && input.type !== 'Program') {\r\n\t    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input);\r\n\t  }\r\n\r\n\t  options = options || {};\r\n\t  if (!('data' in options)) {\r\n\t    options.data = true;\r\n\t  }\r\n\t  if (options.compat) {\r\n\t    options.useDepths = true;\r\n\t  }\r\n\r\n\t  var ast = env.parse(input, options),\r\n\t      environment = new env.Compiler().compile(ast, options);\r\n\t  return new env.JavaScriptCompiler().compile(environment, options);\r\n\t}\r\n\r\n\tfunction compile(input, options, env) {\r\n\t  if (options === undefined) options = {};\r\n\r\n\t  if (input == null || typeof input !== 'string' && input.type !== 'Program') {\r\n\t    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input);\r\n\t  }\r\n\r\n\t  if (!('data' in options)) {\r\n\t    options.data = true;\r\n\t  }\r\n\t  if (options.compat) {\r\n\t    options.useDepths = true;\r\n\t  }\r\n\r\n\t  var compiled = undefined;\r\n\r\n\t  function compileInput() {\r\n\t    var ast = env.parse(input, options),\r\n\t        environment = new env.Compiler().compile(ast, options),\r\n\t        templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);\r\n\t    return env.template(templateSpec);\r\n\t  }\r\n\r\n\t  // Template is only compiled on first use and cached after that point.\r\n\t  function ret(context, execOptions) {\r\n\t    if (!compiled) {\r\n\t      compiled = compileInput();\r\n\t    }\r\n\t    return compiled.call(this, context, execOptions);\r\n\t  }\r\n\t  ret._setup = function (setupOptions) {\r\n\t    if (!compiled) {\r\n\t      compiled = compileInput();\r\n\t    }\r\n\t    return compiled._setup(setupOptions);\r\n\t  };\r\n\t  ret._child = function (i, data, blockParams, depths) {\r\n\t    if (!compiled) {\r\n\t      compiled = compileInput();\r\n\t    }\r\n\t    return compiled._child(i, data, blockParams, depths);\r\n\t  };\r\n\t  return ret;\r\n\t}\r\n\r\n\tfunction argEquals(a, b) {\r\n\t  if (a === b) {\r\n\t    return true;\r\n\t  }\r\n\r\n\t  if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {\r\n\t    for (var i = 0; i < a.length; i++) {\r\n\t      if (!argEquals(a[i], b[i])) {\r\n\t        return false;\r\n\t      }\r\n\t    }\r\n\t    return true;\r\n\t  }\r\n\t}\r\n\r\n\tfunction transformLiteralToPath(sexpr) {\r\n\t  if (!sexpr.path.parts) {\r\n\t    var literal = sexpr.path;\r\n\t    // Casting to string here to make false and 0 literal values play nicely with the rest\r\n\t    // of the system.\r\n\t    sexpr.path = {\r\n\t      type: 'PathExpression',\r\n\t      data: false,\r\n\t      depth: 0,\r\n\t      parts: [literal.original + ''],\r\n\t      original: literal.original + '',\r\n\t      loc: literal.loc\r\n\t    };\r\n\t  }\r\n\t}\r\n\r\n/***/ },\r\n/* 28 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _base = __webpack_require__(4);\r\n\r\n\tvar _exception = __webpack_require__(6);\r\n\r\n\tvar _exception2 = _interopRequireDefault(_exception);\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\tvar _codeGen = __webpack_require__(29);\r\n\r\n\tvar _codeGen2 = _interopRequireDefault(_codeGen);\r\n\r\n\tfunction Literal(value) {\r\n\t  this.value = value;\r\n\t}\r\n\r\n\tfunction JavaScriptCompiler() {}\r\n\r\n\tJavaScriptCompiler.prototype = {\r\n\t  // PUBLIC API: You can override these methods in a subclass to provide\r\n\t  // alternative compiled forms for name lookup and buffering semantics\r\n\t  nameLookup: function nameLookup(parent, name /* , type*/) {\r\n\t    if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {\r\n\t      return [parent, '.', name];\r\n\t    } else {\r\n\t      return [parent, '[', JSON.stringify(name), ']'];\r\n\t    }\r\n\t  },\r\n\t  depthedLookup: function depthedLookup(name) {\r\n\t    return [this.aliasable('container.lookup'), '(depths, \"', name, '\")'];\r\n\t  },\r\n\r\n\t  compilerInfo: function compilerInfo() {\r\n\t    var revision = _base.COMPILER_REVISION,\r\n\t        versions = _base.REVISION_CHANGES[revision];\r\n\t    return [revision, versions];\r\n\t  },\r\n\r\n\t  appendToBuffer: function appendToBuffer(source, location, explicit) {\r\n\t    // Force a source as this simplifies the merge logic.\r\n\t    if (!_utils.isArray(source)) {\r\n\t      source = [source];\r\n\t    }\r\n\t    source = this.source.wrap(source, location);\r\n\r\n\t    if (this.environment.isSimple) {\r\n\t      return ['return ', source, ';'];\r\n\t    } else if (explicit) {\r\n\t      // This is a case where the buffer operation occurs as a child of another\r\n\t      // construct, generally braces. We have to explicitly output these buffer\r\n\t      // operations to ensure that the emitted code goes in the correct location.\r\n\t      return ['buffer += ', source, ';'];\r\n\t    } else {\r\n\t      source.appendToBuffer = true;\r\n\t      return source;\r\n\t    }\r\n\t  },\r\n\r\n\t  initializeBuffer: function initializeBuffer() {\r\n\t    return this.quotedString('');\r\n\t  },\r\n\t  // END PUBLIC API\r\n\r\n\t  compile: function compile(environment, options, context, asObject) {\r\n\t    this.environment = environment;\r\n\t    this.options = options;\r\n\t    this.stringParams = this.options.stringParams;\r\n\t    this.trackIds = this.options.trackIds;\r\n\t    this.precompile = !asObject;\r\n\r\n\t    this.name = this.environment.name;\r\n\t    this.isChild = !!context;\r\n\t    this.context = context || {\r\n\t      decorators: [],\r\n\t      programs: [],\r\n\t      environments: []\r\n\t    };\r\n\r\n\t    this.preamble();\r\n\r\n\t    this.stackSlot = 0;\r\n\t    this.stackVars = [];\r\n\t    this.aliases = {};\r\n\t    this.registers = { list: [] };\r\n\t    this.hashes = [];\r\n\t    this.compileStack = [];\r\n\t    this.inlineStack = [];\r\n\t    this.blockParams = [];\r\n\r\n\t    this.compileChildren(environment, options);\r\n\r\n\t    this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;\r\n\t    this.useBlockParams = this.useBlockParams || environment.useBlockParams;\r\n\r\n\t    var opcodes = environment.opcodes,\r\n\t        opcode = undefined,\r\n\t        firstLoc = undefined,\r\n\t        i = undefined,\r\n\t        l = undefined;\r\n\r\n\t    for (i = 0, l = opcodes.length; i < l; i++) {\r\n\t      opcode = opcodes[i];\r\n\r\n\t      this.source.currentLocation = opcode.loc;\r\n\t      firstLoc = firstLoc || opcode.loc;\r\n\t      this[opcode.opcode].apply(this, opcode.args);\r\n\t    }\r\n\r\n\t    // Flush any trailing content that might be pending.\r\n\t    this.source.currentLocation = firstLoc;\r\n\t    this.pushSource('');\r\n\r\n\t    /* istanbul ignore next */\r\n\t    if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {\r\n\t      throw new _exception2['default']('Compile completed with content left on stack');\r\n\t    }\r\n\r\n\t    if (!this.decorators.isEmpty()) {\r\n\t      this.useDecorators = true;\r\n\r\n\t      this.decorators.prepend('var decorators = container.decorators;\\n');\r\n\t      this.decorators.push('return fn;');\r\n\r\n\t      if (asObject) {\r\n\t        this.decorators = Function.apply(this, ['fn', 'props', 'container', 'depth0', 'data', 'blockParams', 'depths', this.decorators.merge()]);\r\n\t      } else {\r\n\t        this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\\n');\r\n\t        this.decorators.push('}\\n');\r\n\t        this.decorators = this.decorators.merge();\r\n\t      }\r\n\t    } else {\r\n\t      this.decorators = undefined;\r\n\t    }\r\n\r\n\t    var fn = this.createFunctionContext(asObject);\r\n\t    if (!this.isChild) {\r\n\t      var ret = {\r\n\t        compiler: this.compilerInfo(),\r\n\t        main: fn\r\n\t      };\r\n\r\n\t      if (this.decorators) {\r\n\t        ret.main_d = this.decorators; // eslint-disable-line camelcase\r\n\t        ret.useDecorators = true;\r\n\t      }\r\n\r\n\t      var _context = this.context;\r\n\t      var programs = _context.programs;\r\n\t      var decorators = _context.decorators;\r\n\r\n\t      for (i = 0, l = programs.length; i < l; i++) {\r\n\t        if (programs[i]) {\r\n\t          ret[i] = programs[i];\r\n\t          if (decorators[i]) {\r\n\t            ret[i + '_d'] = decorators[i];\r\n\t            ret.useDecorators = true;\r\n\t          }\r\n\t        }\r\n\t      }\r\n\r\n\t      if (this.environment.usePartial) {\r\n\t        ret.usePartial = true;\r\n\t      }\r\n\t      if (this.options.data) {\r\n\t        ret.useData = true;\r\n\t      }\r\n\t      if (this.useDepths) {\r\n\t        ret.useDepths = true;\r\n\t      }\r\n\t      if (this.useBlockParams) {\r\n\t        ret.useBlockParams = true;\r\n\t      }\r\n\t      if (this.options.compat) {\r\n\t        ret.compat = true;\r\n\t      }\r\n\r\n\t      if (!asObject) {\r\n\t        ret.compiler = JSON.stringify(ret.compiler);\r\n\r\n\t        this.source.currentLocation = { start: { line: 1, column: 0 } };\r\n\t        ret = this.objectLiteral(ret);\r\n\r\n\t        if (options.srcName) {\r\n\t          ret = ret.toStringWithSourceMap({ file: options.destName });\r\n\t          ret.map = ret.map && ret.map.toString();\r\n\t        } else {\r\n\t          ret = ret.toString();\r\n\t        }\r\n\t      } else {\r\n\t        ret.compilerOptions = this.options;\r\n\t      }\r\n\r\n\t      return ret;\r\n\t    } else {\r\n\t      return fn;\r\n\t    }\r\n\t  },\r\n\r\n\t  preamble: function preamble() {\r\n\t    // track the last context pushed into place to allow skipping the\r\n\t    // getContext opcode when it would be a noop\r\n\t    this.lastContext = 0;\r\n\t    this.source = new _codeGen2['default'](this.options.srcName);\r\n\t    this.decorators = new _codeGen2['default'](this.options.srcName);\r\n\t  },\r\n\r\n\t  createFunctionContext: function createFunctionContext(asObject) {\r\n\t    var varDeclarations = '';\r\n\r\n\t    var locals = this.stackVars.concat(this.registers.list);\r\n\t    if (locals.length > 0) {\r\n\t      varDeclarations += ', ' + locals.join(', ');\r\n\t    }\r\n\r\n\t    // Generate minimizer alias mappings\r\n\t    //\r\n\t    // When using true SourceNodes, this will update all references to the given alias\r\n\t    // as the source nodes are reused in situ. For the non-source node compilation mode,\r\n\t    // aliases will not be used, but this case is already being run on the client and\r\n\t    // we aren't concern about minimizing the template size.\r\n\t    var aliasCount = 0;\r\n\t    for (var alias in this.aliases) {\r\n\t      // eslint-disable-line guard-for-in\r\n\t      var node = this.aliases[alias];\r\n\r\n\t      if (this.aliases.hasOwnProperty(alias) && node.children && node.referenceCount > 1) {\r\n\t        varDeclarations += ', alias' + ++aliasCount + '=' + alias;\r\n\t        node.children[0] = 'alias' + aliasCount;\r\n\t      }\r\n\t    }\r\n\r\n\t    var params = ['container', 'depth0', 'helpers', 'partials', 'data'];\r\n\r\n\t    if (this.useBlockParams || this.useDepths) {\r\n\t      params.push('blockParams');\r\n\t    }\r\n\t    if (this.useDepths) {\r\n\t      params.push('depths');\r\n\t    }\r\n\r\n\t    // Perform a second pass over the output to merge content when possible\r\n\t    var source = this.mergeSource(varDeclarations);\r\n\r\n\t    if (asObject) {\r\n\t      params.push(source);\r\n\r\n\t      return Function.apply(this, params);\r\n\t    } else {\r\n\t      return this.source.wrap(['function(', params.join(','), ') {\\n  ', source, '}']);\r\n\t    }\r\n\t  },\r\n\t  mergeSource: function mergeSource(varDeclarations) {\r\n\t    var isSimple = this.environment.isSimple,\r\n\t        appendOnly = !this.forceBuffer,\r\n\t        appendFirst = undefined,\r\n\t        sourceSeen = undefined,\r\n\t        bufferStart = undefined,\r\n\t        bufferEnd = undefined;\r\n\t    this.source.each(function (line) {\r\n\t      if (line.appendToBuffer) {\r\n\t        if (bufferStart) {\r\n\t          line.prepend('  + ');\r\n\t        } else {\r\n\t          bufferStart = line;\r\n\t        }\r\n\t        bufferEnd = line;\r\n\t      } else {\r\n\t        if (bufferStart) {\r\n\t          if (!sourceSeen) {\r\n\t            appendFirst = true;\r\n\t          } else {\r\n\t            bufferStart.prepend('buffer += ');\r\n\t          }\r\n\t          bufferEnd.add(';');\r\n\t          bufferStart = bufferEnd = undefined;\r\n\t        }\r\n\r\n\t        sourceSeen = true;\r\n\t        if (!isSimple) {\r\n\t          appendOnly = false;\r\n\t        }\r\n\t      }\r\n\t    });\r\n\r\n\t    if (appendOnly) {\r\n\t      if (bufferStart) {\r\n\t        bufferStart.prepend('return ');\r\n\t        bufferEnd.add(';');\r\n\t      } else if (!sourceSeen) {\r\n\t        this.source.push('return \"\";');\r\n\t      }\r\n\t    } else {\r\n\t      varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());\r\n\r\n\t      if (bufferStart) {\r\n\t        bufferStart.prepend('return buffer + ');\r\n\t        bufferEnd.add(';');\r\n\t      } else {\r\n\t        this.source.push('return buffer;');\r\n\t      }\r\n\t    }\r\n\r\n\t    if (varDeclarations) {\r\n\t      this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\\n'));\r\n\t    }\r\n\r\n\t    return this.source.merge();\r\n\t  },\r\n\r\n\t  // [blockValue]\r\n\t  //\r\n\t  // On stack, before: hash, inverse, program, value\r\n\t  // On stack, after: return value of blockHelperMissing\r\n\t  //\r\n\t  // The purpose of this opcode is to take a block of the form\r\n\t  // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and\r\n\t  // replace it on the stack with the result of properly\r\n\t  // invoking blockHelperMissing.\r\n\t  blockValue: function blockValue(name) {\r\n\t    var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),\r\n\t        params = [this.contextName(0)];\r\n\t    this.setupHelperArgs(name, 0, params);\r\n\r\n\t    var blockName = this.popStack();\r\n\t    params.splice(1, 0, blockName);\r\n\r\n\t    this.push(this.source.functionCall(blockHelperMissing, 'call', params));\r\n\t  },\r\n\r\n\t  // [ambiguousBlockValue]\r\n\t  //\r\n\t  // On stack, before: hash, inverse, program, value\r\n\t  // Compiler value, before: lastHelper=value of last found helper, if any\r\n\t  // On stack, after, if no lastHelper: same as [blockValue]\r\n\t  // On stack, after, if lastHelper: value\r\n\t  ambiguousBlockValue: function ambiguousBlockValue() {\r\n\t    // We're being a bit cheeky and reusing the options value from the prior exec\r\n\t    var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),\r\n\t        params = [this.contextName(0)];\r\n\t    this.setupHelperArgs('', 0, params, true);\r\n\r\n\t    this.flushInline();\r\n\r\n\t    var current = this.topStack();\r\n\t    params.splice(1, 0, current);\r\n\r\n\t    this.pushSource(['if (!', this.lastHelper, ') { ', current, ' = ', this.source.functionCall(blockHelperMissing, 'call', params), '}']);\r\n\t  },\r\n\r\n\t  // [appendContent]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: ...\r\n\t  //\r\n\t  // Appends the string value of `content` to the current buffer\r\n\t  appendContent: function appendContent(content) {\r\n\t    if (this.pendingContent) {\r\n\t      content = this.pendingContent + content;\r\n\t    } else {\r\n\t      this.pendingLocation = this.source.currentLocation;\r\n\t    }\r\n\r\n\t    this.pendingContent = content;\r\n\t  },\r\n\r\n\t  // [append]\r\n\t  //\r\n\t  // On stack, before: value, ...\r\n\t  // On stack, after: ...\r\n\t  //\r\n\t  // Coerces `value` to a String and appends it to the current buffer.\r\n\t  //\r\n\t  // If `value` is truthy, or 0, it is coerced into a string and appended\r\n\t  // Otherwise, the empty string is appended\r\n\t  append: function append() {\r\n\t    if (this.isInline()) {\r\n\t      this.replaceStack(function (current) {\r\n\t        return [' != null ? ', current, ' : \"\"'];\r\n\t      });\r\n\r\n\t      this.pushSource(this.appendToBuffer(this.popStack()));\r\n\t    } else {\r\n\t      var local = this.popStack();\r\n\t      this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }']);\r\n\t      if (this.environment.isSimple) {\r\n\t        this.pushSource(['else { ', this.appendToBuffer(\"''\", undefined, true), ' }']);\r\n\t      }\r\n\t    }\r\n\t  },\r\n\r\n\t  // [appendEscaped]\r\n\t  //\r\n\t  // On stack, before: value, ...\r\n\t  // On stack, after: ...\r\n\t  //\r\n\t  // Escape `value` and append it to the buffer\r\n\t  appendEscaped: function appendEscaped() {\r\n\t    this.pushSource(this.appendToBuffer([this.aliasable('container.escapeExpression'), '(', this.popStack(), ')']));\r\n\t  },\r\n\r\n\t  // [getContext]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: ...\r\n\t  // Compiler value, after: lastContext=depth\r\n\t  //\r\n\t  // Set the value of the `lastContext` compiler value to the depth\r\n\t  getContext: function getContext(depth) {\r\n\t    this.lastContext = depth;\r\n\t  },\r\n\r\n\t  // [pushContext]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: currentContext, ...\r\n\t  //\r\n\t  // Pushes the value of the current context onto the stack.\r\n\t  pushContext: function pushContext() {\r\n\t    this.pushStackLiteral(this.contextName(this.lastContext));\r\n\t  },\r\n\r\n\t  // [lookupOnContext]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: currentContext[name], ...\r\n\t  //\r\n\t  // Looks up the value of `name` on the current context and pushes\r\n\t  // it onto the stack.\r\n\t  lookupOnContext: function lookupOnContext(parts, falsy, strict, scoped) {\r\n\t    var i = 0;\r\n\r\n\t    if (!scoped && this.options.compat && !this.lastContext) {\r\n\t      // The depthed query is expected to handle the undefined logic for the root level that\r\n\t      // is implemented below, so we evaluate that directly in compat mode\r\n\t      this.push(this.depthedLookup(parts[i++]));\r\n\t    } else {\r\n\t      this.pushContext();\r\n\t    }\r\n\r\n\t    this.resolvePath('context', parts, i, falsy, strict);\r\n\t  },\r\n\r\n\t  // [lookupBlockParam]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: blockParam[name], ...\r\n\t  //\r\n\t  // Looks up the value of `parts` on the given block param and pushes\r\n\t  // it onto the stack.\r\n\t  lookupBlockParam: function lookupBlockParam(blockParamId, parts) {\r\n\t    this.useBlockParams = true;\r\n\r\n\t    this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);\r\n\t    this.resolvePath('context', parts, 1);\r\n\t  },\r\n\r\n\t  // [lookupData]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: data, ...\r\n\t  //\r\n\t  // Push the data lookup operator\r\n\t  lookupData: function lookupData(depth, parts, strict) {\r\n\t    if (!depth) {\r\n\t      this.pushStackLiteral('data');\r\n\t    } else {\r\n\t      this.pushStackLiteral('container.data(data, ' + depth + ')');\r\n\t    }\r\n\r\n\t    this.resolvePath('data', parts, 0, true, strict);\r\n\t  },\r\n\r\n\t  resolvePath: function resolvePath(type, parts, i, falsy, strict) {\r\n\t    // istanbul ignore next\r\n\r\n\t    var _this = this;\r\n\r\n\t    if (this.options.strict || this.options.assumeObjects) {\r\n\t      this.push(strictLookup(this.options.strict && strict, this, parts, type));\r\n\t      return;\r\n\t    }\r\n\r\n\t    var len = parts.length;\r\n\t    for (; i < len; i++) {\r\n\t      /* eslint-disable no-loop-func */\r\n\t      this.replaceStack(function (current) {\r\n\t        var lookup = _this.nameLookup(current, parts[i], type);\r\n\t        // We want to ensure that zero and false are handled properly if the context (falsy flag)\r\n\t        // needs to have the special handling for these values.\r\n\t        if (!falsy) {\r\n\t          return [' != null ? ', lookup, ' : ', current];\r\n\t        } else {\r\n\t          // Otherwise we can use generic falsy handling\r\n\t          return [' && ', lookup];\r\n\t        }\r\n\t      });\r\n\t      /* eslint-enable no-loop-func */\r\n\t    }\r\n\t  },\r\n\r\n\t  // [resolvePossibleLambda]\r\n\t  //\r\n\t  // On stack, before: value, ...\r\n\t  // On stack, after: resolved value, ...\r\n\t  //\r\n\t  // If the `value` is a lambda, replace it on the stack by\r\n\t  // the return value of the lambda\r\n\t  resolvePossibleLambda: function resolvePossibleLambda() {\r\n\t    this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')']);\r\n\t  },\r\n\r\n\t  // [pushStringParam]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: string, currentContext, ...\r\n\t  //\r\n\t  // This opcode is designed for use in string mode, which\r\n\t  // provides the string value of a parameter along with its\r\n\t  // depth rather than resolving it immediately.\r\n\t  pushStringParam: function pushStringParam(string, type) {\r\n\t    this.pushContext();\r\n\t    this.pushString(type);\r\n\r\n\t    // If it's a subexpression, the string result\r\n\t    // will be pushed after this opcode.\r\n\t    if (type !== 'SubExpression') {\r\n\t      if (typeof string === 'string') {\r\n\t        this.pushString(string);\r\n\t      } else {\r\n\t        this.pushStackLiteral(string);\r\n\t      }\r\n\t    }\r\n\t  },\r\n\r\n\t  emptyHash: function emptyHash(omitEmpty) {\r\n\t    if (this.trackIds) {\r\n\t      this.push('{}'); // hashIds\r\n\t    }\r\n\t    if (this.stringParams) {\r\n\t      this.push('{}'); // hashContexts\r\n\t      this.push('{}'); // hashTypes\r\n\t    }\r\n\t    this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');\r\n\t  },\r\n\t  pushHash: function pushHash() {\r\n\t    if (this.hash) {\r\n\t      this.hashes.push(this.hash);\r\n\t    }\r\n\t    this.hash = { values: [], types: [], contexts: [], ids: [] };\r\n\t  },\r\n\t  popHash: function popHash() {\r\n\t    var hash = this.hash;\r\n\t    this.hash = this.hashes.pop();\r\n\r\n\t    if (this.trackIds) {\r\n\t      this.push(this.objectLiteral(hash.ids));\r\n\t    }\r\n\t    if (this.stringParams) {\r\n\t      this.push(this.objectLiteral(hash.contexts));\r\n\t      this.push(this.objectLiteral(hash.types));\r\n\t    }\r\n\r\n\t    this.push(this.objectLiteral(hash.values));\r\n\t  },\r\n\r\n\t  // [pushString]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: quotedString(string), ...\r\n\t  //\r\n\t  // Push a quoted version of `string` onto the stack\r\n\t  pushString: function pushString(string) {\r\n\t    this.pushStackLiteral(this.quotedString(string));\r\n\t  },\r\n\r\n\t  // [pushLiteral]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: value, ...\r\n\t  //\r\n\t  // Pushes a value onto the stack. This operation prevents\r\n\t  // the compiler from creating a temporary variable to hold\r\n\t  // it.\r\n\t  pushLiteral: function pushLiteral(value) {\r\n\t    this.pushStackLiteral(value);\r\n\t  },\r\n\r\n\t  // [pushProgram]\r\n\t  //\r\n\t  // On stack, before: ...\r\n\t  // On stack, after: program(guid), ...\r\n\t  //\r\n\t  // Push a program expression onto the stack. This takes\r\n\t  // a compile-time guid and converts it into a runtime-accessible\r\n\t  // expression.\r\n\t  pushProgram: function pushProgram(guid) {\r\n\t    if (guid != null) {\r\n\t      this.pushStackLiteral(this.programExpression(guid));\r\n\t    } else {\r\n\t      this.pushStackLiteral(null);\r\n\t    }\r\n\t  },\r\n\r\n\t  // [registerDecorator]\r\n\t  //\r\n\t  // On stack, before: hash, program, params..., ...\r\n\t  // On stack, after: ...\r\n\t  //\r\n\t  // Pops off the decorator's parameters, invokes the decorator,\r\n\t  // and inserts the decorator into the decorators list.\r\n\t  registerDecorator: function registerDecorator(paramSize, name) {\r\n\t    var foundDecorator = this.nameLookup('decorators', name, 'decorator'),\r\n\t        options = this.setupHelperArgs(name, paramSize);\r\n\r\n\t    this.decorators.push(['fn = ', this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]), ' || fn;']);\r\n\t  },\r\n\r\n\t  // [invokeHelper]\r\n\t  //\r\n\t  // On stack, before: hash, inverse, program, params..., ...\r\n\t  // On stack, after: result of helper invocation\r\n\t  //\r\n\t  // Pops off the helper's parameters, invokes the helper,\r\n\t  // and pushes the helper's return value onto the stack.\r\n\t  //\r\n\t  // If the helper is not found, `helperMissing` is called.\r\n\t  invokeHelper: function invokeHelper(paramSize, name, isSimple) {\r\n\t    var nonHelper = this.popStack(),\r\n\t        helper = this.setupHelper(paramSize, name),\r\n\t        simple = isSimple ? [helper.name, ' || '] : '';\r\n\r\n\t    var lookup = ['('].concat(simple, nonHelper);\r\n\t    if (!this.options.strict) {\r\n\t      lookup.push(' || ', this.aliasable('helpers.helperMissing'));\r\n\t    }\r\n\t    lookup.push(')');\r\n\r\n\t    this.push(this.source.functionCall(lookup, 'call', helper.callParams));\r\n\t  },\r\n\r\n\t  // [invokeKnownHelper]\r\n\t  //\r\n\t  // On stack, before: hash, inverse, program, params..., ...\r\n\t  // On stack, after: result of helper invocation\r\n\t  //\r\n\t  // This operation is used when the helper is known to exist,\r\n\t  // so a `helperMissing` fallback is not required.\r\n\t  invokeKnownHelper: function invokeKnownHelper(paramSize, name) {\r\n\t    var helper = this.setupHelper(paramSize, name);\r\n\t    this.push(this.source.functionCall(helper.name, 'call', helper.callParams));\r\n\t  },\r\n\r\n\t  // [invokeAmbiguous]\r\n\t  //\r\n\t  // On stack, before: hash, inverse, program, params..., ...\r\n\t  // On stack, after: result of disambiguation\r\n\t  //\r\n\t  // This operation is used when an expression like `{{foo}}`\r\n\t  // is provided, but we don't know at compile-time whether it\r\n\t  // is a helper or a path.\r\n\t  //\r\n\t  // This operation emits more code than the other options,\r\n\t  // and can be avoided by passing the `knownHelpers` and\r\n\t  // `knownHelpersOnly` flags at compile-time.\r\n\t  invokeAmbiguous: function invokeAmbiguous(name, helperCall) {\r\n\t    this.useRegister('helper');\r\n\r\n\t    var nonHelper = this.popStack();\r\n\r\n\t    this.emptyHash();\r\n\t    var helper = this.setupHelper(0, name, helperCall);\r\n\r\n\t    var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');\r\n\r\n\t    var lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];\r\n\t    if (!this.options.strict) {\r\n\t      lookup[0] = '(helper = ';\r\n\t      lookup.push(' != null ? helper : ', this.aliasable('helpers.helperMissing'));\r\n\t    }\r\n\r\n\t    this.push(['(', lookup, helper.paramsInit ? ['),(', helper.paramsInit] : [], '),', '(typeof helper === ', this.aliasable('\"function\"'), ' ? ', this.source.functionCall('helper', 'call', helper.callParams), ' : helper))']);\r\n\t  },\r\n\r\n\t  // [invokePartial]\r\n\t  //\r\n\t  // On stack, before: context, ...\r\n\t  // On stack after: result of partial invocation\r\n\t  //\r\n\t  // This operation pops off a context, invokes a partial with that context,\r\n\t  // and pushes the result of the invocation back.\r\n\t  invokePartial: function invokePartial(isDynamic, name, indent) {\r\n\t    var params = [],\r\n\t        options = this.setupParams(name, 1, params);\r\n\r\n\t    if (isDynamic) {\r\n\t      name = this.popStack();\r\n\t      delete options.name;\r\n\t    }\r\n\r\n\t    if (indent) {\r\n\t      options.indent = JSON.stringify(indent);\r\n\t    }\r\n\t    options.helpers = 'helpers';\r\n\t    options.partials = 'partials';\r\n\t    options.decorators = 'container.decorators';\r\n\r\n\t    if (!isDynamic) {\r\n\t      params.unshift(this.nameLookup('partials', name, 'partial'));\r\n\t    } else {\r\n\t      params.unshift(name);\r\n\t    }\r\n\r\n\t    if (this.options.compat) {\r\n\t      options.depths = 'depths';\r\n\t    }\r\n\t    options = this.objectLiteral(options);\r\n\t    params.push(options);\r\n\r\n\t    this.push(this.source.functionCall('container.invokePartial', '', params));\r\n\t  },\r\n\r\n\t  // [assignToHash]\r\n\t  //\r\n\t  // On stack, before: value, ..., hash, ...\r\n\t  // On stack, after: ..., hash, ...\r\n\t  //\r\n\t  // Pops a value off the stack and assigns it to the current hash\r\n\t  assignToHash: function assignToHash(key) {\r\n\t    var value = this.popStack(),\r\n\t        context = undefined,\r\n\t        type = undefined,\r\n\t        id = undefined;\r\n\r\n\t    if (this.trackIds) {\r\n\t      id = this.popStack();\r\n\t    }\r\n\t    if (this.stringParams) {\r\n\t      type = this.popStack();\r\n\t      context = this.popStack();\r\n\t    }\r\n\r\n\t    var hash = this.hash;\r\n\t    if (context) {\r\n\t      hash.contexts[key] = context;\r\n\t    }\r\n\t    if (type) {\r\n\t      hash.types[key] = type;\r\n\t    }\r\n\t    if (id) {\r\n\t      hash.ids[key] = id;\r\n\t    }\r\n\t    hash.values[key] = value;\r\n\t  },\r\n\r\n\t  pushId: function pushId(type, name, child) {\r\n\t    if (type === 'BlockParam') {\r\n\t      this.pushStackLiteral('blockParams[' + name[0] + '].path[' + name[1] + ']' + (child ? ' + ' + JSON.stringify('.' + child) : ''));\r\n\t    } else if (type === 'PathExpression') {\r\n\t      this.pushString(name);\r\n\t    } else if (type === 'SubExpression') {\r\n\t      this.pushStackLiteral('true');\r\n\t    } else {\r\n\t      this.pushStackLiteral('null');\r\n\t    }\r\n\t  },\r\n\r\n\t  // HELPERS\r\n\r\n\t  compiler: JavaScriptCompiler,\r\n\r\n\t  compileChildren: function compileChildren(environment, options) {\r\n\t    var children = environment.children,\r\n\t        child = undefined,\r\n\t        compiler = undefined;\r\n\r\n\t    for (var i = 0, l = children.length; i < l; i++) {\r\n\t      child = children[i];\r\n\t      compiler = new this.compiler(); // eslint-disable-line new-cap\r\n\r\n\t      var index = this.matchExistingProgram(child);\r\n\r\n\t      if (index == null) {\r\n\t        this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children\r\n\t        index = this.context.programs.length;\r\n\t        child.index = index;\r\n\t        child.name = 'program' + index;\r\n\t        this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);\r\n\t        this.context.decorators[index] = compiler.decorators;\r\n\t        this.context.environments[index] = child;\r\n\r\n\t        this.useDepths = this.useDepths || compiler.useDepths;\r\n\t        this.useBlockParams = this.useBlockParams || compiler.useBlockParams;\r\n\t      } else {\r\n\t        child.index = index;\r\n\t        child.name = 'program' + index;\r\n\r\n\t        this.useDepths = this.useDepths || child.useDepths;\r\n\t        this.useBlockParams = this.useBlockParams || child.useBlockParams;\r\n\t      }\r\n\t    }\r\n\t  },\r\n\t  matchExistingProgram: function matchExistingProgram(child) {\r\n\t    for (var i = 0, len = this.context.environments.length; i < len; i++) {\r\n\t      var environment = this.context.environments[i];\r\n\t      if (environment && environment.equals(child)) {\r\n\t        return i;\r\n\t      }\r\n\t    }\r\n\t  },\r\n\r\n\t  programExpression: function programExpression(guid) {\r\n\t    var child = this.environment.children[guid],\r\n\t        programParams = [child.index, 'data', child.blockParams];\r\n\r\n\t    if (this.useBlockParams || this.useDepths) {\r\n\t      programParams.push('blockParams');\r\n\t    }\r\n\t    if (this.useDepths) {\r\n\t      programParams.push('depths');\r\n\t    }\r\n\r\n\t    return 'container.program(' + programParams.join(', ') + ')';\r\n\t  },\r\n\r\n\t  useRegister: function useRegister(name) {\r\n\t    if (!this.registers[name]) {\r\n\t      this.registers[name] = true;\r\n\t      this.registers.list.push(name);\r\n\t    }\r\n\t  },\r\n\r\n\t  push: function push(expr) {\r\n\t    if (!(expr instanceof Literal)) {\r\n\t      expr = this.source.wrap(expr);\r\n\t    }\r\n\r\n\t    this.inlineStack.push(expr);\r\n\t    return expr;\r\n\t  },\r\n\r\n\t  pushStackLiteral: function pushStackLiteral(item) {\r\n\t    this.push(new Literal(item));\r\n\t  },\r\n\r\n\t  pushSource: function pushSource(source) {\r\n\t    if (this.pendingContent) {\r\n\t      this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));\r\n\t      this.pendingContent = undefined;\r\n\t    }\r\n\r\n\t    if (source) {\r\n\t      this.source.push(source);\r\n\t    }\r\n\t  },\r\n\r\n\t  replaceStack: function replaceStack(callback) {\r\n\t    var prefix = ['('],\r\n\t        stack = undefined,\r\n\t        createdStack = undefined,\r\n\t        usedLiteral = undefined;\r\n\r\n\t    /* istanbul ignore next */\r\n\t    if (!this.isInline()) {\r\n\t      throw new _exception2['default']('replaceStack on non-inline');\r\n\t    }\r\n\r\n\t    // We want to merge the inline statement into the replacement statement via ','\r\n\t    var top = this.popStack(true);\r\n\r\n\t    if (top instanceof Literal) {\r\n\t      // Literals do not need to be inlined\r\n\t      stack = [top.value];\r\n\t      prefix = ['(', stack];\r\n\t      usedLiteral = true;\r\n\t    } else {\r\n\t      // Get or create the current stack name for use by the inline\r\n\t      createdStack = true;\r\n\t      var _name = this.incrStack();\r\n\r\n\t      prefix = ['((', this.push(_name), ' = ', top, ')'];\r\n\t      stack = this.topStack();\r\n\t    }\r\n\r\n\t    var item = callback.call(this, stack);\r\n\r\n\t    if (!usedLiteral) {\r\n\t      this.popStack();\r\n\t    }\r\n\t    if (createdStack) {\r\n\t      this.stackSlot--;\r\n\t    }\r\n\t    this.push(prefix.concat(item, ')'));\r\n\t  },\r\n\r\n\t  incrStack: function incrStack() {\r\n\t    this.stackSlot++;\r\n\t    if (this.stackSlot > this.stackVars.length) {\r\n\t      this.stackVars.push('stack' + this.stackSlot);\r\n\t    }\r\n\t    return this.topStackName();\r\n\t  },\r\n\t  topStackName: function topStackName() {\r\n\t    return 'stack' + this.stackSlot;\r\n\t  },\r\n\t  flushInline: function flushInline() {\r\n\t    var inlineStack = this.inlineStack;\r\n\t    this.inlineStack = [];\r\n\t    for (var i = 0, len = inlineStack.length; i < len; i++) {\r\n\t      var entry = inlineStack[i];\r\n\t      /* istanbul ignore if */\r\n\t      if (entry instanceof Literal) {\r\n\t        this.compileStack.push(entry);\r\n\t      } else {\r\n\t        var stack = this.incrStack();\r\n\t        this.pushSource([stack, ' = ', entry, ';']);\r\n\t        this.compileStack.push(stack);\r\n\t      }\r\n\t    }\r\n\t  },\r\n\t  isInline: function isInline() {\r\n\t    return this.inlineStack.length;\r\n\t  },\r\n\r\n\t  popStack: function popStack(wrapped) {\r\n\t    var inline = this.isInline(),\r\n\t        item = (inline ? this.inlineStack : this.compileStack).pop();\r\n\r\n\t    if (!wrapped && item instanceof Literal) {\r\n\t      return item.value;\r\n\t    } else {\r\n\t      if (!inline) {\r\n\t        /* istanbul ignore next */\r\n\t        if (!this.stackSlot) {\r\n\t          throw new _exception2['default']('Invalid stack pop');\r\n\t        }\r\n\t        this.stackSlot--;\r\n\t      }\r\n\t      return item;\r\n\t    }\r\n\t  },\r\n\r\n\t  topStack: function topStack() {\r\n\t    var stack = this.isInline() ? this.inlineStack : this.compileStack,\r\n\t        item = stack[stack.length - 1];\r\n\r\n\t    /* istanbul ignore if */\r\n\t    if (item instanceof Literal) {\r\n\t      return item.value;\r\n\t    } else {\r\n\t      return item;\r\n\t    }\r\n\t  },\r\n\r\n\t  contextName: function contextName(context) {\r\n\t    if (this.useDepths && context) {\r\n\t      return 'depths[' + context + ']';\r\n\t    } else {\r\n\t      return 'depth' + context;\r\n\t    }\r\n\t  },\r\n\r\n\t  quotedString: function quotedString(str) {\r\n\t    return this.source.quotedString(str);\r\n\t  },\r\n\r\n\t  objectLiteral: function objectLiteral(obj) {\r\n\t    return this.source.objectLiteral(obj);\r\n\t  },\r\n\r\n\t  aliasable: function aliasable(name) {\r\n\t    var ret = this.aliases[name];\r\n\t    if (ret) {\r\n\t      ret.referenceCount++;\r\n\t      return ret;\r\n\t    }\r\n\r\n\t    ret = this.aliases[name] = this.source.wrap(name);\r\n\t    ret.aliasable = true;\r\n\t    ret.referenceCount = 1;\r\n\r\n\t    return ret;\r\n\t  },\r\n\r\n\t  setupHelper: function setupHelper(paramSize, name, blockHelper) {\r\n\t    var params = [],\r\n\t        paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);\r\n\t    var foundHelper = this.nameLookup('helpers', name, 'helper'),\r\n\t        callContext = this.aliasable(this.contextName(0) + ' != null ? ' + this.contextName(0) + ' : {}');\r\n\r\n\t    return {\r\n\t      params: params,\r\n\t      paramsInit: paramsInit,\r\n\t      name: foundHelper,\r\n\t      callParams: [callContext].concat(params)\r\n\t    };\r\n\t  },\r\n\r\n\t  setupParams: function setupParams(helper, paramSize, params) {\r\n\t    var options = {},\r\n\t        contexts = [],\r\n\t        types = [],\r\n\t        ids = [],\r\n\t        objectArgs = !params,\r\n\t        param = undefined;\r\n\r\n\t    if (objectArgs) {\r\n\t      params = [];\r\n\t    }\r\n\r\n\t    options.name = this.quotedString(helper);\r\n\t    options.hash = this.popStack();\r\n\r\n\t    if (this.trackIds) {\r\n\t      options.hashIds = this.popStack();\r\n\t    }\r\n\t    if (this.stringParams) {\r\n\t      options.hashTypes = this.popStack();\r\n\t      options.hashContexts = this.popStack();\r\n\t    }\r\n\r\n\t    var inverse = this.popStack(),\r\n\t        program = this.popStack();\r\n\r\n\t    // Avoid setting fn and inverse if neither are set. This allows\r\n\t    // helpers to do a check for `if (options.fn)`\r\n\t    if (program || inverse) {\r\n\t      options.fn = program || 'container.noop';\r\n\t      options.inverse = inverse || 'container.noop';\r\n\t    }\r\n\r\n\t    // The parameters go on to the stack in order (making sure that they are evaluated in order)\r\n\t    // so we need to pop them off the stack in reverse order\r\n\t    var i = paramSize;\r\n\t    while (i--) {\r\n\t      param = this.popStack();\r\n\t      params[i] = param;\r\n\r\n\t      if (this.trackIds) {\r\n\t        ids[i] = this.popStack();\r\n\t      }\r\n\t      if (this.stringParams) {\r\n\t        types[i] = this.popStack();\r\n\t        contexts[i] = this.popStack();\r\n\t      }\r\n\t    }\r\n\r\n\t    if (objectArgs) {\r\n\t      options.args = this.source.generateArray(params);\r\n\t    }\r\n\r\n\t    if (this.trackIds) {\r\n\t      options.ids = this.source.generateArray(ids);\r\n\t    }\r\n\t    if (this.stringParams) {\r\n\t      options.types = this.source.generateArray(types);\r\n\t      options.contexts = this.source.generateArray(contexts);\r\n\t    }\r\n\r\n\t    if (this.options.data) {\r\n\t      options.data = 'data';\r\n\t    }\r\n\t    if (this.useBlockParams) {\r\n\t      options.blockParams = 'blockParams';\r\n\t    }\r\n\t    return options;\r\n\t  },\r\n\r\n\t  setupHelperArgs: function setupHelperArgs(helper, paramSize, params, useRegister) {\r\n\t    var options = this.setupParams(helper, paramSize, params);\r\n\t    options = this.objectLiteral(options);\r\n\t    if (useRegister) {\r\n\t      this.useRegister('options');\r\n\t      params.push('options');\r\n\t      return ['options=', options];\r\n\t    } else if (params) {\r\n\t      params.push(options);\r\n\t      return '';\r\n\t    } else {\r\n\t      return options;\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t(function () {\r\n\t  var reservedWords = ('break else new var' + ' case finally return void' + ' catch for switch while' + ' continue function this with' + ' default if throw' + ' delete in try' + ' do instanceof typeof' + ' abstract enum int short' + ' boolean export interface static' + ' byte extends long super' + ' char final native synchronized' + ' class float package throws' + ' const goto private transient' + ' debugger implements protected volatile' + ' double import public let yield await' + ' null true false').split(' ');\r\n\r\n\t  var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};\r\n\r\n\t  for (var i = 0, l = reservedWords.length; i < l; i++) {\r\n\t    compilerWords[reservedWords[i]] = true;\r\n\t  }\r\n\t})();\r\n\r\n\tJavaScriptCompiler.isValidJavaScriptVariableName = function (name) {\r\n\t  return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);\r\n\t};\r\n\r\n\tfunction strictLookup(requireTerminal, compiler, parts, type) {\r\n\t  var stack = compiler.popStack(),\r\n\t      i = 0,\r\n\t      len = parts.length;\r\n\t  if (requireTerminal) {\r\n\t    len--;\r\n\t  }\r\n\r\n\t  for (; i < len; i++) {\r\n\t    stack = compiler.nameLookup(stack, parts[i], type);\r\n\t  }\r\n\r\n\t  if (requireTerminal) {\r\n\t    return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ')'];\r\n\t  } else {\r\n\t    return stack;\r\n\t  }\r\n\t}\r\n\r\n\texports['default'] = JavaScriptCompiler;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ },\r\n/* 29 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* global define */\r\n\t'use strict';\r\n\r\n\texports.__esModule = true;\r\n\r\n\tvar _utils = __webpack_require__(5);\r\n\r\n\tvar SourceNode = undefined;\r\n\r\n\ttry {\r\n\t  /* istanbul ignore next */\r\n\t  if (false) {\r\n\t    // We don't support this in AMD environments. For these environments, we asusme that\r\n\t    // they are running on the browser and thus have no need for the source-map library.\r\n\t    var SourceMap = require('source-map');\r\n\t    SourceNode = SourceMap.SourceNode;\r\n\t  }\r\n\t} catch (err) {}\r\n\t/* NOP */\r\n\r\n\t/* istanbul ignore if: tested but not covered in istanbul due to dist build  */\r\n\tif (!SourceNode) {\r\n\t  SourceNode = function (line, column, srcFile, chunks) {\r\n\t    this.src = '';\r\n\t    if (chunks) {\r\n\t      this.add(chunks);\r\n\t    }\r\n\t  };\r\n\t  /* istanbul ignore next */\r\n\t  SourceNode.prototype = {\r\n\t    add: function add(chunks) {\r\n\t      if (_utils.isArray(chunks)) {\r\n\t        chunks = chunks.join('');\r\n\t      }\r\n\t      this.src += chunks;\r\n\t    },\r\n\t    prepend: function prepend(chunks) {\r\n\t      if (_utils.isArray(chunks)) {\r\n\t        chunks = chunks.join('');\r\n\t      }\r\n\t      this.src = chunks + this.src;\r\n\t    },\r\n\t    toStringWithSourceMap: function toStringWithSourceMap() {\r\n\t      return { code: this.toString() };\r\n\t    },\r\n\t    toString: function toString() {\r\n\t      return this.src;\r\n\t    }\r\n\t  };\r\n\t}\r\n\r\n\tfunction castChunk(chunk, codeGen, loc) {\r\n\t  if (_utils.isArray(chunk)) {\r\n\t    var ret = [];\r\n\r\n\t    for (var i = 0, len = chunk.length; i < len; i++) {\r\n\t      ret.push(codeGen.wrap(chunk[i], loc));\r\n\t    }\r\n\t    return ret;\r\n\t  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {\r\n\t    // Handle primitives that the SourceNode will throw up on\r\n\t    return chunk + '';\r\n\t  }\r\n\t  return chunk;\r\n\t}\r\n\r\n\tfunction CodeGen(srcFile) {\r\n\t  this.srcFile = srcFile;\r\n\t  this.source = [];\r\n\t}\r\n\r\n\tCodeGen.prototype = {\r\n\t  isEmpty: function isEmpty() {\r\n\t    return !this.source.length;\r\n\t  },\r\n\t  prepend: function prepend(source, loc) {\r\n\t    this.source.unshift(this.wrap(source, loc));\r\n\t  },\r\n\t  push: function push(source, loc) {\r\n\t    this.source.push(this.wrap(source, loc));\r\n\t  },\r\n\r\n\t  merge: function merge() {\r\n\t    var source = this.empty();\r\n\t    this.each(function (line) {\r\n\t      source.add(['  ', line, '\\n']);\r\n\t    });\r\n\t    return source;\r\n\t  },\r\n\r\n\t  each: function each(iter) {\r\n\t    for (var i = 0, len = this.source.length; i < len; i++) {\r\n\t      iter(this.source[i]);\r\n\t    }\r\n\t  },\r\n\r\n\t  empty: function empty() {\r\n\t    var loc = this.currentLocation || { start: {} };\r\n\t    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);\r\n\t  },\r\n\t  wrap: function wrap(chunk) {\r\n\t    var loc = arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || { start: {} } : arguments[1];\r\n\r\n\t    if (chunk instanceof SourceNode) {\r\n\t      return chunk;\r\n\t    }\r\n\r\n\t    chunk = castChunk(chunk, this, loc);\r\n\r\n\t    return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);\r\n\t  },\r\n\r\n\t  functionCall: function functionCall(fn, type, params) {\r\n\t    params = this.generateList(params);\r\n\t    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);\r\n\t  },\r\n\r\n\t  quotedString: function quotedString(str) {\r\n\t    return '\"' + (str + '').replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\u2028/g, '\\\\u2028') // Per Ecma-262 7.3 + 7.8.4\r\n\t    .replace(/\\u2029/g, '\\\\u2029') + '\"';\r\n\t  },\r\n\r\n\t  objectLiteral: function objectLiteral(obj) {\r\n\t    var pairs = [];\r\n\r\n\t    for (var key in obj) {\r\n\t      if (obj.hasOwnProperty(key)) {\r\n\t        var value = castChunk(obj[key], this);\r\n\t        if (value !== 'undefined') {\r\n\t          pairs.push([this.quotedString(key), ':', value]);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\r\n\t    var ret = this.generateList(pairs);\r\n\t    ret.prepend('{');\r\n\t    ret.add('}');\r\n\t    return ret;\r\n\t  },\r\n\r\n\t  generateList: function generateList(entries) {\r\n\t    var ret = this.empty();\r\n\r\n\t    for (var i = 0, len = entries.length; i < len; i++) {\r\n\t      if (i) {\r\n\t        ret.add(',');\r\n\t      }\r\n\r\n\t      ret.add(castChunk(entries[i], this));\r\n\t    }\r\n\r\n\t    return ret;\r\n\t  },\r\n\r\n\t  generateArray: function generateArray(entries) {\r\n\t    var ret = this.generateList(entries);\r\n\t    ret.prepend('[');\r\n\t    ret.add(']');\r\n\r\n\t    return ret;\r\n\t  }\r\n\t};\r\n\r\n\texports['default'] = CodeGen;\r\n\tmodule.exports = exports['default'];\r\n\r\n/***/ }\r\n/******/ ])\r\n});\r\n;","/* == malihu jquery custom scrollbar plugin == Version: 3.1.5, License: MIT License (MIT) */\r\n!function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):\"undefined\"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o=\"function\"==typeof define&&define.amd,a=\"undefined\"!=typeof module&&module.exports,n=\"https:\"==document.location.protocol?\"https:\":\"http:\",i=\"cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js\";o||(a?require(\"jquery-mousewheel\")(e):e.event.special.mousewheel||e(\"head\").append(decodeURI(\"%3Cscript src=\"+n+\"//\"+i+\"%3E%3C/script%3E\"))),t()}(function(){var t,o=\"mCustomScrollbar\",a=\"mCS\",n=\".mCustomScrollbar\",i={setTop:0,setLeft:0,axis:\"y\",scrollbarPosition:\"inside\",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:\"auto\",axis:\"y\",deltaFactor:\"auto\",disableOver:[\"select\",\"option\",\"keygen\",\"datalist\",\"textarea\"]},scrollButtons:{scrollType:\"stepless\",scrollAmount:\"auto\"},keyboard:{enable:!0,scrollType:\"stepless\",scrollAmount:\"auto\"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:\"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']\",updateOnContentResize:!0,updateOnImageLoad:\"auto\",autoUpdateTimeout:60},theme:\"light\",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=[\"mCSB_dragger_onDrag\",\"mCSB_scrollTools_onDrag\",\"mCS_img_loaded\",\"mCS_disabled\",\"mCS_destroyed\",\"mCS_no_scrollbar\",\"mCS-autoHide\",\"mCS-dir-rtl\",\"mCS_no_scrollbar_y\",\"mCS_no_scrollbar_x\",\"mCS_y_hidden\",\"mCS_x_hidden\",\"mCSB_draggerContainer\",\"mCSB_buttonUp\",\"mCSB_buttonDown\",\"mCSB_buttonLeft\",\"mCSB_buttonRight\"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if(\"off\"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),\"once\"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?\"x\":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,\"object\"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:\"auto\",axis:\"y\",preventDefault:!1,deltaFactor:\"auto\",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css(\"direction\"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data(\"mcs-axis\"),s=o.data(\"mcs-scrollbar-position\"),c=o.data(\"mcs-theme\");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&\"function\"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e(\"#mCSB_\"+n.idx+\"_container img:not(.\"+d[2]+\")\").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e(\"#mCSB_\"+n.idx+\"_container\"),l=e(\"#mCSB_\"+n.idx),s=[e(\"#mCSB_\"+n.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+n.idx+\"_dragger_horizontal\")];if(!r.length)return;n.tweenRunning&&Q(t),o&&n&&i.callbacks.onBeforeUpdate&&\"function\"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css(\"max-height\",\"none\"),l.height()!==t.height()&&l.css(\"max-height\",t.height()),_.call(this),\"y\"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css(\"width\",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];\"x\"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(G(t,c[0].toString(),{dir:\"y\",dur:0,overwrite:\"none\"}),n.contentReset.y=null):(B.call(this),\"y\"===i.axis?k.call(this):\"yx\"===i.axis&&n.overflowed[1]&&G(t,c[1].toString(),{dir:\"x\",dur:0,overwrite:\"none\"}))),\"y\"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(G(t,c[1].toString(),{dir:\"x\",dur:0,overwrite:\"none\"}),n.contentReset.x=null):(B.call(this),\"x\"===i.axis?k.call(this):\"yx\"===i.axis&&n.overflowed[0]&&G(t,c[0].toString(),{dir:\"y\",dur:0,overwrite:\"none\"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&\"function\"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&\"function\"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&\"function\"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,o){if(\"undefined\"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:\"external\",scrollInertia:r.scrollInertia,scrollEasing:\"mcsEaseInOut\",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],\"y\"),c[1]=X.call(this,c[1],\"x\"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout(function(){null!==c[0]&&\"undefined\"!=typeof c[0]&&\"x\"!==r.axis&&i.overflowed[0]&&(s.dir=\"y\",s.overwrite=\"all\",G(n,c[0].toString(),s)),null!==c[1]&&\"undefined\"!=typeof c[1]&&\"y\"!==r.axis&&i.overflowed[1]&&(s.dir=\"x\",s.overwrite=\"none\",G(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&Q(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){o.data(a);N.call(this,\"remove\"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e(\"#mCSB_\"+i.idx),s=e(\"#mCSB_\"+i.idx+\"_container\"),c=e(\".mCSB_\"+i.idx+\"_scrollbar\");r.live&&m(r.liveSelector||e(t).selector),N.call(this,\"remove\"),k.call(this),B.call(this),n.removeData(a),$(this,\"mcs\"),c.remove(),s.find(\"img.\"+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+\" _\"+a+\"_\"+i.idx+\" \"+d[6]+\" \"+d[7]+\" \"+d[5]+\" \"+d[3]).addClass(d[4])}})}},f=function(){return\"object\"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=[\"rounded\",\"rounded-dark\",\"rounded-dots\",\"rounded-dots-dark\"],a=[\"rounded-dots\",\"rounded-dots-dark\",\"3d\",\"3d-dark\",\"3d-thick\",\"3d-thick-dark\",\"inset\",\"inset-dark\",\"inset-2\",\"inset-2-dark\",\"inset-3\",\"inset-3-dark\"],n=[\"minimal\",\"minimal-dark\"],i=[\"minimal\",\"minimal-dark\"],r=[\"minimal\",\"minimal-dark\"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?\"outside\":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function(e){return\"yx\"===e||\"xy\"===e||\"auto\"===e?\"yx\":\"x\"===e||\"horizontal\"===e?\"x\":\"y\"},g=function(e){return\"stepped\"===e||\"pixels\"===e||\"step\"===e||\"click\"===e?\"stepped\":\"stepless\"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?\" \"+d[1]+\"_expand\":\"\",l=[\"<div id='mCSB_\"+n.idx+\"_scrollbar_vertical' class='mCSB_scrollTools mCSB_\"+n.idx+\"_scrollbar mCS-\"+i.theme+\" mCSB_scrollTools_vertical\"+r+\"'><div class='\"+d[12]+\"'><div id='mCSB_\"+n.idx+\"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>\",\"<div id='mCSB_\"+n.idx+\"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_\"+n.idx+\"_scrollbar mCS-\"+i.theme+\" mCSB_scrollTools_horizontal\"+r+\"'><div class='\"+d[12]+\"'><div id='mCSB_\"+n.idx+\"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>\"],s=\"yx\"===i.axis?\"mCSB_vertical_horizontal\":\"x\"===i.axis?\"mCSB_horizontal\":\"mCSB_vertical\",c=\"yx\"===i.axis?l[0]+l[1]:\"x\"===i.axis?l[1]:l[0],u=\"yx\"===i.axis?\"<div id='mCSB_\"+n.idx+\"_container_wrapper' class='mCSB_container_wrapper' />\":\"\",f=i.autoHideScrollbar?\" \"+d[6]:\"\",h=\"x\"!==i.axis&&\"rtl\"===n.langDir?\" \"+d[7]:\"\";i.setWidth&&t.css(\"width\",i.setWidth),i.setHeight&&t.css(\"height\",i.setHeight),i.setLeft=\"y\"!==i.axis&&\"rtl\"===n.langDir?\"989999px\":i.setLeft,t.addClass(o+\" _\"+a+\"_\"+n.idx+f+h).wrapInner(\"<div id='mCSB_\"+n.idx+\"' class='mCustomScrollBox mCS-\"+i.theme+\" \"+s+\"'><div id='mCSB_\"+n.idx+\"_container' class='mCSB_container' style='position:relative; top:\"+i.setTop+\"; left:\"+i.setLeft+\";' dir='\"+n.langDir+\"' /></div>\");var m=e(\"#mCSB_\"+n.idx),p=e(\"#mCSB_\"+n.idx+\"_container\");\"y\"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css(\"width\",x(p)),\"outside\"===i.scrollbarPosition?(\"static\"===t.css(\"position\")&&t.css(\"position\",\"relative\"),t.css(\"overflow\",\"visible\"),m.addClass(\"mCSB_outside\").after(c)):(m.addClass(\"mCSB_inside\").append(c),p.wrap(u)),w.call(this);var g=[e(\"#mCSB_\"+n.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+n.idx+\"_dragger_horizontal\")];g[0].css(\"min-height\",g[0].height()),g[1].css(\"min-width\",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:\"100%\"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(\"#mCSB_\"+o.idx+\"_container\");if(n.advanced.autoExpandHorizontalScroll&&\"y\"!==n.axis){i.css({width:\"auto\",\"min-width\":0,\"overflow-x\":\"scroll\"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,\"min-width\":\"100%\",\"overflow-x\":\"inherit\"}):i.css({\"overflow-x\":\"inherit\",position:\"absolute\"}).wrap(\"<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />\").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),\"min-width\":\"100%\",position:\"relative\"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(\".mCSB_\"+o.idx+\"_scrollbar:first\"),r=oe(n.scrollButtons.tabindex)?\"tabindex='\"+n.scrollButtons.tabindex+\"'\":\"\",l=[\"<a href='#' class='\"+d[13]+\"' \"+r+\" />\",\"<a href='#' class='\"+d[14]+\"' \"+r+\" />\",\"<a href='#' class='\"+d[15]+\"' \"+r+\" />\",\"<a href='#' class='\"+d[16]+\"' \"+r+\" />\"],s=[\"x\"===n.axis?l[2]:l[0],\"x\"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(\".mCSB_scrollTools\").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e(\"#mCSB_\"+o.idx),i=e(\"#mCSB_\"+o.idx+\"_container\"),r=[e(\"#mCSB_\"+o.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+o.idx+\"_dragger_horizontal\")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css(\"min-height\")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css(\"min-width\")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,\"max-height\":r[0].parent().height()-10}).find(\".mCSB_dragger_bar\").css({\"line-height\":c[0]+\"px\"}),r[1].css({width:u,\"max-width\":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e(\"#mCSB_\"+o.idx),i=e(\"#mCSB_\"+o.idx+\"_container\"),r=[e(\"#mCSB_\"+o.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+o.idx+\"_dragger_horizontal\")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+\"_expanded\":\"\",n=e.closest(\".mCSB_scrollTools\");\"active\"===t?(e.toggleClass(d[0]+\" \"+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||(\"hide\"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e(\"#mCSB_\"+o.idx),i=e(\"#mCSB_\"+o.idx+\"_container\"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(\"#mCSB_\"+o.idx),r=e(\"#mCSB_\"+o.idx+\"_container\"),l=[e(\"#mCSB_\"+o.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+o.idx+\"_dragger_horizontal\")];if(Q(t),(\"x\"!==n.axis&&!o.overflowed[0]||\"y\"===n.axis&&o.overflowed[0])&&(l[0].add(r).css(\"top\",0),G(t,\"_resetY\")),\"y\"!==n.axis&&!o.overflowed[1]||\"x\"===n.axis&&o.overflowed[1]){var s=dx=0;\"rtl\"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css(\"left\",s),l[1].css(\"left\",dx),G(t,\"_resetX\")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+\"_\"+o.idx,r=\".mCSB_\"+o.idx+\"_scrollbar\",l=e(\"#mCSB_\"+o.idx+\",#mCSB_\"+o.idx+\"_container,#mCSB_\"+o.idx+\"_container_wrapper,\"+r+\" .\"+d[12]+\",#mCSB_\"+o.idx+\"_dragger_vertical,#mCSB_\"+o.idx+\"_dragger_horizontal,\"+r+\">a\"),s=e(\"#mCSB_\"+o.idx+\"_container\");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind(\".\"+i),l.each(function(){e(this).unbind(\".\"+i)}),clearTimeout(t[0]._focusTimeout),$(t[0],\"_focusTimeout\"),clearTimeout(o.sequential.step),$(o.sequential,\"step\"),clearTimeout(s[0].onCompleteTimeout),$(s[0],\"onCompleteTimeout\"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e(\"#mCSB_\"+n.idx+\"_container_wrapper\"),l=r.length?r:e(\"#mCSB_\"+n.idx+\"_container\"),s=[e(\"#mCSB_\"+n.idx+\"_scrollbar_vertical\"),e(\"#mCSB_\"+n.idx+\"_scrollbar_horizontal\")],c=[s[0].find(\".mCSB_dragger\"),s[1].find(\".mCSB_dragger\")];\"x\"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children(\"a\")).css(\"display\",\"block\"),l.removeClass(d[8]+\" \"+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css(\"display\",\"none\"),l.removeClass(d[10])):(s[0].css(\"display\",\"none\"),l.addClass(d[10])),l.addClass(d[8]))),\"y\"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children(\"a\")).css(\"display\",\"block\"),l.removeClass(d[9]+\" \"+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css(\"display\",\"none\"),l.removeClass(d[11])):(s[1].css(\"display\",\"none\"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case\"pointerdown\":case\"MSPointerDown\":case\"pointermove\":case\"MSPointerMove\":case\"pointerup\":case\"MSPointerUp\":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case\"touchstart\":case\"touchmove\":case\"touchend\":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e,t,a,n){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr(\"id\")===f[1])var i=\"x\",s=(o[0].offsetLeft-t+n)*l.scrollRatio.x;else var i=\"y\",s=(o[0].offsetTop-e+a)*l.scrollRatio.y;G(r,s.toString(),{dir:i,drag:!0})}var o,n,i,r=e(this),l=r.data(a),d=l.opt,u=a+\"_\"+l.idx,f=[\"mCSB_\"+l.idx+\"_dragger_vertical\",\"mCSB_\"+l.idx+\"_dragger_horizontal\"],h=e(\"#mCSB_\"+l.idx+\"_container\"),m=e(\"#\"+f[0]+\",#\"+f[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind(\"contextmenu.\"+u,function(e){e.preventDefault()}).bind(\"mousedown.\"+u+\" touchstart.\"+u+\" pointerdown.\"+u+\" MSPointerDown.\"+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),L.call(h,!1),Q(r),o=e(this);var a=o.offset(),l=O(t)[0]-a.top,u=O(t)[1]-a.left,f=o.height()+a.top,m=o.width()+a.left;f>l&&l>0&&m>u&&u>0&&(n=l,i=u),C(o,\"active\",d.autoExpandScrollbar)}}).bind(\"touchmove.\"+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;t(n,i,r,l)}),e(document).add(g).bind(\"mousemove.\"+u+\" pointermove.\"+u+\" MSPointerMove.\"+u,function(e){if(o){var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;if(n===r&&i===l)return;t(n,i,r,l)}}).add(p).bind(\"mouseup.\"+u+\" touchend.\"+u+\" pointerup.\"+u+\" MSPointerUp.\"+u,function(){o&&(C(o,\"active\",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),L.call(h,!0)})},D=function(){function o(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass(\"mCS_touch_action\");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if(te(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n=\"mcsLinearOut\";if(E.push(o),W.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||\"yx\"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||\"yx\"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass(\"mCS_touch_action\")),U&&e.preventDefault(),w=\"yx\"===T.axis?[u-o,f-a]:\"x\"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],R,n,\"y\",\"all\",!0),B.overflowed[1]&&s(w[1],R,n,\"x\",L,!0)}}function i(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Q(y),p=K();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],W=[]}function r(e){if(te(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n=\"mcsEaseOut\",i=2.5>_,r=i?[E[E.length-2],W[W.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w=\"yx\"===T.axis?[f[0],f[1]]:\"x\"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,\"y\",L,!1),B.overflowed[1]&&s(w[1],S[1],n,\"x\",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&G(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+\"_\"+B.idx,M=e(\"#mCSB_\"+B.idx),I=e(\"#mCSB_\"+B.idx+\"_container\"),D=[e(\"#mCSB_\"+B.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+B.idx+\"_dragger_horizontal\")],E=[],W=[],R=0,L=\"yx\"===T.axis?\"none\":\"all\",z=[],P=I.find(\"iframe\"),H=[\"touchstart.\"+k+\" pointerdown.\"+k+\" MSPointerDown.\"+k,\"touchmove.\"+k+\" pointermove.\"+k+\" MSPointerMove.\"+k,\"touchend.\"+k+\" pointerup.\"+k+\" MSPointerUp.\"+k],U=void 0!==document.body.style.touchAction&&\"\"!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind(\"load\",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&\"Control\"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?\"stepped\":\"stepless\",d.scrollAmount=10,j(r,e,t,\"mcsLinearOut\",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+\"_\"+l.idx,f=e(\"#mCSB_\"+l.idx+\"_container\"),h=f.parent();f.bind(\"mousedown.\"+u,function(){t||i||(i=1,c=!0)}).add(document).bind(\"mousemove.\"+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n(\"off\",null,\"stepped\"):(\"x\"!==s.axis&&l.overflowed[0]&&(0>r?n(\"on\",38):r>h.height()&&n(\"on\",40)),\"y\"!==s.axis&&l.overflowed[1]&&(0>c?n(\"on\",37):c>h.width()&&n(\"on\",39)))}}).bind(\"mouseup.\"+u+\" dragend.\"+u,function(){t||(i&&(i=0,n(\"off\",null)),c=!1)})},W=function(){function t(t,a){if(Q(o),!z(o,t.target)){var r=\"auto\"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if(\"x\"===i.axis||\"x\"===i.mouseWheel.axis)var u=\"x\",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h=\"auto\"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e(\"#mCSB_\"+n.idx+\"_container\")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v=\"y\"===i.mouseWheel.axis?t.deltaY||a:t.deltaX;else var u=\"y\",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h=\"auto\"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e(\"#mCSB_\"+n.idx+\"_container\")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;\"y\"===u&&!n.overflowed[0]||\"x\"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),G(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+\"_\"+n.idx,l=e(\"#mCSB_\"+n.idx),c=[e(\"#mCSB_\"+n.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+n.idx+\"_dragger_horizontal\")],d=e(\"#mCSB_\"+n.idx+\"_container\").find(\"iframe\");d.length&&d.each(function(){e(this).bind(\"load\",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(\"mousewheel.\"+r,function(e,o){t(e,o)})})}),l.bind(\"mousewheel.\"+r,function(e,o){t(e,o)})}},R=new Object,A=function(t){var o=!1,a=!1,n=null;if(void 0===t?a=\"#empty\":void 0!==e(t).attr(\"id\")&&(a=e(t).attr(\"id\")),a!==!1&&void 0!==R[a])return R[a];if(t){try{var i=t.contentDocument||t.contentWindow.document;n=i.body.innerHTML}catch(r){}o=null!==n}else{try{var i=top.document;n=i.body.innerHTML}catch(r){}o=null!==n}return a!==!1&&(R[a]=o),o},L=function(e){var t=this.find(\"iframe\");if(t.length){var o=e?\"auto\":\"none\";t.css(\"pointer-events\",o)}},z=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=[\"select\",\"textarea\"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(\":focus\"))},P=function(){var t,o=e(this),n=o.data(a),i=a+\"_\"+n.idx,r=e(\"#mCSB_\"+n.idx+\"_container\"),l=r.parent(),s=e(\".mCSB_\"+n.idx+\"_scrollbar .\"+d[12]);s.bind(\"mousedown.\"+i+\" touchstart.\"+i+\" pointerdown.\"+i+\" MSPointerDown.\"+i,function(o){c=!0,e(o.target).hasClass(\"mCSB_dragger\")||(t=1)}).bind(\"touchend.\"+i+\" pointerup.\"+i+\" MSPointerUp.\"+i,function(){c=!1}).bind(\"click.\"+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass(\"mCSB_draggerRail\"))){Q(o);var i=e(this),s=i.find(\".mCSB_dragger\");if(i.parent(\".mCSB_scrollTools_horizontal\").length>0){if(!n.overflowed[1])return;var c=\"x\",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!n.overflowed[0])return;var c=\"y\",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}G(o,f.toString(),{dir:c,scrollEasing:\"mcsEaseInOut\"})}})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+\"_\"+o.idx,r=e(\"#mCSB_\"+o.idx+\"_container\"),l=r.parent();r.bind(\"focusin.\"+i,function(){var o=e(document.activeElement),a=r.find(\".mCustomScrollBox\").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ae(o)[0],ae(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c=\"yx\"!==n.axis||s[0]||s[1]?\"all\":\"none\";\"x\"===n.axis||s[0]||G(t,e[0].toString(),{dir:\"y\",scrollEasing:\"mcsEaseInOut\",overwrite:c,dur:i}),\"y\"===n.axis||s[1]||G(t,e[1].toString(),{dir:\"x\",scrollEasing:\"mcsEaseInOut\",overwrite:c,dur:i})},t[0]._focusTimer))})},U=function(){var t=e(this),o=t.data(a),n=a+\"_\"+o.idx,i=e(\"#mCSB_\"+o.idx+\"_container\").parent();i.bind(\"scroll.\"+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(\".mCSB_\"+o.idx+\"_scrollbar\").css(\"visibility\",\"hidden\")})},F=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+\"_\"+o.idx,l=\".mCSB_\"+o.idx+\"_scrollbar\",s=e(l+\">a\");s.bind(\"contextmenu.\"+r,function(e){e.preventDefault()}).bind(\"mousedown.\"+r+\" touchstart.\"+r+\" pointerdown.\"+r+\" MSPointerDown.\"+r+\" mouseup.\"+r+\" touchend.\"+r+\" pointerup.\"+r+\" MSPointerUp.\"+r+\" mouseout.\"+r+\" pointerout.\"+r+\" MSPointerOut.\"+r+\" click.\"+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,j(t,e,o)}if(a.preventDefault(),ee(a)){var l=e(this).attr(\"class\");switch(i.type=n.scrollButtons.scrollType,a.type){case\"mousedown\":case\"touchstart\":case\"pointerdown\":case\"MSPointerDown\":if(\"stepped\"===i.type)return;c=!0,o.tweenRunning=!1,r(\"on\",l);break;case\"mouseup\":case\"touchend\":case\"pointerup\":case\"MSPointerUp\":case\"mouseout\":case\"pointerout\":case\"MSPointerOut\":if(\"stepped\"===i.type)return;c=!1,i.dir&&r(\"off\",l);break;case\"click\":if(\"stepped\"!==i.type||o.tweenRunning)return;r(\"on\",l)}}})},q=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,\"stepped\"===r.type&&n.tweenRunning||j(o,e,t)}switch(t.type){case\"blur\":n.tweenRunning&&r.dir&&a(\"off\",null);break;case\"keydown\":case\"keyup\":var l=t.keyCode?t.keyCode:t.which,s=\"on\";if(\"x\"!==i.axis&&(38===l||40===l)||\"y\"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;\"keyup\"===t.type&&(s=\"off\"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),\"keyup\"===t.type){Q(o);var f=34===l?-1:1;if(\"x\"===i.axis||\"yx\"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h=\"x\",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var h=\"y\",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());G(o,m.toString(),{dir:h,scrollEasing:\"mcsEaseInOut\"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),\"keyup\"===t.type)){if(\"x\"===i.axis||\"yx\"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h=\"x\",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h=\"y\",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;G(o,m.toString(),{dir:h,scrollEasing:\"mcsEaseInOut\"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+\"_\"+n.idx,s=e(\"#mCSB_\"+n.idx),c=e(\"#mCSB_\"+n.idx+\"_container\"),d=c.parent(),u=\"input,textarea,select,datalist,keygen,[contenteditable='true']\",f=c.find(\"iframe\"),h=[\"blur.\"+l+\" keydown.\"+l+\" keyup.\"+l];f.length&&f.each(function(){e(this).bind(\"load\",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr(\"tabindex\",\"0\").bind(h[0],function(e){t(e)})},j=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?\"x\"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o=\"stepped\"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m=\"x\"===f.dir[0]?s[1]+f.dir[1]*(d[1]*n):s[0]+f.dir[1]*(d[0]*n),v=\"x\"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x=\"auto\"!==f.scrollAmount?v:m,_=i?i:e?o?\"mcsLinearOut\":\"mcsEaseInOut\":\"mcsLinear\",w=!!e;return e&&17>a&&(x=\"x\"===f.dir[0]?s[1]:s[0]),G(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),$(f,\"step\"),Q(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e(\"#mCSB_\"+c.idx+\"_container\"),m=\"stepped\"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case\"on\":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?\"x\":\"y\",n===d[13]||n===d[15]||38===n||37===n?-1:1],Q(t),oe(n)&&\"stepped\"===f.type)return;l(m);break;case\"off\":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return\"function\"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:\"x\"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||\"x\"===o.axis?null:t,n[1]=t.x?t.x:t.y||\"y\"===o.axis?null:t),\"function\"==typeof n[0]&&(n[0]=n[0]()),\"function\"==typeof n[1]&&(n[1]=n[1]()),n},X=function(t,o){if(null!=t&&\"undefined\"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e(\"#mCSB_\"+i.idx+\"_container\"),s=l.parent(),c=typeof t;o||(o=\"x\"===r.axis?\"x\":\"y\");var d=\"x\"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f=\"x\"===o?l[0].offsetLeft:l[0].offsetTop,h=\"x\"===o?\"left\":\"top\";switch(c){case\"function\":return t();case\"object\":var m=t.jquery?t:e(t);if(!m.length)return;return\"x\"===o?ae(m)[1]:ae(m)[0];case\"string\":case\"number\":if(oe(t))return Math.abs(t);if(-1!==t.indexOf(\"%\"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf(\"-=\"))return Math.abs(f-parseInt(t.split(\"-=\")[1]));if(-1!==t.indexOf(\"+=\")){var p=f+parseInt(t.split(\"+=\")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf(\"px\")&&oe(t.split(\"px\")[0]))return Math.abs(t.split(\"px\")[0]);if(\"top\"===t||\"left\"===t)return 0;if(\"bottom\"===t)return Math.abs(s.height()-l.outerHeight(!1));if(\"right\"===t)return Math.abs(s.width()-l.outerWidth(!1));if(\"first\"===t||\"last\"===t){var m=l.find(\":\"+t);return\"x\"===o?ae(m)[1]:ae(m)[0]}return e(t).length?\"x\"===o?ae(e(t))[1]:ae(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},N=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents(\"html\").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||\"auto\"===c.advanced.updateOnImageLoad&&\"y\"===c.axis||(s.poll.img.n=f.find(\"img\").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find(\"img\").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){\r\nreturn t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange=\"*\");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e(\"#mCSB_\"+s.idx+\"_container\");return t?(clearTimeout(f[0].autoUpdate),void $(f[0],\"autoUpdate\")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},Q=function(t){var o=t.data(a),n=e(\"#mCSB_\"+o.idx+\"_container,#mCSB_\"+o.idx+\"_container_wrapper,#mCSB_\"+o.idx+\"_dragger_vertical,#mCSB_\"+o.idx+\"_dragger_horizontal\");n.each(function(){Z.call(this)})},G=function(t,o,n){function i(e){return s&&c.callbacks[e]&&\"function\"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:\"internal\",dir:\"y\",scrollEasing:\"mcsEaseOut\",drag:!1,dur:c.scrollInertia,overwrite:\"all\",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e(\"#mCSB_\"+s.idx),h=e(\"#mCSB_\"+s.idx+\"_container\"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(\".mCSB_\"+s.idx+\"_scrollbar\").css(\"visibility\",\"visible\"),m.scrollTop(0).scrollLeft(0)),\"_resetY\"!==o||s.contentReset.y||(i(\"onOverflowYNone\")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),\"_resetX\"!==o||s.contentReset.x||(i(\"onOverflowXNone\")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),\"_resetY\"!==o&&\"_resetX\"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i(\"onOverflowY\")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i(\"onOverflowX\")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?\"x\"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(n.dir){case\"x\":var x=e(\"#mCSB_\"+s.idx+\"_dragger_horizontal\"),_=\"left\",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case\"y\":var x=e(\"#mCSB_\"+s.idx+\"_dragger_vertical\"),_=\"top\",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i(\"onInit\")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),J(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),!s.tweenRunning&&(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0])||J(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i(\"onScrollStart\")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i(\"whileScrolling\")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){\"yx\"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i(\"onScroll\")&&(l(),c.callbacks.onScroll.call(t[0])),i(\"onTotalScroll\")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i(\"onTotalScrollBack\")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,\"hide\")},e)}}})}},J=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=K()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+\"px\"):w[t]=o+\"px\",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case\"linear\":case\"mcsLinear\":return o*e/a+t;case\"mcsLinearOut\":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case\"easeInOutSmooth\":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case\"easeInOutStrong\":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case\"easeInOut\":case\"mcsEaseInOut\":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case\"easeOutSmooth\":return e/=a,e--,-o*(e*e*e*e-1)+t;case\"easeOutStrong\":return o*(-Math.pow(2,-10*e/a)+1)+t;case\"easeOut\":case\"mcsEaseOut\":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];\"left\"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,\"none\"!==i&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=[\"top\",\"left\"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},$=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&\"touch\"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ae=function(e){var t=e.parents(\".mCSB_container\");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=[\"webkit\",\"moz\",\"ms\",\"o\"];if(\"hidden\"in document)return\"hidden\";for(var t=0;t<e.length;t++)if(e[t]+\"Hidden\"in document)return e[t]+\"Hidden\";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):\"object\"!=typeof t&&t?void e.error(\"Method \"+t+\" does not exist\"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):\"object\"!=typeof t&&t?void e.error(\"Method \"+t+\" does not exist\"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind(\"load\",function(){e(n)[o](),e.extend(e.expr[\":\"],{mcsInView:e.expr[\":\"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(\".mCSB_container\");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+ae(n)[0]>=0&&a[0]+ae(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ae(n)[1]>=0&&a[1]+ae(n)[1]<o.width()-n.outerWidth(!1)},mcsInSight:e.expr[\":\"].mcsInSight||function(t,o,a){var n,i,r,l,s=e(t),c=s.parents(\".mCSB_container\"),d=\"exact\"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ae(s)[0],c[0].offsetLeft+ae(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[n[0]<i[0]?d[0]:d[1],n[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+n[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+n[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[\":\"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});\r\n","/*\r\n\tSmooth Zoom Pan - jQuery Image Viewer\r\n \tCopyright (c) 2011-14 Ramesh Kumar\r\n\thttp://codecanyon.net/user/VF\r\n\t\r\n\tVersion:\t1.7.0\r\n\tRELEASE:\t09 SEP 2011\r\n\tUPDATE:\t\t27 May 2014\r\n\t\r\n\tBuilt using:\r\n\tjQuery \t\tversion: 1.7.0+\t\thttp://jquery.com/\r\n\tModernizr \tversion: 2.8.2\t\thttp://www.modernizr.com/\r\n\tMouseWheel\tversion: 3.1.11\t\thttp://brandon.aaron.sh\r\n\t\r\n*/\r\n\r\n(function ($, window, document) {\r\n\t\r\n\t/*****************************************************************************\r\n\t\tDefault settings:\r\n\t\tFor detailed description of individual parameters, see the help document\r\n\t******************************************************************************/\r\n\tvar defaults = {\r\n\t\t\r\n\t\twidth: '',\t\t\t\t\t\t\t\t\t//Width of the view area [480, '480px', '100%']\r\n\t\theight: '',\t\t\t\t\t\t\t\t\t//Height of the view area [480, '480px', '100%']\r\n\r\n\t\tinitial_ZOOM: '',\t\t\t\t\t\t\t//Initial zoom level to start with (in percentage) [100]\r\n\t\tinitial_POSITION: '',\t\t\t\t\t\t//Initial location to be focused in pixel value [150,150 or 150 150]\r\n\r\n\t\tanimation_SMOOTHNESS: 5.5,\t\t\t\t\t//Ease or smoothness of all movements [Any number from 0]\t\t\t\t\r\n\t\tanimation_SPEED_ZOOM: 5.5,\t\t\t\t\t//Speed of zoom movements [Any number from 0] \r\n\t\tanimation_SPEED_PAN: 5.5,\t\t\t\t\t//Speed of pan movements [Any number from 0] \r\n\r\n\t\tzoom_MAX: 800,\t\t\t\t\t\t\t\t//Maximum limit for zooming (in percentage)\r\n\t\tzoom_MIN: '',\t\t\t\t\t\t\t\t//Minimum limit for zooming (in percentage)\r\n\t\tzoom_SINGLE_STEP: false,\t\t\t\t\t//To reach maximum and minimum zoom levels in single click \r\n\t\tzoom_OUT_TO_FIT: true,\t\t\t\t\t\t//To allow image to be zoomed out with whitespace on sides\r\n\t\tzoom_BUTTONS_SHOW: true,\t\t\t\t\t//To enable/disable the + and - buttons\r\n\r\n\t\tpan_BUTTONS_SHOW: true,\t\t\t\t\t\t//To enable/disable the arrow and reset buttons\r\n\t\tpan_LIMIT_BOUNDARY: true,\t\t\t\t\t//To allow/restrict moving the image beyond boundaries\r\n\t\tpan_REVERSE: false,\r\n\t\t\r\n\t\treset_ALIGN_TO: 'center center', \t\t\t//Image can be aligned to desired position on reset. Example: 'Top Left'\r\n\t\treset_TO_ZOOM_MIN: true,\t\t\t\t\t//How it should behave if zoom_MIN value set and while clicking reset button, \r\n\r\n\t\tbutton_SIZE: 18,\t\t\t\t\t\t\t//Button width and height (in pixels)\r\n\t\tbutton_SIZE_TOUCH_DEVICE: 30,\t\t\t\t//Button width and height (in pixels) on touch devices\r\n\t\tbutton_COLOR: '#FFFFFF',\t\t\t\t\t//Button color in hexadecimal\r\n\t\tbutton_BG_COLOR: '#000000',\t\t\t\t\t//Button set's background color in hexadecimal\r\n\t\tbutton_BG_TRANSPARENCY: 55,\t\t\t\t\t//Background transparency (in percentage)\r\n\t\tbutton_AUTO_HIDE: false,\t\t\t\t\t//To hide the button set when mouse moved outside the view area\r\n\t\tbutton_AUTO_HIDE_DELAY: 1,\t\t\t\t\t//Auto hide delay time in seconds\r\n\t\tbutton_ALIGN: 'bottom right',\t\t\t\t//Button set can be aligned to any side or center\r\n\t\tbutton_MARGIN: 10,\t\t\t\t\t\t\t//Space between button set and view port's edge\r\n\t\tbutton_ROUND_CORNERS: true,\t\t\t\t\t//To enable disable roundness of button corner\r\n\t\t\r\n\t\ttouch_DRAG: true,\t\t\t\t\t\t\t//Enable/disable the dragability of image (touch)\r\n\t\tmouse_DRAG: true,\t\t\t\t\t\t\t//Enable/disable the dragability of image (mouse)\r\n\t\tmouse_WHEEL: true,\t\t\t\t\t\t\t//Enable/disable mousewheel zoom\r\n\t\tmouse_WHEEL_CURSOR_POS: true,\t\t\t\t//Enable/disable position sensitive mousewheel zoom\r\n\t\tmouse_DOUBLE_CLICK: true,\t\t\t\t\t//Enable/disable zoom action with double click\r\n\r\n\t\tbackground_COLOR: '#FFFFFF',\t\t\t\t//Background colour of image container\r\n\t\tborder_SIZE: 1,\t\t\t\t\t\t\t\t//Border size of view area\r\n\t\tborder_COLOR: '#000000',\t\t\t\t\t//Border color of view area\r\n\t\tborder_TRANSPARENCY: 10,\t\t\t\t\t//Border transparency of view area\r\n\t\t\r\n\t\timage_url: '',\t\t\t\t\t\t\t\t//Set url or image to be zoomed\r\n\t\timage_original_width: '',\t\t\t\t\t//Original width of main image\r\n\t\timage_original_height: '',\t\t\t\t\t//Original height of main image\r\n\t\tcontainer: '',\t\t\t\t\t\t\t\t//Set container element of image (id of container)\r\n\t\t\r\n\t\ton_IMAGE_LOAD: '',\t\t\t\t\t\t\t//To Call external function immediatly after image loaded\r\n\t\ton_ZOOM_PAN_UPDATE: '',\t\t\t\t\t\t//To Call external function for each zoom, pan animation frame\r\n\t\ton_ZOOM_PAN_COMPLETE: '',\t\t\t\t\t//To Call external function whenever zoom, pan animation completes\r\n\t\ton_LANDMARK_STATE_CHANGE: '',\t\t\t\t//To Call external function whenever the zoom leval crosses global \"data-show-at-zoom\" value\r\n\t\t\r\n\t\tuse_3D_Transform: true,\t\t\t\t\t\t//To enable / disable Hardware acceleration on webkit browsers\r\n\t\t\r\n\t\tresponsive: false,\t\t\t\t\t\t\t//To enable / disable Responsive / fluid layout\r\n\t\tresponsive_maintain_ratio: true,\t\t\t//To maintain view area width/height ratio or not\r\n\t\tmax_WIDTH: '',\t\t\t\t\t\t\t\t//Maximum allowed width of view area (helpful when 'width' parameter set with % and need limit)\r\n\t\tmax_HEIGHT: ''\t\t\t\t\t\t\t\t//Maximum allowed height of view area (helpful when 'height' parameter set with % and need limit)\r\n\t};\r\n\r\n\tfunction Zoomer($elem, params) {\r\n\t\t\r\n\t\tvar self = this,\t\t\r\n\t\top = $.extend({}, defaults, params);\r\n\t\tthis.$elem = $elem;\t\r\n\t\tthis.hasTouch = this.checkTouchSupport ();\r\n\r\n\t\t/**********************************************************\r\n\t\tOption values verified and formated if needed\r\n\t\t**********************************************************/\r\n\t\tthis.sW = op.width;\r\n\t\tthis.sH = op.height;\r\n\r\n\t\tthis.init_zoom = op.initial_ZOOM / 100;\r\n\t\tthis.init_pos = op.initial_POSITION.replace(/,/g, ' ').replace(/\\s{2,}/g, ' ').split(' ');\r\n\r\n\t\tthis.zoom_max = op.zoom_MAX / 100;\r\n\t\tthis.zoom_min = op.zoom_MIN / 100;\r\n\t\t\r\n\t\tthis.zoom_single = checkBoolean (op.zoom_SINGLE_STEP);\r\n\t\tthis.zoom_fit = checkBoolean (op.zoom_OUT_TO_FIT);\t\t\r\n\t\tthis.zoom_speed = 1 + (((op.animation_SPEED === 0 || op.animation_SPEED? op.animation_SPEED : op.animation_SPEED_ZOOM) + 1) / 20);\r\n\t\tthis.zoom_show = checkBoolean (op.zoom_BUTTONS_SHOW);\r\n\r\n\t\tthis.pan_speed_o = (op.animation_SPEED === 0 || op.animation_SPEED ? op.animation_SPEED : op.animation_SPEED_PAN);\r\n\t\tthis.pan_show = checkBoolean (op.pan_BUTTONS_SHOW);\r\n\t\tthis.pan_limit = checkBoolean (op.pan_LIMIT_BOUNDARY);\t\r\n\t\tthis.pan_rev = checkBoolean (op.pan_REVERSE);\t\t\r\n\t\t\r\n\t\tthis.reset_align = op.reset_ALIGN_TO.toLowerCase().split(' ');\t\r\n\t\tthis.reset_to_zmin = checkBoolean(op.reset_TO_ZOOM_MIN);\r\n\t\t\r\n\t\tthis.bu_size = parseInt((this.hasTouch? op.button_SIZE_TOUCH_DEVICE : op.button_SIZE)/2)*2;\r\n\t\tthis.bu_color = op.button_COLOR;\r\n\t\tthis.bu_bg = op.button_BG_COLOR;\r\n\t\tthis.bu_bg_alpha = op.button_BG_TRANSPARENCY / 100;\r\n\t\tthis.bu_icon = op.button_ICON_IMAGE;\r\n\t\tthis.bu_auto = checkBoolean (op.button_AUTO_HIDE);\r\n\r\n\t\tthis.bu_delay = op.button_AUTO_HIDE_DELAY * 1000;\r\n\t\tthis.bu_align = op.button_ALIGN.toLowerCase().split(' ');\r\n\t\tthis.bu_margin = op.button_MARGIN;\r\n\t\tthis.bu_round = checkBoolean (op.button_ROUND_CORNERS);\r\n\r\n\t\tthis.touch_drag = checkBoolean (op.touch_DRAG);\r\n\t\tthis.mouse_drag = checkBoolean (op.mouse_DRAG);\r\n\t\tthis.mouse_wheel = checkBoolean (op.mouse_WHEEL);\r\n\t\tthis.mouse_wheel_cur = checkBoolean (op.mouse_WHEEL_CURSOR_POS);\r\n\t\tthis.mouse_dbl_click = checkBoolean (op.mouse_DOUBLE_CLICK);\r\n\r\n\t\tthis.ani_smooth =  Math.max(1, (op.animation_SMOOTHNESS+1)/1.45);\r\n\t\t\r\n\t\tthis.bg_color = op.background_COLOR;\r\n\t\tthis.bord_size = op.border_SIZE;\r\n\t\tthis.bord_color = op.border_COLOR;\r\n\t\tthis.bord_alpha = op.border_TRANSPARENCY / 100;\r\n\r\n\t\tthis.container = op.container;\r\n\t\tthis.image_url = op.image_url;\r\n\t\tthis.image_width = op.image_original_width;\r\n\t\tthis.image_height = op.image_original_height;\r\n\t\t\r\n\t\tthis.responsive = checkBoolean (op.responsive);\r\n\t\tthis.maintain_ratio = checkBoolean (op.responsive_maintain_ratio);\r\n\t\tthis.w_max = op.max_WIDTH;\r\n\t\tthis.h_max = op.max_HEIGHT;\r\n\t\t\r\n\t\tthis.onLOAD = op.on_IMAGE_LOAD;\r\n\t\tthis.onUPDATE = op.on_ZOOM_PAN_UPDATE;\r\n\t\tthis.onZOOM_PAN = op.on_ZOOM_PAN_COMPLETE;\r\n\t\tthis.onLANDMARK = op.on_LANDMARK_STATE_CHANGE;\r\n\r\n\t\t/***********************************************************\r\n\t\tVariables for inner operation.\t\r\n\t\tx, y, width, height and scale value of image\r\n\t\t***********************************************************/\r\n\t\tthis._x;\r\n\t\tthis._y;\r\n\t\tthis._w;\r\n\t\tthis._h;\r\n\t\tthis._sc = 0;\t\t\r\n\t\t\r\n\t\tthis.rA = 1;\r\n\t\tthis.rF = 1;\r\n\t\tthis.rR = 1;\r\n\t\tthis.iW = 0;\r\n\t\tthis.iH = 0;\r\n\t\tthis.tX = 0;\r\n\t\tthis.tY = 0;\r\n\t\tthis.oX = 0;\r\n\t\tthis.oY = 0;\r\n\t\tthis.fX = 0;\r\n\t\tthis.fY = 0;\r\n\t\tthis.dX = 0;\r\n\t\tthis.dY = 0;\r\n\t\tthis.cX = 0;\r\n\t\tthis.cY = 0;\r\n\r\n\t\tthis.transOffX = 0;\r\n\t\tthis.transOffY = 0;\r\n\t\tthis.focusOffX = 0;\r\n\t\tthis.focusOffY = 0;\r\n\t\tthis.offX = 0;\r\n\t\tthis.offY = 0;\r\n\t\t\r\n\t\t/***********************************************************\r\n\t\tFlags that convey current states and events \r\n\t\t***********************************************************/\r\n\t\tthis._playing = false;\r\n\t\tthis._dragging = false;\r\n\t\tthis._onfocus = false;\r\n\t\tthis._moveCursor = false;\r\n\t\tthis._wheel = false;\r\n\t\tthis._recent = 'zoomOut';\r\n\t\tthis._pinching = false;\r\n\t\tthis._landmark = false;\r\n\t\tthis._rA;\r\n\t\tthis._centx;\r\n\t\tthis._centy;\r\n\t\tthis._onButton = false;\r\n\t\tthis._onHitArea = false;\t\t\r\n\t\tthis.cFlag = {\r\n\t\t\t_zi: false,\r\n\t\t\t_zo: false,\r\n\t\t\t_ml: false,\r\n\t\t\t_mr: false,\r\n\t\t\t_mu: false,\r\n\t\t\t_md: false,\r\n\t\t\t_rs: false,\r\n\t\t\t_nd: false\r\n\t\t};\r\n\t\t\r\n\t\t/***********************************************************\r\n\t\tElements and arrays that references elements\r\n\t\t***********************************************************/\r\n\t\tthis.$holder;\r\n\t\tthis.$hitArea;\r\n\t\tthis.$controls;\r\n\t\tthis.$loc_cont;\t\t\r\n\t\tthis.map_coordinates = [];\r\n\t\tthis.locations = [];\r\n\t\tthis.buttons = [];\r\n\t\tthis.border = [];\r\n\t\t\r\n\t\t/***********************************************************\r\n\t\tmiscellaneous\r\n\t\t***********************************************************/\r\n\t\tthis.buttons_total = 7;\r\n\t\tthis.cButtId = 0;\r\n\t\tthis.pan_speed;\r\n\t\tthis.auto_timer;\r\n\t\tthis.ani_timer;\r\n\t\tthis.ani_end;\r\n\t\tthis.focusSpeed = this.reduction = .5;\r\n\t\tthis.orig_style;\t\t\r\n\t\tthis.mapAreas;\r\n\t\tthis.icons;\t\t\r\n\t\tthis.show_at_zoom;\t\t\r\n\t\tthis.assetsLoaded = false;\t\r\n\t\tthis.zStep = 0;\t\r\n\t\tthis.sRed = 300;\r\n\t\tthis.use3D = op.use_3D_Transform && supportsTrans3D;\r\n\t\t\r\n\t\t// Set events to support pointer / touch / mouse \t\t\t\r\n\t\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\t\t\t\r\n\t\t\t//Pointer\t\t\t\t\r\n\t\t\tif (navigator.pointerEnabled) {\r\n\t\t\t\tthis.pointerDown = 'pointerdown';\r\n\t\t\t\tthis.pointerUp = 'pointerup';\r\n\t\t\t\tthis.pointerMove = 'pointermove';\r\n\t\t\t\t\r\n\t\t\t} else if (navigator.msPointerEnabled) {\r\n\t\t\t\tthis.pointerDown = 'MSPointerDown';\r\n\t\t\t\tthis.pointerUp = 'MSPointerUp';\r\n\t\t\t\tthis.pointerMove = 'MSPointerMove';\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tthis.event_down = this.pointerDown+ '.sz';\r\n\t\t\tthis.event_up \t= this.pointerUp+ '.sz';\r\n\t\t\tthis.event_move = this.pointerMove+ '.sz';\r\n\t\t\t\r\n\t\t\tthis.supportsPointer = true;\t\r\n\t\t\tthis.pointers = [];\t\r\n\t\t\r\n\t\t} else if (this.hasTouch){\t\r\n\t\t\t//Touch\tonly\t\r\n\t\t\tthis.event_down = 'touchstart'+ '.sz';\r\n\t\t\tthis.event_up \t= 'touchend'+ '.sz';\r\n\t\t\tthis.event_move = 'touchmove'+ '.sz';\r\n\t\t\r\n\t\t} else {\r\n\t\t\t//Mouse only\r\n\t\t\tthis.event_down = 'mousedown'+ '.sz';\r\n\t\t\tthis.event_up \t= 'mouseup'+ '.sz';\r\n\t\t\tthis.event_move = 'mousemove'+ '.sz';\r\n\t\t}\r\n\t\r\n\t\t//Case 1: Image specificed (possibly) through img tag:\r\n\t\tif (this.image_url == '') {\r\n\t\t\tthis.$image = $elem;\r\n\t\t\tthis.id = this.$image.attr('id');\r\n\t\t\r\n\t\t//Case 2: Image url specificed through parameter:\r\n\t\t} else {\r\n\t\t\tvar img = new Image();\r\n\t\t\tif (this.image_width) {\r\n\t\t\t\timg.width = this.image_width;\r\n\t\t\t}\r\n\t\t\tif (this.image_height) {\r\n\t\t\t\timg.height = this.image_height;\r\n\t\t\t}\r\n\t\t\timg.src = this.image_url;\t\t\t\r\n\t\t\tthis.$image = $(img).appendTo($elem);\r\n\t\t\tthis.id = Math.floor((Math.random() * 10000) + 1);\r\n\t\t}\t\t\r\n\t\t\r\n\t\t\r\n\t\t//Prepare container div (Basically the element that masks image with overflow hidden)\r\n\t\tthis.setContainer();\t\r\n\t\t\r\n\t\t//Get button icon image's url\r\n\t\tvar testOb;\r\n\t\tif (!this.bu_icon) {\r\n\t\t\tvar regx=/url\\([\"']?([^'\")]+)['\"]?\\)/;\r\n\t\t\ttestOb = $('<div class=\"smooth_zoom_icons\"></div>');\r\n\t\t\tthis.$holder.append(testOb);\r\n\t\t\tthis.bu_icon = testOb.css(\"background-image\").replace(regx,'$1');\r\n\t\t\tif (this.bu_icon == 'none') {\r\n\t\t\t\tthis.bu_icon = 'zoom_assets/icons.png';\r\n\t\t\t}\r\n\t\t\ttestOb.remove();\r\n\t\t}\t\t\r\n\t\t\r\n\t\t//Firefox feature checkup\r\n\t\tif (this.$image.css('-moz-transform') && prop_transform) {\r\n\t\t\ttestOb = $('<div style=\"-moz-transform: translate(1px, 1px)\"></div>');\r\n\t\t\tthis.$holder.append(testOb);\r\n\t\t\tthis.fixMoz = testOb.position().left === 1 ? false : true;\r\n\t\t\ttestOb.remove();\t\r\n\t\t} else {\r\n\t\t\tthis.fixMoz = false;\r\n\t\t}\t\t\r\n\t\t\r\n\t\t//Preload icons and main image.\t\r\n\t\tthis.$image.hide();\t\r\n\t\tthis.imgList = [\r\n\t\t\t{loaded: false, src: this.bu_icon || 'zoom_assets/icons.png'}, //Icon image\r\n\t\t\t{loaded: false, src: this.image_url == ''? this.$image.attr('src') : this.image_url} // Main image\r\n\t\t];\r\n\t\t\r\n\t\t$.each(this.imgList, function (i){\r\n\t\t\tvar _img = new Image();\t\r\n\t\t\t$(_img) .bind('load', {id:i, self: self}, self.loadComplete)\r\n\t\t\t\t\t.bind('error', {id:i, self: self}, self.loadComplete); //Allow initiation even if image is not there :(\r\n\t\t\t_img.src = self.imgList[i].src;\t\r\n\t\t});\r\n\t\t\r\n\t}\r\n\r\n\tZoomer.prototype = {\r\n\t\t\r\n\t\t/*Preload the icon and main image\r\n\t\t*********************************************************************************************************************/\r\n\t\tloadComplete: function (e) {\r\n\t\t\tvar self = e.data.self,\r\n\t\t\t\tcomplete = true;\r\n\t\t\t\r\n\t\t\tself.imgList[e.data.id].loaded = true;\t\t\t\t\t\r\n\t\t\tfor (var j=0; j<self.imgList.length; j++){\t\t\t\t\r\n\t\t\t\tif (!self.imgList[j].loaded) {\r\n\t\t\t\t\tcomplete = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (complete) {\r\n\t\t\t\tself.assetsLoaded = true;\t\t\t\t\r\n\t\t\t\tif (self.onLOAD !== '') {\r\n\t\t\t\t\tself.onLOAD ();\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t//Assets loaded, initiate plugin\r\n\t\t\t\tself.init();\r\n\t\t\t}\r\n\t\t},\t\r\n\t\t\r\n\t\t\r\n\t\t/*Make sure the device has touch screen support\r\n\t\t*********************************************************************************************************************/\r\n\t\tcheckTouchSupport: function (){\r\n\t\t\tvar touch = 'ontouchstart' in window || 'createTouch' in document;\t\t\t\t\t\r\n\t\t\tif (navigator.pointerEnabled) {\r\n\t\t\t\ttouch =  Boolean(touch || navigator.maxTouchPoints);\r\n\t\t\t} else if (navigator.msPointerEnabled) {\r\n\t\t\t\ttouch = Boolean(touch || navigator.msMaxTouchPoints);\r\n\t\t\t}\t\t\r\n\t\t\treturn touch;\r\n\t\t},\r\n\r\n\t\t\r\n\t\t/*Initiate after assets loaded\r\n\t\t***********************************************************************************************************************/\r\n\t\tinit: function () {\r\n\t\t\tvar self = this,\r\n\t\t\t\t$image = self.$image,\r\n\t\t\t\tsW = self.sW,\r\n\t\t\t\tsH = self.sH,\r\n\t\t\t\tcontainer = self.container,\t\r\n\t\t\t\tcBW, cBH, pan_show = self.pan_show,\r\n\t\t\t\tzoom_show = self.zoom_show,\r\n\t\t\t\t$controls = self.$controls,\r\n\t\t\t\tbuttons = self.buttons,\r\n\t\t\t\tcFlag = self.cFlag,\r\n\t\t\t\tbu_align = self.bu_align,\r\n\t\t\t\tbu_margin = self.bu_margin,\r\n\t\t\t\t$holder = self.$holder;\r\n\r\n\t\t\t//Store the default image properties so that it can be reverted back when plugin needs to be destroyed\r\n\t\t\tself.orig_style = self.getStyle();\r\n\r\n\t\t\t//IE 6 Image tool bar disabled\r\n\t\t\t$image.attr('galleryimg', 'no');\r\n\t\t\t\r\n\t\t\tif (!navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)) {\r\n\t\t\t\t$image.removeAttr('width');\r\n\t\t\t\t$image.removeAttr('height');\r\n\t\t\t}\t\t\r\n\r\n\t\t\t//In case parent element's display property set to 'none', we need to first set them 'block', measure the width and height and then set them back to 'none'\r\n\t\t\tvar temp = $image,\r\n\t\t\tdispArray = [];\r\n\t\t\tfor (var i = 0; i<5; i++) {\t\t\t\t\r\n\t\t\t\tif (temp && temp[0].tagName !== 'BODY' && temp[0].tagName !== 'HTML'){\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif (temp.css('display') == 'none') {\r\n\t\t\t\t\t\ttemp.css('display', 'block');\r\n\t\t\t\t\t\tdispArray.push(temp);\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttemp = temp.parent();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\r\n\t\t\tself.iW = $image.width();\r\n\t\t\tself.iH = $image.height();\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i< dispArray.length; i++) {\r\n\t\t\t\tdispArray[i].css('display', 'none');\r\n\t\t\t}\r\n\r\n\t\t\t//Initially the image needs to be resized to fit container. To do so, first measure the scaledown ratio\t\r\n\t\t\tself.rF = self.rR = self.checkRatio(sW, sH, self.iW, self.iH, self.zoom_fit);\r\n\r\n\t\t\t//If NO Minimum zoom value set\r\n\t\t\tif (self.zoom_min == 0 || self.init_zoom != 0) {\t\t\t\r\n\t\t\t\tif (self.init_zoom != '') {\r\n\t\t\t\t\tself.rA = self._sc = self.init_zoom;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.rA = self._sc = self.rF;\r\n\t\t\t\t}\t\r\n\t\t\t\tif (self.zoom_min != 0) {\r\n\t\t\t\t\tself.rF = self.zoom_min;\r\n\t\t\t\t\tif (self.reset_to_zmin) {\r\n\t\t\t\t\t\tself.rR = self.zoom_min\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t//If Minimum zoom value set\r\n\t\t\t} else {\t\t\t\t\r\n\t\t\t\tif (self.rF < self.zoom_min) {\r\n\t\t\t\t\tself.rF = self.zoom_min;\r\n\t\t\t\t\tif (self.reset_to_zmin) {\r\n\t\t\t\t\t\tself.rR = self.zoom_min\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.rA = self._sc = self.zoom_min;\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.rA = self._sc = self.rR;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t//Width and Height to be applied to the image\r\n\t\t\tself._w = self._sc * self.iW;\r\n\t\t\tself._h = self._sc * self.iH;\r\n\r\n\t\t\t//Resize the image and position it centered inside the wrapper\r\n\t\t\tif (self.init_pos == '') {\r\n\t\t\t\tself._x = self.tX = (sW - self._w) / 2;\r\n\t\t\t\tself._y = self.tY = (sH - self._h) / 2;\r\n\t\t\t} else {\r\n\t\t\t\tself._x = self.tX = (sW / 2) - parseInt(self.init_pos[0]) * self._sc;\r\n\t\t\t\tself._y = self.tY = (sH / 2) - parseInt(self.init_pos[1]) * self._sc;\r\n\t\t\t\tself.oX = (self.tX - ((sW - self._w) / 2)) / (self._w / sW);\r\n\t\t\t\tself.oY = (self.tY - ((sH - self._h) / 2)) / (self._h / sH);\r\n\t\t\t}\r\n\r\n\t\t\tif ((!self.pan_limit || self._moveCursor || self.init_zoom != self.rF) && self.mouse_drag) {\t\t\t\t\r\n\t\t\t\t $image.css('cursor', 'move');\r\n\t\t\t\t self.$hitArea.css('cursor', 'move');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (prop_transform) {\t\r\n\t\t\t\tself.$image.css(prop_origin, '0 0');\r\n\t\t\t}\r\n\t\t\tif (self.use3D) {\r\n\t\t\t\t$image.css({\t\t\t\t\r\n\t\t\t\t\t'-webkit-backface-visibility': 'hidden',\r\n\t\t\t\t\t'-webkit-perspective': 1000\r\n\t\t\t\t});\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\t//Start displaying the image\t\t\r\n\t\t\t$image.css({\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t'z-index': 2,\r\n\t\t\t\t\tleft: '0px',\r\n\t\t\t\t\ttop: '0px',\r\n\t\t\t\t\t'-webkit-box-shadow': '1px 1px rgba(0,0,0,0)'\r\n\t\t\t\t})\r\n\t\t\t\t.hide()\r\n\t\t\t\t.fadeIn(500, function () {\r\n\t\t\t\t\t$holder.css('background-image', 'none');\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t//Create Control buttons and events\t\t\t\t\r\n\t\t\tvar self = self,\r\n\t\t\t\tbs = self.bu_size,\r\n\t\t\t\tiSize = 50,\r\n\t\t\t\tsDiff = 2,\r\n\t\t\t\tbSpace = 3,\r\n\t\t\t\tmSize = Math.ceil(self.bu_size / 4),\r\n\t\t\t\ticonOff = bs < 16 ? 50 : 0,\r\n\t\t\t\tbsDiff = bs - sDiff;\r\n\r\n\t\t\t//Show all buttons\t\t\r\n\t\t\tif (pan_show) {\r\n\t\t\t\tif (zoom_show) {\r\n\t\t\t\t\tcBW = parseInt(bs + (bs * .85) + (bsDiff * 3) + (bSpace * 2) + (mSize * 2));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcBW = parseInt((bsDiff * 3) + (bSpace * 2) + (mSize * 2));\r\n\t\t\t\t}\r\n\t\t\t\tcBH = parseInt((bsDiff * 3) + (bSpace * 2) + (mSize * 2));\r\n\r\n\t\t\t\t//Show zoom buttons only\t\t\r\n\t\t\t} else {\r\n\t\t\t\tif (zoom_show) {\r\n\t\t\t\t\tcBW = parseInt(bs + mSize * 2);\r\n\t\t\t\t\tcBH = parseInt(bs * 2 + mSize * 3);\r\n\t\t\t\t\tcBW = parseInt(cBW / 2) * 2;\r\n\t\t\t\t\tcBH = parseInt(cBH / 2) * 2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcBW = 0;\r\n\t\t\t\t\tcBH = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar pOff = (iSize - bs) / 2,\r\n\t\t\t\tresetCenterX = cBW - ((bs - (pan_show ? sDiff : 0)) * 2) - mSize - bSpace,\r\n\t\t\t\tresetCenterY = (cBH / 2) - ((bs - (pan_show ? sDiff : 0)) / 2);\r\n\r\n\t\t\tvar hProp, vProp, hVal, vVal;\r\n\t\t\t//Align button set as per settings\r\n\t\t\tif (bu_align[0] == 'top') {\r\n\t\t\t\tvProp = 'top';\r\n\t\t\t\tvVal = bu_margin;\r\n\t\t\t} else if (bu_align[0] == 'center') {\r\n\t\t\t\tvProp = 'top';\r\n\t\t\t\tvVal = parseInt((sH - cBH) / 2);\r\n\t\t\t} else {\r\n\t\t\t\tvProp = 'bottom';\r\n\t\t\t\tvVal = bu_margin;\r\n\t\t\t}\r\n\t\t\tif (bu_align[1] == 'right') {\r\n\t\t\t\thProp = 'right';\r\n\t\t\t\thVal = bu_margin;\r\n\t\t\t} else if (bu_align[1] == 'center') {\r\n\t\t\t\thProp = 'right';\r\n\t\t\t\thVal = parseInt((sW - cBW) / 2);\r\n\t\t\t} else {\r\n\t\t\t\thProp = 'left';\r\n\t\t\t\thVal = bu_margin;\r\n\t\t\t}\r\n\r\n\t\t\t//Buttons Container\t\t\r\n\t\t\t$controls = $(\r\n\t\t\t\t'<div style=\"position: absolute; ' + hProp + ':' + hVal + 'px; ' + vProp + ': ' + vVal + 'px; width: ' + cBW + 'px; height: ' + cBH + 'px; z-index: 20;\" class=\"noSel\">\\\r\n\t\t\t\t\t<div class=\"noSel controlsBg\" style=\"position: relative; width: 100%; height: 100%; z-index: 1;\">\\\r\n\t\t\t\t\t</div>\\\r\n\t\t\t\t</div>'\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\t$holder.append($controls);\r\n\t\t\tvar $controlsBg = $controls.find('.controlsBg');\r\n\t\t\t\r\n\t\t\t//Make the corners rounded\r\n\t\t\tif (self.bu_round) {\r\n\t\t\t\tif (prop_radius) {\t\t\t\t\t\r\n\t\t\t\t\t$controlsBg\r\n\t\t\t\t\t\t.css(prop_radius, (iconOff > 0 ? 4 : 5) + 'px')\r\n\t\t\t\t\t\t.css('background-color', self.bu_bg);\r\n\t\t\t\t} else {\t\t\t\t\r\n\t\t\t\t\tself.roundBG(\r\n\t\t\t\t\t\t$controlsBg,\r\n\t\t\t\t\t\t'cBg',\r\n\t\t\t\t\t\tcBW,\r\n\t\t\t\t\t\tcBH,\r\n\t\t\t\t\t\ticonOff > 0 ? 4 : 5,\r\n\t\t\t\t\t\t375,\r\n\t\t\t\t\t\tself.bu_bg,\r\n\t\t\t\t\t\tself.bu_icon,\r\n\t\t\t\t\t\t1, \r\n\t\t\t\t\t\ticonOff ? 50 : 0\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t$controlsBg.css('background-color', self.bu_bg);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$controlsBg.css('opacity', self.bu_bg_alpha);\r\n\t\t\t\r\n\t\t\t//Generating Button properties\t(7 buttons)\t\t\t\r\n\t\t\tbuttons[0] = {\r\n\t\t\t\t_var: '_zi',\r\n\t\t\t\tl: mSize,\r\n\t\t\t\tt: pan_show ? (cBH - (bs * 2) - (bSpace * 2) + 2) / 2 : mSize,\r\n\t\t\t\tw: bs,\r\n\t\t\t\th: bs,\r\n\t\t\t\tbx: -pOff,\r\n\t\t\t\tby: -pOff - iconOff\r\n\t\t\t};\r\n\r\n\t\t\tbuttons[1] = {\r\n\t\t\t\t_var: '_zo',\r\n\t\t\t\tl: mSize,\r\n\t\t\t\tt: pan_show ? ((cBH - (bs * 2) - (bSpace * 2) + 2) / 2) + bs + (bSpace * 2) - 2 : cBH - bs - mSize,\r\n\t\t\t\tw: bs,\r\n\t\t\t\th: bs,\r\n\t\t\t\tbx: -iSize - pOff,\r\n\t\t\t\tby: -pOff - iconOff\r\n\t\t\t};\r\n\r\n\t\t\tbuttons[2] = {\r\n\t\t\t\t_var: self.pan_rev? '_ml' : '_mr',\r\n\t\t\t\tl: resetCenterX - bsDiff - bSpace,\r\n\t\t\t\tt: resetCenterY,\r\n\t\t\t\tw: bsDiff,\r\n\t\t\t\th: bsDiff,\r\n\t\t\t\tbx: -(sDiff / 2) - iSize * 2 - pOff,\r\n\t\t\t\tby: -(sDiff / 2) - pOff - iconOff\r\n\t\t\t};\r\n\r\n\t\t\tbuttons[3] = {\r\n\t\t\t\t_var: self.pan_rev? '_mr' : '_ml',\r\n\t\t\t\tl: resetCenterX + bsDiff + bSpace,\r\n\t\t\t\tt: resetCenterY,\r\n\t\t\t\tw: bsDiff,\r\n\t\t\t\th: bsDiff,\r\n\t\t\t\tbx: -(sDiff / 2) - iSize * 3 - pOff,\r\n\t\t\t\tby: -(sDiff / 2) - pOff - iconOff\r\n\t\t\t};\r\n\r\n\t\t\tbuttons[4] = {\r\n\t\t\t\t_var: self.pan_rev? '_md' : '_mu',\r\n\t\t\t\tl: resetCenterX,\r\n\t\t\t\tt: resetCenterY + bsDiff + bSpace,\r\n\t\t\t\tw: bsDiff,\r\n\t\t\t\th: bsDiff,\r\n\t\t\t\tbx: -(sDiff / 2) - iSize * 4 - pOff,\r\n\t\t\t\tby: -(sDiff / 2) - pOff - iconOff\r\n\t\t\t};\r\n\r\n\t\t\tbuttons[5] = {\r\n\t\t\t\t_var: self.pan_rev? '_mu' : '_md',\r\n\t\t\t\tl: resetCenterX,\r\n\t\t\t\tt: resetCenterY - bsDiff - bSpace,\r\n\t\t\t\tw: bsDiff,\r\n\t\t\t\th: bsDiff,\r\n\t\t\t\tbx: -(sDiff / 2) - iSize * 5 - pOff,\r\n\t\t\t\tby: -(sDiff / 2) - pOff - iconOff\r\n\t\t\t};\r\n\r\n\t\t\tbuttons[6] = {\r\n\t\t\t\t_var: '_rs',\r\n\t\t\t\tl: resetCenterX,\r\n\t\t\t\tt: resetCenterY,\r\n\t\t\t\tw: bsDiff,\r\n\t\t\t\th: bsDiff,\r\n\t\t\t\tbx: -(sDiff / 2) - iSize * 6 - pOff,\r\n\t\t\t\tby: -(sDiff / 2) - pOff - iconOff\r\n\t\t\t};\r\n\r\n\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\tbuttons[i].$ob = $(\r\n\t\t\t\t\t\t'<div style=\"position: absolute; display: ' + (i < 2 ? zoom_show ? 'block' : 'none' : pan_show ? 'block' : 'none') + '; left: ' + (buttons[i].l - 1) + 'px; top: ' + (buttons[i].t - 1) + 'px; width: ' + (buttons[i].w + 2) + 'px; height: ' + (buttons[i].h + 2) + 'px; z-index:' + (i + 1) + ';\" class=\"noSel\">\\\r\n\t\t\t\t\t\t</div>'\r\n\t\t\t\t\t)\r\n\t\t\t\t.css('opacity', .7)\r\n\t\t\t\t.bind('mouseover.sz mouseout.sz '+self.event_down, {\r\n\t\t\t\t\tid: i\r\n\t\t\t\t\t\r\n\t\t\t\t}, function (e) {\r\n\t\t\t\t\tself._onfocus = false;\r\n\t\t\t\t\tvar $this = $(this);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Button over \r\n\t\t\t\t\tif (e.type == 'mouseover') {\r\n\t\t\t\t\t\tif ($this.css('opacity') > .5){\r\n\t\t\t\t\t\t\t $this.css('opacity', 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Button out \r\n\t\t\t\t\t} else if (e.type == 'mouseout') {\r\n\t\t\t\t\t\tif ($this.css('opacity') > .5) {\r\n\t\t\t\t\t\t\t$this.css('opacity', .7);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Button press/down\r\n\t\t\t\t\t} else if (e.type == 'mousedown' || e.type == 'touchstart' || e.type == self.pointerDown) {\r\n\t\t\t\t\t\tself.cButtId = e.data.id;\r\n\t\t\t\t\t\tself._onButton = true;\r\n\t\t\t\t\t\tself._wheel = false;\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//If NOT already down..\r\n\t\t\t\t\t\tif ($this.css('opacity') > .5) {\r\n\t\t\t\t\t\t\t$this.css('opacity', 1);\r\n\t\t\t\t\t\t\t$holder.find('#' + buttons[self.cButtId]._var + 'norm').hide();\r\n\t\t\t\t\t\t\t$holder.find('#' + buttons[self.cButtId]._var + 'over').show();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//CASE 1: If zoomIn pressed and single step zoom enabled\r\n\t\t\t\t\t\t\tif (self.cButtId <= 1 && self.zoom_single){\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (!cFlag[buttons[self.cButtId]._var]) {\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tself.sRed = 300;\r\n\t\t\t\t\t\t\t\t\tcFlag[buttons[self.cButtId]._var] = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//CASE 2: If any button except RESET pressed\r\n\t\t\t\t\t\t\t} else if (self.cButtId <6) {\r\n\t\t\t\t\t\t\t\tcFlag[buttons[self.cButtId]._var] = true;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//CASE 3: RESET pressed\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcFlag._rs = true;\r\n\t\t\t\t\t\t\t\tself.rA = self.rR;\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (self.reset_align[0] == 'top') {\r\n\t\t\t\t\t\t\t\t\tself.fY = (self.sH/2)*(self.rA/2);\r\n\t\t\t\t\t\t\t\t} else if (self.reset_align[0] == 'bottom') {\r\n\t\t\t\t\t\t\t\t\tself.fY = -(self.sH/2)*(self.rA/2);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tself.fY = 0;\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (self.reset_align[1] == 'left') {\r\n\t\t\t\t\t\t\t\t\tself.fX = (self.sW/2)*(self.rA/2);\r\n\t\t\t\t\t\t\t\t} else if (self.reset_align[1] == 'right') {\r\n\t\t\t\t\t\t\t\t\tself.fX = -(self.sW/2)*(self.rA/2);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tself.fX = 0;\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tself.focusOffX = self.focusOffY = 0;\r\n\t\t\t\t\t\t\tself.changeOffset(true, true);\r\n\t\t\t\t\t\t\tif(!self._playing) {\r\n\t\t\t\t\t\t\t\tself.Animate();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.stopPropagation();\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//Make 2 BGs for Button Normal and Over state\r\n\t\t\t\t//Button BG normal\r\n\t\t\t\tvar tpm = $(\r\n\t\t\t\t\t'<div id=\"' + buttons[i]._var + 'norm\" style=\"position: absolute; left: 1px; top: 1px; width: ' + buttons[i].w + 'px; height: ' + buttons[i].h + 'px; '+(prop_radius || !self.bu_round ? 'background:'+self.bu_color : '')+'\">\\\r\n\t\t\t\t\t</div>'\r\n\t\t\t\t);\r\n\r\n\t\t\t\t//Button BG hover\r\n\t\t\t\tvar tpmo = $(\r\n\t\t\t\t\t'<div id=\"' + buttons[i]._var + 'over\" style=\"position: absolute; left: 0px; top: 0px; width: ' + (buttons[i].w + 2) + 'px; height: ' + (buttons[i].h + 2) + 'px; display: none; '+(prop_radius || !self.bu_round ? 'background:'+self.bu_color : '')+'\">\\\r\n\t\t\t\t\t</div>'\r\n\t\t\t\t);\r\n\r\n\t\t\t\t//Add the button icons\r\n\t\t\t\tvar cont = $(\r\n\t\t\t\t\t'<div id=\"' + buttons[i]._var + '_icon\" style=\"position: absolute; left: 1px; top: 1px; width: ' + buttons[i].w + 'px; height: ' + buttons[i].h + 'px; background: transparent url(' + self.bu_icon + ') ' + buttons[i].bx + 'px ' + buttons[i].by + 'px no-repeat;\" >\\\r\n\t\t\t\t\t</div>'\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\tbuttons[i].$ob.append(tpm, tpmo, cont);\r\n\t\t\t\t$controls.append(buttons[i].$ob);\r\n\r\n\t\t\t\t//Apply corner radius\r\n\t\t\t\tif (self.bu_round) {\r\n\t\t\t\t\tif (prop_radius) {\t\t\t\t\t\t\r\n\t\t\t\t\t\ttpm.css(prop_radius , '2px');\t\t\t\t\r\n\t\t\t\t\t\ttpmo.css(prop_radius , '2px');\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.roundBG(\r\n\t\t\t\t\t\t\ttpm,\r\n\t\t\t\t\t\t\tbuttons[i]._var + \"norm\",\r\n\t\t\t\t\t\t\tbuttons[i].w,\r\n\t\t\t\t\t\t\tbuttons[i].h,\r\n\t\t\t\t\t\t\t2,\r\n\t\t\t\t\t\t\t425,\r\n\t\t\t\t\t\t\tself.bu_color,\r\n\t\t\t\t\t\t\tself.bu_icon,\r\n\t\t\t\t\t\t\ti + 1,\r\n\t\t\t\t\t\t\ticonOff ? 50 : 0\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tself.roundBG(\r\n\t\t\t\t\t\t\ttpmo,\r\n\t\t\t\t\t\t\tbuttons[i]._var + \"over\",\r\n\t\t\t\t\t\t\tbuttons[i].w + 2,\r\n\t\t\t\t\t\t\tbuttons[i].h + 2,\r\n\t\t\t\t\t\t\t2,\r\n\t\t\t\t\t\t\t425,\r\n\t\t\t\t\t\t\tself.bu_color,\r\n\t\t\t\t\t\t\tself.bu_icon,\r\n\t\t\t\t\t\t\ti + 1,\r\n\t\t\t\t\t\t\ticonOff ? 50 : 0\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Add Events for mouse drag / touch swipe action\r\n\t\t\t$(document).bind(self.event_up + self.id, {self: self}, self.mouseUp);\r\n\t\t\t\r\n\t\t\tif ((self.mouse_drag && !self.hasTouch) || (self.touch_drag && self.hasTouch)) {\t\t\t\t\t\t\r\n\t\t\t\tself.$holder.bind(self.event_down, {self: self}, self.mouseDown);\r\n\t\t\t\tif (self.hasTouch) {\r\n\t\t\t\t\t$(document).bind(self.event_move + self.id, {self: self}, self.mouseDrag);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\t\t\r\n\r\n\t\t\t//Add Double click / Double tap zoom\r\n\t\t\tif (self.mouse_dbl_click) {\r\n\t\t\t\tvar dClickedX,\r\n\t\t\t\t\tdClickedY,\r\n\t\t\t\t\tdbl_click_dir = 1;\r\n\t\t\t\t\t\r\n\t\t\t\tself.$holder.bind('dblclick.sz', function (e) {\t\t\t\t\t\r\n\t\t\t\t\tself.focusOffX = e.pageX - $holder.offset().left - (self.sW / 2);\r\n\t\t\t\t\tself.focusOffY = e.pageY - $holder.offset().top - (self.sH / 2);\r\n\t\t\t\t\tself.changeOffset(true, true);\r\n\t\t\t\t\tself._wheel = false;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (self.rA < self.zoom_max && dbl_click_dir == -1 && dClickedX != self.focusOffX && dClickedY != self.focusOffY) {\r\n\t\t\t\t\t\tdbl_click_dir = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tdClickedX = self.focusOffX;\r\n\t\t\t\t\tdClickedY = self.focusOffY;\r\n\r\n\t\t\t\t\tif (self.rA >= self.zoom_max && dbl_click_dir == 1) {\r\n\t\t\t\t\t\tdbl_click_dir = -1;\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\tif (self.rA <= self.rF && dbl_click_dir == -1) {\r\n\t\t\t\t\t\tdbl_click_dir = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (dbl_click_dir > 0) {\r\n\t\t\t\t\t\tself.rA *= 2;\r\n\t\t\t\t\t\tself.rA = self.rA > self.zoom_max ?  self.zoom_max : self.rA;\r\n\t\t\t\t\t\tcFlag._zi = true;\r\n\t\t\t\t\t\tclearTimeout(self.ani_timer);\r\n\t\t\t\t\t\tself._playing = true;\r\n\t\t\t\t\t\tself.Animate();\r\n\t\t\t\t\t\tcFlag._zi = false;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.rA /= 2;\r\n\t\t\t\t\t\tself.rA =  self.rA < self.rF ? self.rF : self.rA;\r\n\t\t\t\t\t\tcFlag._zo = true;\r\n\t\t\t\t\t\tclearTimeout(self.ani_timer);\r\n\t\t\t\t\t\tself._playing = true;\r\n\t\t\t\t\t\tself.Animate();\r\n\t\t\t\t\t\tcFlag._zo = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\te.preventDefault();\t\t\r\n\t\t\t\t\te.stopPropagation();\t\t\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//Add mouse wheel event if enabled\r\n\t\t\tif (self.mouse_wheel) {\r\n\t\t\t\t $holder.bind('mousewheel.sz', {self: this}, self.mouseWheel);\r\n\t\t\t}\r\n\r\n\t\t\t//Auto Hide the control buttons if enabled\r\n\t\t\tif (self.bu_auto) {\r\n\t\t\t\t$holder.bind('mouseleave.sz', {self: this}, self.autoHide);\r\n\t\t\t}\r\n\r\n\t\t\t//Prevent Controls Bg from start dragging image\r\n\t\t\t$controls.bind(self.event_down, function (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\t\t\t\t\r\n\t\t\t});\r\n\r\n\t\t\t//Prevent Controls Bg from double click zoom\r\n\t\t\tif (self.mouse_dbl_click) {\r\n\t\t\t\t$controls.bind('dblclick.sz', function (e) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\te.stopPropagation();\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//Prevent text selection for smoother dragging and button focus\r\n\t\t\t$('.noSel').each(function () {\r\n\t\t\t\tthis.onselectstart = function () {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tself.$holder = $holder;\r\n\t\t\tself.$controls = $controls;\r\n\t\t\tself.sW = sW;\r\n\t\t\tself.sH = sH;\r\n\t\t\tself.cBW = cBW;\r\n\t\t\tself.cBH = cBH;\r\n\r\n\t\t\t//Apply initial transformation\r\n\t\t\tself.Animate();\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t/*Prepare the container (holder) element and get landmarks if available\r\n\t\t***********************************************************************************************************************/\r\n\t\tsetContainer: function () {\t\t\t\r\n\t\t\tvar self = this,\r\n\t\t\t\t$image = self.$image,\r\n\t\t\t\tbord_size = self.bord_size,\r\n\t\t\t\tborder = self.border,\r\n\t\t\t\t$holder = self.$holder;\r\n\r\n\t\t\t//Wrap a container for image or get the container if specified through options:\r\n\t\t\tif (self.container == '' && self.image_url == '') {\r\n\t\t\t\t$holder = self.$image.wrap(\r\n\t\t\t\t\t'<div class=\"noSel smooth_zoom_preloader\">\\\r\n\t\t\t\t\t</div>'\r\n\t\t\t\t).parent();\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tif (self.image_url == ''){\r\n\t\t\t\t\t$holder = $('#'+self.container);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$holder = self.$elem;\r\n\t\t\t\t}\r\n\t\t\t\t$holder.addClass('noSel smooth_zoom_preloader');\r\n\t\t\t\tself.locations = [];\r\n\t\t\t\tself.$loc_cont = $holder.find('.landmarks');\r\n\t\t\t\tif (self.$loc_cont[0]) {\r\n\t\t\t\t\tvar locs = self.$loc_cont.children('.item');\r\n\t\t\t\t\tself.loc_clone = self.$loc_cont.clone();\r\n\t\t\t\t\tself.show_at_zoom = parseInt(self.$loc_cont.data('show-at-zoom'),10) / 100;\r\n\t\t\t\t\tself.allow_scale = checkBoolean(self.$loc_cont.data('allow-scale'));\r\n\t\t\t\t\tself.allow_drag = checkBoolean(self.$loc_cont.data('allow-drag'));\t\t\t\t\t\r\n\t\t\t\t\tlocs.each(function () {\t\r\n\t\t\t\t\t\tself.setLocation($(this));\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t$holder.css({\r\n\t\t\t\t'position': 'relative',\r\n\t\t\t\t'overflow': 'hidden',\r\n\t\t\t\t'text-align': 'left',\r\n\t\t\t\t'-moz-user-select': 'none',\r\n\t\t\t\t'-khtml-user-select': 'none',\r\n\t\t\t\t'-webkit-user-select': 'none',\r\n\t\t\t\t'user-select': 'none',\t\t\t\t\t\r\n\t\t\t\t'-webkit-touch-callout': 'none',\r\n\t\t\t\t'-ms-touch-action': 'none',\r\n\t\t\t\t'-webkit-tap-highlight-color': 'rgba(255, 255, 255, 0)', \r\n\t\t\t\t'background-color': self.bg_color,\r\n\t\t\t\t'background-position': 'center center',\r\n\t\t\t\t'background-repeat': 'no-repeat'\t\t\t\t\r\n\t\t\t})\r\n\r\n\t\t\tself.$hitArea = $('<div style=\"position: absolute; z-index: 1; top: 0px; left: 0px; width: 100%; height: 100%;\" ></div>').appendTo($holder);\r\n\t\t\t\r\n\t\t\tself.getContainerSize(self.sW, self.sH, $holder, self.w_max, self.h_max);\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tif (self.responsive) {\r\n\t\t\t\t$(window).bind(\"orientationchange.sz\" + self.id+\" resize.sz\" + self.id, {self: self}, self.resize);\r\n\t\t\t}\r\n\t\t\tvar sW = self.sW;\r\n\t\t\tvar sH = self.sH;\t\r\n\r\n\t\t\t//Add Image container properties\t\t\t\r\n\t\t\t$holder.css({\r\n\t\t\t\t'width': sW,\r\n\t\t\t\t'height': sH\r\n\t\t\t});\r\n\r\n\t\t\t//Add border if needed\r\n\t\t\tif (bord_size > 0) {\r\n\t\t\t\tborder[0] = $('<div style=\"position: absolute;\twidth: ' + bord_size + 'px; height: ' + sH + 'px;\ttop: 0px; left: 0px; z-index: 3; background-color: ' + self.bord_color + ';\"></div>').css('opacity', self.bord_alpha);\r\n\t\t\t\tborder[1] = $('<div style=\"position: absolute;\twidth: ' + bord_size + 'px; height: ' + sH + 'px;\ttop: 0px; left: ' + (sW - bord_size) + 'px; z-index: 4; background-color: ' + self.bord_color + ';\"></div>').css('opacity', self.bord_alpha);\r\n\t\t\t\tborder[2] = $('<div style=\"position: absolute;\twidth: ' + (sW - (bord_size * 2)) + 'px; height: ' + bord_size + 'px; top: 0px; left: ' + bord_size + 'px; z-index: 5; background-color: ' + self.bord_color + '; line-height: 1px;\"></div>').css('opacity', self.bord_alpha);\r\n\t\t\t\tborder[3] = $('<div style=\"position: absolute;\twidth: ' + (sW - (bord_size * 2)) + 'px; height: ' + bord_size + 'px; top: ' + (sH - bord_size) + 'px; left: ' + bord_size + 'px; z-index: 6; background-color: ' + self.bord_color + '; line-height: 1px;\"></div>').css('opacity', self.bord_alpha);\r\n\t\t\t\t$holder.append(border[0], border[1], border[2], border[3]);\r\n\t\t\t}\r\n\r\n\t\t\t//Get Image maps if exists\r\n\t\t\tif ($image.attr('usemap') != undefined) {\r\n\t\t\t\tself.mapAreas = $(\"map[name='\" + ($image.attr('usemap').split('#').join('')) + \"']\").children('area');\r\n\t\t\t\tself.mapAreas.each(function (i) {\t\t\t\t\t\r\n\t\t\t\t\tvar area = $(this);\r\n\t\t\t\t\tarea.css('cursor', 'pointer');\r\n\t\t\t\t\tif (self.mouse_drag) {\r\n\t\t\t\t\t\tarea.bind(self.event_down, {self: self}, self.mouseDown);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self.mouse_wheel) {\r\n\t\t\t\t\t\tarea.bind('mousewheel.sz', {self: self}, self.mouseWheel);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.map_coordinates.push(area.attr('coords').split(','));\r\n\t\t\t\t});\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\tself.$holder = $holder;\r\n\t\t\tself.sW = sW;\r\n\t\t\tself.sH = sH;\r\n\t\t},\r\n\t\t\r\n\t\tgetContainerSize: function (sW, sH, $holder, w_max, h_max){\r\n\t\t\tif (sW === '' || sW === 0) {\t\t\t\t\r\n\t\t\t\tif (this.image_url == '') {\t\t\t\t\t\r\n\t\t\t\t\tsW = Math.max($holder.parent().width(), 100);\r\n\t\t\t\t} else {\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tsW = Math.max($holder.width(), 100);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} else if (!isNaN(sW) || String(sW).indexOf('px') > -1) {\r\n\t\t\t\tsW = this.oW = parseInt(sW);\r\n\t\t\t\tif (this.responsive) {\r\n\t\t\t\t\tsW = Math.min($holder.parent().width(), sW);\r\n\t\t\t\t}\r\n\t\t\t} else if (String(sW).indexOf('%') > -1) {\r\n\t\t\t\tsW = $holder.parent().width() * (sW.split('%')[0] / 100);\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsW = 100;\r\n\t\t\t}\r\n\t\t\tif (w_max !== 0 && w_max !== '') {\r\n\t\t\t\tsW = Math.min(sW, w_max);\r\n\t\t\t}\r\n\t\t\tif (sH === '' || sH === 0) {\r\n\t\t\t\tif (this.image_url == '') {\t\t\t\t\r\n\t\t\t\t\tsH = Math.max($holder.parent().height(), 100);\r\n\t\t\t\t} else {\t\t\t\t\t\r\n\t\t\t\t\tsH = Math.max($holder.height(), 100);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t} else if (!isNaN(sH) || String(sH).indexOf('px') > -1) {\r\n\t\t\t\tsH = this.oH = parseInt(sH);\r\n\t\t\r\n\t\t\t} else if (String(sH).indexOf('%') > -1) {\r\n\t\t\t\tsH = $holder.parent().height() * (sH.split('%')[0] / 100);\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsH = 100;\r\n\t\t\t}\r\n\t\t\tif (h_max !== 0 && h_max !== '') {\r\n\t\t\t\tsH = Math.min(sH, h_max);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.oW && sW !== this.oW) {\t\t\t\t\r\n\t\t\t\tif (this.oH && this.maintain_ratio) {\t\t\t\t\r\n\t\t\t\t\tsH = sW/(this.oW/this.oH);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t\t\r\n\t\t\tthis.sW = sW;\r\n\t\t\tthis.sH = sH;\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t/*Each landmark / location / lable initiated here\r\n\t\t***********************************************************************************************************************/\r\n\t\tsetLocation: function (lc){\r\n\t\t\tvar self = this,\r\n\t\t\t\tob = lc,\r\n\t\t\t\tw2, h2, pos, sc;\r\n\t\t\t\r\n\t\t\tif (prop_origin) {\r\n\t\t\t\tob.css(prop_origin, '0 0');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tob.css({\r\n\t\t\t\t'display': 'block',\r\n\t\t\t\t'z-index': 2\t\t\t\t\t\r\n\t\t\t})\t\t\t\t\r\n\t\t\tif (self.use3D) {\r\n\t\t\t\tob.css({\t\t\t\r\n\t\t\t\t\t'-webkit-backface-visibility': 'hidden',\r\n\t\t\t\t\t'-webkit-perspective': 1000\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\tw2 = ob.outerWidth() / 2;\r\n\t\t\th2 = ob.outerHeight() / 2;\r\n\t\t\tpos = ob.data('position').split(',');\t\r\n\t\t\tsc = ob.data('allow-scale');\r\n\t\t\tif (sc == undefined) {\r\n\t\t\t\tsc = self.allow_scale;\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsc = checkBoolean(sc);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (ob.hasClass('mark')) {\r\n\t\t\t\tvar imgw = ob.find('img').css('vertical-align', 'bottom').width();\r\n\t\t\t\t$(ob.children()[0]).css({\r\n\t\t\t\t\t'position': 'absolute',\r\n\t\t\t\t\t'left': (-ob.width()/2),\r\n\t\t\t\t\t'bottom': parseInt(ob.css('padding-bottom'))*2\r\n\t\t\t\t});\t\r\n\t\t\t\tvar txt = ob.find('.text');\t\t\t\t\t\r\n\t\t\t\tself.locations.push({\r\n\t\t\t\t\tob: ob,\r\n\t\t\t\t\tx: parseInt(pos[0]),\r\n\t\t\t\t\ty: parseInt(pos[1]),\r\n\t\t\t\t\tw2: w2,\r\n\t\t\t\t\th2: h2,\r\n\t\t\t\t\tw2pad: w2+(txt[0] ? parseInt(txt.css('padding-left')) : 0),\r\n\t\t\t\t\tvis: false,\r\n\t\t\t\t\tlab: false,\r\n\t\t\t\t\tlpx: '0',\r\n\t\t\t\t\tlpy: '0',\r\n\t\t\t\t\tshowAt: isNaN(ob.data('show-at-zoom'))? self.show_at_zoom : parseInt(ob.data('show-at-zoom'),10) / 100,\r\n\t\t\t\t\tscale: sc\r\n\t\t\t\t});\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} else if (ob.hasClass('lable')){\r\n\t\t\t\tvar bg = ob.data('bg-color'),\r\n\t\t\t\t\topacity = ob.data('bg-opacity'),\t\t\t\t\t\t\r\n\t\t\t\t\tcont = $(ob.eq(0).children()[0])\r\n\t\t\t\t\t\t\t.css({\r\n\t\t\t\t\t\t\t'position': 'absolute',\r\n\t\t\t\t\t\t\t'z-index': 2,\r\n\t\t\t\t\t\t\tleft: -w2, \r\n\t\t\t\t\t\t\ttop: -h2\r\n\t\t\t\t\t\t});\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tself.locations.push({\r\n\t\t\t\t\tob: ob,\r\n\t\t\t\t\tx: parseInt(pos[0]),\r\n\t\t\t\t\ty: parseInt(pos[1]),\r\n\t\t\t\t\tw2: w2,\r\n\t\t\t\t\th2: h2,\r\n\t\t\t\t\tw2pad: w2,\r\n\t\t\t\t\tvis: false,\r\n\t\t\t\t\tlab: true,\r\n\t\t\t\t\tlpx: '0',\r\n\t\t\t\t\tlpy: '0',\r\n\t\t\t\t\tshowAt: isNaN(ob.data('show-at-zoom'))? self.show_at_zoom : parseInt(ob.data('show-at-zoom'),10) / 100,\r\n\t\t\t\t\tscale: sc\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (bg !==\"\") {\r\n\t\t\t\t\tif (!bg) {\r\n\t\t\t\t\t\tbg = \"#000000\";\r\n\t\t\t\t\t\topacity = .7;\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\tvar bgob = $('<div style=\"position: absolute; left: ' + (-w2)+'px; top: ' + (-h2)+'px; width: ' + ((w2-parseInt(cont.css('padding-left'))) * 2) + 'px; height:' + ((h2-parseInt(cont.css('padding-top'))) * 2) + 'px; background-color: ' + bg + ';\"></div>').appendTo(ob);\r\n\t\t\t\t\tif (opacity) {\r\n\t\t\t\t\t\tbgob.css('opacity', opacity);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tob.hide();\r\n\t\t\tif(prop_transform) {\r\n\t\t\t\tob.css('opacity', 0);\r\n\t\t\t}\t\r\n\t\t\tif (!self.allow_drag) {\r\n\t\t\t\tob.bind(self.event_down, function (e) {\t\t\t\t\r\n\t\t\t\t\t//e.preventDefault();\r\n\t\t\t\t\te.stopPropagation();\t\t\t\t\t\r\n\t\t\t\t})\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*Storing the original style of image (needed only when destroying)\r\n\t\t***********************************************************************************************************************/\r\n\t\tgetStyle: function () {\r\n\t\t\tvar el = this.$image;\r\n\t\t\treturn {\r\n\t\t\t\tprop_origin: [prop_origin, prop_origin !== false && prop_origin !== undefined ? el.css(prop_origin) : null],\r\n\t\t\t\tprop_transform: [prop_transform, prop_transform !== false && prop_transform !== undefined ? el.css(prop_transform) : null],\r\n\t\t\t\t'position': ['position', el.css('position')],\r\n\t\t\t\t'z-index': ['z-index', el.css('z-index')],\r\n\t\t\t\t'cursor': ['cursor', el.css('cursor')],\r\n\t\t\t\t'left': ['left', el.css('left')],\r\n\t\t\t\t'top': ['top', el.css('top')],\r\n\t\t\t\t'width': ['width', el.css('width')],\r\n\t\t\t\t'height': ['height', el.css('height')]\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t/*Find the scale ratios\r\n\t\t***********************************************************************************************************************/\r\n\t\tcheckRatio: function (sW, sH, iW, iH, zoom_fit) {\r\n\t\t\tvar rF;\r\n\t\t\tif (iW == sW && iH == sH) {\r\n\t\t\t\trF = 1;\t\t\t\t\r\n\t\t\t} else if (iW < sW && iH < sH) {\r\n\t\t\t\trF = sW / iW;\t\t\t\t\r\n\t\t\t\tif (zoom_fit) {\r\n\t\t\t\t\tif (rF * iH > sH) {\r\n\t\t\t\t\t\trF = sH / iH;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (rF * iH < sH) {\r\n\t\t\t\t\t\trF = sH / iH;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sW / iW !== sH / iH && this.mouse_drag) {\r\n\t\t\t\t\t\tthis._moveCursor = true;\r\n\t\t\t\t\t\tthis.$image.css('cursor', 'move');\r\n\t\t\t\t\t\tthis.$hitArea.css('cursor', 'move');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\trF = sW / iW;\r\n\t\t\t\tif (zoom_fit) {\r\n\t\t\t\t\tif (rF * iH > sH) {\r\n\t\t\t\t\t\trF = sH / iH;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (rF< this.init_zoom && this.mouse_drag) {\r\n\t\t\t\t\t\tthis._moveCursor = true;\r\n\t\t\t\t\t\tthis.$image.css('cursor', 'move');\r\n\t\t\t\t\t\tthis.$hitArea.css('cursor', 'move');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (rF * iH < sH) {\r\n\t\t\t\t\t\trF = sH / iH;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sW / iW !== sH / iH && this.mouse_drag) {\r\n\t\t\t\t\t\tthis._moveCursor = true;\r\n\t\t\t\t\t\tthis.$image.css('cursor', 'move');\r\n\t\t\t\t\t\tthis.$hitArea.css('cursor', 'move');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn rF;\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t/*Returns distance between 2 points (used for touch gesture)\r\n\t\t***********************************************************************************************************************/\r\n\t\tgetDistance: function (x1,y1,x2,y2) {\r\n\t\t\treturn Math.sqrt(Math.abs(((x2-x1)*(x2-x1)) + ((y2-y1)*(y2-y1))));\r\n\t\t},\r\n\t\t\r\n\r\n\t\t/*Image Events for Dragging and Mouse Wheel\r\n\t\t***********************************************************************************************************************/\r\n\t\tmouseDown: function (e) {\r\n\t\t\tvar self = e.data.self,\t\r\n\t\t\tte = e.originalEvent,\r\n\t\t\ttouches, fingers, pointerMouse;\t\r\n\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\t\r\n\t\t\tif (self.cFlag._nd) {\t\t\t\t\r\n\t\t\t\tself._onHitArea = true;\t\t\r\n\t\t\t\tself.samePointRelease = false;\t\t\t\t\r\n\t\t\t\tif (self.fixMoz) {\r\n\t\t\t\t\tself.correctTransValue();\t\r\n\t\t\t\t}\r\n\t\t\t\tif (e.type == self.pointerDown){\t\t\t\t\t\t\r\n\t\t\t\t\tpointerMouse = (te.MSPOINTER_TYPE_MOUSE && te.pointerType === te.MSPOINTER_TYPE_MOUSE) || te.pointerType == 'mouse';\r\n\t\t\t\t\tself.pointers.push({pageX: te.pageX, pageY:te.pageY, id: te.pointerId});\r\n\t\t\t\t\tfingers = self.pointers.length;\r\n\t\t\t\t\ttouches = self.pointers;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tif (e.type == 'mousedown' || pointerMouse){\t\r\n\t\t\t\t\tself.stX = te.pageX || e.pageX;\r\n\t\t\t\t\tself.stY = te.pageY || e.pageY;\t\t\r\n\t\t\t\t\tself.offX = self.stX - self.$holder.offset().left - self.$image.position().left;\r\n\t\t\t\t\tself.offY = self.stY - self.$holder.offset().top - self.$image.position().top;\t\t\t\t\t\r\n\t\t\t\t\t$(document).bind(self.event_move + self.id, {self: self}, self.mouseDrag);\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\t\r\n\t\t\t\t\tif (e.type == 'touchstart')\t{\r\n\t\t\t\t\t\tfingers = te.targetTouches.length;\r\n\t\t\t\t\t\ttouches = te.touches;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (fingers > 1) {\r\n\t\t\t\t\t\tself._pinching = true;\t\r\n\t\t\t\t\t\tself._rA = self.rA;\t\t\t\t\r\n\t\t\t\t\t\tself.dStart = self.getDistance(touches[0].pageX, touches[0].pageY, touches[1].pageX, touches[1].pageY);\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\t\t\t\t\t\t\r\n\t\t\t\t\t\tself.offX = touches[fingers-1].pageX - self.$holder.offset().left - self.$image.position().left;\r\n\t\t\t\t\t\tself.offY = touches[fingers-1].pageY - self.$holder.offset().top - self.$image.position().top;\r\n\t\t\t\t\t\tself.setDraggedPos(touches[fingers-1].pageX - self.$holder.offset().left - self.offX, touches[fingers-1].pageY - self.$holder.offset().top - self.offY, self._sc);\r\n\t\t\t\t\t\tself._recent = 'drag';\r\n\t\t\t\t\t\tself._dragging = true;\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif (e.type == 'mousedown'  || e.type == self.pointerDown) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\t\t\r\n\t\t},\t\t\r\n\t\t\r\n\t\t\r\n\t\t/*Mouse Drag / Touch swipe operations handled here\r\n\t\t***********************************************************************************************************************/\r\n\t\tmouseDrag: function (e) {\r\n\t\t\tvar self = e.data.self,\r\n\t\t\tte = e.originalEvent,\r\n\t\t\ttouches, fingers;\r\n\t\t\t\r\n\t\t\t//Mouse\r\n\t\t\tif (e.type == 'mousemove') {\r\n\t\t\t\tself.setDraggedPos(e.pageX - self.$holder.offset().left - self.offX, e.pageY - self.$holder.offset().top - self.offY, self._sc);\t\t\t\t\r\n\t\t\t\tself._recent = 'drag';\r\n\t\t\t\tself._dragging = true;\r\n\t\t\t\tif(!self._playing) {\r\n\t\t\t\t\tself.Animate();\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t\r\n\t\t\t//Touch and pointer\t\t\r\n\t\t\t} else {\r\n\t\t\t\tif (self._dragging || self._pinching) {\t\r\n\t\t\t\t\te.preventDefault();\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tif (self._onHitArea) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Pointer\t\t\t\t\r\n\t\t\t\t\tif (e.type == self.pointerMove){\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (var j=0; j<self.pointers.length; j++){\r\n\t\t\t\t\t\t\tif (te.pointerId == self.pointers[j].id) {\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tself.pointers[j].pageX = te.pageX;\r\n\t\t\t\t\t\t\t\tself.pointers[j].pageY = te.pageY;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\ttouches = self.pointers;\r\n\t\t\t\t\t\tfingers = self.pointers.length;\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//Touch\t\t\r\n\t\t\t\t\t} else {\t\t\t\t\t\r\n\t\t\t\t\t\ttouches = te.touches;\t\r\n\t\t\t\t\t\tfingers = touches.length;\t\t\t\t\t\r\n\t\t\t\t\t}\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Multi finger movement / pinch zoom\t\t\t\r\n\t\t\t\t\tif (fingers > 1) {\r\n\t\t\t\t\t\tif (!self._pinching) {\r\n\t\t\t\t\t\t\tself._pinching = true;\r\n\t\t\t\t\t\t\tself._rA = self.rA;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tself.dStart = self.getDistance(touches[0].pageX, touches[0].pageY, touches[1].pageX, touches[1].pageY);\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\tself._centx = (touches[0].pageX + touches[1].pageX) / 2;\r\n\t\t\t\t\t\tself._centy = (touches[0].pageY + touches[1].pageY) / 2;\r\n\t\t\t\t\t\tself.focusOffX = self._centx - self.$holder.offset().left - (self.sW / 2);\r\n\t\t\t\t\t\tself.focusOffY = self._centy - self.$holder.offset().top - (self.sH / 2);\r\n\t\t\t\t\t\tself.changeOffset(true, true);\r\n\t\t\t\t\t\tself._wheel = true;\r\n\t\t\t\t\t\tself._dragging = false;\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (self.zoom_single){\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tself.sRed = 300;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tself.dEnd = self.getDistance(touches[0].pageX, touches[0].pageY, touches[1].pageX, touches[1].pageY);\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tself.rA = self._rA * (self.dEnd/self.dStart);\r\n\t\t\t\t\t\t\tself.rA = self.rA > self.zoom_max ? self.zoom_max : self.rA;\r\n\t\t\t\t\t\t\tself.rA = self.rA < self.rF ? self.rF : self.rA;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (self._sc < self.rA) {\r\n\t\t\t\t\t\t\tself.cFlag._zo = false;\r\n\t\t\t\t\t\t\tself.cFlag._zi = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tself.cFlag._zi = false;\r\n\t\t\t\t\t\t\tself.cFlag._zo = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!self._playing) {\r\n\t\t\t\t\t\t\tself.Animate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//Single finer / pointer Drag\r\n\t\t\t\t\t} else {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tself.setDraggedPos(touches[0].pageX - self.$holder.offset().left - self.offX, touches[0].pageY - self.$holder.offset().top - self.offY, self._sc);\r\n\t\t\t\t\t\tself._recent = 'drag';\r\n\t\t\t\t\t\tself._dragging = true;\r\n\t\t\t\t\t\tif(!self._playing) {\r\n\t\t\t\t\t\t\tself.Animate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t/*Global Mouse Up / Touch End\r\n\t\t***********************************************************************************************************************/\r\n\t\tmouseUp: function (e) {\r\n\t\t\tvar self = e.data.self;\r\n\t\t\tself.pointers = [];\r\n\t\t\t//If one of the buttons released\r\n\t\t\tif (self._onButton) {\r\n\t\t\t\tself.$holder.find('#' + self.buttons[self.cButtId]._var + 'norm').show();\r\n\t\t\t\tself.$holder.find('#' + self.buttons[self.cButtId]._var + 'over').hide();\r\n\t\t\t\tif (self.cButtId !== 6) {\r\n\t\t\t\t\tself.cFlag[self.buttons[self.cButtId]._var] = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.type == 'touchend' && self.buttons[self.cButtId].$ob.css('opacity') > .5){\r\n\t\t\t\t\tself.buttons[self.cButtId].$ob.css('opacity', .7);\r\n\t\t\t\t}\r\n\t\t\t\tself._onButton = false;\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t//If the mouse drag or touch swipe completed\r\n\t\t\t} else if (self._onHitArea) {\r\n\t\t\t\tif (!self.hasTouch){\t\t\t\t\t\r\n\t\t\t\t\t$(document).unbind(self.event_move + self.id);\r\n\t\t\t\t}\r\n\t\t\t\tif (self.mouse_drag || self.touch_drag) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Mouse\t\t\t\t\t\r\n\t\t\t\t\tif (e.type == 'mouseup') {\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (self.stX ==  e.pageX && self.stY == e.pageY) {\r\n\t\t\t\t\t\t\tself.samePointRelease = true;\r\n\t\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t\t\tself._recent = 'drag';\r\n\t\t\t\t\t\tself._dragging = false;\r\n\t\t\t\t\t\tif(!self._playing) {\r\n\t\t\t\t\t\t\tself.Animate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//Touch & Pointers\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tself._dragging = false;\r\n\t\t\t\t\t\tif (self._pinching) {\r\n\t\t\t\t\t\t\tself._pinching = false;\r\n\t\t\t\t\t\t\tself._wheel = false;\r\n\t\t\t\t\t\t\tself.cFlag._nd = true;\r\n\t\t\t\t\t\t\tself.cFlag._zi = false;\r\n\t\t\t\t\t\t\tself.cFlag._zo = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tself._recent = 'drag';\r\n\t\t\t\t\t\t\tif(!self._playing) {\r\n\t\t\t\t\t\t\t\tself.Animate();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._onHitArea = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t/*Mouse wheel zoom in-out\r\n\t\t***********************************************************************************************************************/\r\n\t\tmouseWheel: function (e, delta) {\r\n\t\t\tvar self = e.data.self;\r\n\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\tif (self.mouse_wheel_cur) {\r\n\t\t\t\tself.focusOffX = e.pageX - self.$holder.offset().left - (self.sW / 2);\r\n\t\t\t\tself.focusOffY = e.pageY - self.$holder.offset().top - (self.sH / 2);\r\n\t\t\t\tself.changeOffset(true, true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself._dragging = false;\r\n\t\t\tif (delta > 0) {\r\n\t\t\t\tif (self.rA != self.zoom_max) {\r\n\t\t\t\t\tif (self.zoom_single){\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!self._wheel) {\r\n\t\t\t\t\t\t\tself.sRed = 300;\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\t\t\t\t\r\n\t\t\t\t\t\tself.rA *= delta < 1 ? 1 + (.3 * delta) : 1.3;\r\n\t\t\t\t\t\tself.rA = self.rA > self.zoom_max ? self.zoom_max : self.rA;\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._wheel = true;\r\n\t\t\t\t\tself.cFlag._zi = true;\r\n\t\t\t\t\tclearTimeout(self.ani_timer);\r\n\t\t\t\t\tself._playing = true;\r\n\t\t\t\t\tself.Animate();\r\n\t\t\t\t\tself.cFlag._zi = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (self.rA != self.rF) {\r\n\t\t\t\t\tif (self.zoom_single){\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!self._wheel) {\r\n\t\t\t\t\t\t\tself.sRed = 300;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\t\r\n\t\t\t\t\t\tself.rA /= delta > -1 ? 1 + (.3 * -delta) : 1.3;\r\n\t\t\t\t\t\tself.rA = self.rA < self.rF ? self.rF : self.rA;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._wheel = true;\r\n\t\t\t\t\tself.cFlag._zo = true;\r\n\t\t\t\t\tclearTimeout(self.ani_timer);\r\n\t\t\t\t\tself._playing = true;\r\n\t\t\t\t\tself.Animate();\r\n\t\t\t\t\tself.cFlag._zo = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t\r\n\r\n\t\t/*Control buttons Auto hide\r\n\t\t***********************************************************************************************************************/\r\n\t\tautoHide: function (e) {\r\n\t\t\tvar self = e.data.self;\r\n\r\n\t\t\tclearTimeout(self.auto_timer);\r\n\t\t\tself.auto_timer = setTimeout(function () {\r\n\t\t\t\tself.$controls.fadeOut(600);\r\n\t\t\t}, self.bu_delay);\r\n\r\n\t\t\tself.$holder.bind('mouseenter.sz', function (e) {\r\n\t\t\t\tclearTimeout(self.auto_timer);\r\n\t\t\t\tself.$controls.fadeIn(300);\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\r\n\t\t/*Mozilla works differently than others when getting translated positions. So this correction needed\r\n\t\t***********************************************************************************************************************/\r\n\t\tcorrectTransValue: function () {\r\n\t\t\tvar v = this.$image.css('-moz-transform').toString().replace(')', '').split(',');\r\n\t\t\tthis.transOffX = parseInt(v[4]);\r\n\t\t\tthis.transOffY = parseInt(v[5]);\r\n\t\t},\r\n\r\n\r\n\t\t/*Make sure the dragged position obeying limits\r\n\t\t***********************************************************************************************************************/\r\n\t\tsetDraggedPos: function (xp, yp, s) {\r\n\t\t\tvar self = this;\r\n\t\t\t\r\n\t\t\tif (xp !== '') {\r\n\t\t\t\tself.dX = xp + self.transOffX;\r\n\t\t\t\tif (self.pan_limit) {\r\n\t\t\t\t\tself.dX = self.dX + (s * self.iW) < self.sW ? self.sW - (s * self.iW) : self.dX;\r\n\t\t\t\t\tself.dX = self.dX > 0 ? 0 : self.dX;\r\n\t\t\t\t\tif ((s * self.iW) < self.sW) {\r\n\t\t\t\t\t\tself.dX = (self.sW - (s * self.iW)) / 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.dX = self.dX + (s * self.iW) < self.sW / 2 ? (self.sW / 2) - (s * self.iW) : self.dX;\r\n\t\t\t\t\tself.dX = self.dX > self.sW / 2 ? self.sW / 2 : self.dX;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (yp !== '') {\r\n\t\t\t\tself.dY = yp + self.transOffY;\r\n\t\t\t\tif (self.pan_limit) {\r\n\t\t\t\t\tself.dY = self.dY + (s * self.iH) < self.sH ? self.sH - (s * self.iH) : self.dY;\r\n\t\t\t\t\tself.dY = self.dY > 0 ? 0 : self.dY;\r\n\t\t\t\t\tif ((s * self.iH) < self.sH) {\r\n\t\t\t\t\t\tself.dY = (self.sH - (s * self.iH)) / 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.dY = self.dY + (s * self.iH) < self.sH / 2 ? (self.sH / 2) - (s * self.iH) : self.dY;\r\n\t\t\t\t\tself.dY = self.dY > self.sH / 2 ? self.sH / 2 : self.dY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*Called to animate image transformation whenever the navigation events occur\r\n\t\t***********************************************************************************************************************/\r\n\t\tAnimate: function () {\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tvar pixTol = .5;\r\n\r\n\t\t\tself.cFlag._nd = true;\r\n\t\t\tself.ani_end = false;\r\n\t\t\t\r\n\t\t\t//Zoom In\r\n\t\t\tif (self.cFlag._zi) {\r\n\t\t\t\tif (!self._wheel && !self.zoom_single) {\r\n\t\t\t\t\tself.rA *= self.zoom_speed;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.rA > self.zoom_max) {\r\n\t\t\t\t\tself.rA = self.zoom_max;\r\n\t\t\t\t}\r\n\t\t\t\tself.cFlag._nd = false;\r\n\t\t\t\tself.cFlag._rs = false;\r\n\t\t\t\tself._recent = 'zoomIn';\r\n\t\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\t}\r\n\r\n\t\t\t//Zoom Out\r\n\t\t\tif (self.cFlag._zo) {\r\n\t\t\t\tif (!self._wheel && !self.zoom_single) {\r\n\t\t\t\t\tself.rA /= self.zoom_speed;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.zoom_min !=0 ) {\r\n\t\t\t\t\tif (self.rA < self.zoom_min) {\r\n\t\t\t\t\t\tself.rA = self.zoom_min;\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t} else {\t\t\t\t\t\r\n\t\t\t\t\tif (self.rA < self.rF) {\r\n\t\t\t\t\t\tself.rA = self.rF;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tself.cFlag._nd = false;\r\n\t\t\t\tself.cFlag._rs = false;\r\n\t\t\t\tself._recent = 'zoomOut';\r\n\t\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Zoom In or Out - Single Step\r\n\t\t\tif (self.zoom_single && !self.cFlag._rs) {\r\n\t\t\t\tif (self._recent == 'zoomIn'){\r\n\t\t\t\t\tself.sRed +=(10-self.sRed)/6;\r\n\t\t\t\t\tself.rA += (self.zoom_max - self.rA)/(((1/(self.pan_speed_o+1))*self.sRed)+1);\r\n\r\n\t\t\t\t} else if (self._recent == 'zoomOut'){\r\n\t\t\t\t\tself.sRed +=(3-self.sRed)/3;\r\n\t\t\t\t\tself.rA += (self.rF - self.rA)/(((1/self.pan_speed_o+1)*self.sRed)+1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Pan speed needs to adjust according to application dimension and zoom level\r\n\t\t\tself.pan_speed = (Math.max(1, 1+((self.sW + self.sH) / 500))+ (self.pan_speed_o * self.pan_speed_o / 4)) / Math.max(1, self.rA/2);\r\n\r\n\t\t\t//Move Left\r\n\t\t\tif (self.cFlag._ml) {\r\n\t\t\t\tself.oX -= self.pan_speed;\r\n\t\t\t\tself.cFlag._nd = false;\r\n\t\t\t\tself.cFlag._rs = false;\r\n\t\t\t\tself._recent = 'left';\r\n\t\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\t}\r\n\r\n\t\t\t//Move Right\r\n\t\t\tif (self.cFlag._mr) {\r\n\t\t\t\tself.oX += self.pan_speed;\r\n\t\t\t\tself.cFlag._nd = false;\r\n\t\t\t\tself.cFlag._rs = false;\r\n\t\t\t\tself._recent = 'right';\r\n\t\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\t}\r\n\r\n\t\t\t//Move Up\r\n\t\t\tif (self.cFlag._mu) {\r\n\t\t\t\tself.oY -= self.pan_speed;\r\n\t\t\t\tself.cFlag._nd = false;\r\n\t\t\t\tself.cFlag._rs = false;\r\n\t\t\t\tself._recent = 'up';\r\n\t\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\t}\r\n\r\n\t\t\t//Move Down\r\n\t\t\tif (self.cFlag._md) {\r\n\t\t\t\tself.oY += self.pan_speed;\r\n\t\t\t\tself.cFlag._nd = false;\r\n\t\t\t\tself.cFlag._rs = false;\r\n\t\t\t\tself._recent = 'down';\r\n\t\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\t}\r\n\r\n\t\t\t//Reset\r\n\t\t\tif (self.cFlag._rs) {\t\t\t\t\r\n\t\t\t\tself.oX += (self.fX - self.oX) / 8;\r\n\t\t\t\tself.oY += (self.fY - self.oY) / 8;\t\t\t\t\r\n\t\t\t\tself.cFlag._nd = false;\r\n\t\t\t\tself._recent = 'reset';\r\n\t\t\t\tself._onfocus = self._dragging = false;\r\n\t\t\t}\r\n\r\n\t\t\t//Find scale value, width and height\r\n\t\t\t//Case 1: Single Step Zoom\r\n\t\t\tif (self.zoom_single && (self._recent !== 'reset')) {\r\n\t\t\t\tif (self._onfocus){\r\n\t\t\t\t\tself._sc += (self.rA - self._sc) / self.reduction;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself._sc = self.rA;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t//Case 2: Normal Zoom\r\n\t\t\t} else {\r\n\t\t\t\tself._sc += (self.rA - self._sc) / (self.ani_smooth/(self._onfocus? self.reduction : 1));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself._w = self._sc * self.iW;\r\n\t\t\tself._h = self._sc * self.iH;\r\n\r\n\t\t\t//Dragging\r\n\t\t\tif (self._dragging) {\r\n\t\t\t\tself.tX = self.dX;\r\n\t\t\t\tself.tY = self.dY;\r\n\t\t\t\tself.changeOffset(true, true);\r\n\t\t\t}\r\n\r\n\t\t\t//Check if Zoom In completed\r\n\t\t\tif (self._recent == \"zoomIn\") {\r\n\t\t\t\tif (self._w > (self.rA * self.iW) - pixTol && !self.zoom_single) {\r\n\t\t\t\t\tif (self.cFlag._nd) {\r\n\t\t\t\t\t\tself.ani_end = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._sc = self.rA;\t\t\t\t\t\r\n\t\t\t\t} else if (self._w > (self.zoom_max * self.iW) - pixTol && self.zoom_single) {\r\n\t\t\t\t\tif (self.cFlag._nd) {\r\n\t\t\t\t\t\tself.ani_end = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._sc = self.rA = self.zoom_max;\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif (self.ani_end){\r\n\t\t\t\t\tself._w = self._sc * self.iW;\r\n\t\t\t\t\tself._h = self._sc * self.iH;\r\n\t\t\t\t}\r\n\r\n\t\t\t//Check if Zoom Out completed\r\n\t\t\t} else if (self._recent == \"zoomOut\") {\r\n\t\t\t\tif (self._w < (self.rA * self.iW) + pixTol  && !self.zoom_single) {\r\n\t\t\t\t\tif (self.cFlag._nd) {\r\n\t\t\t\t\t\tself.ani_end = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._sc = self.rA;\t\t\t\t\t\r\n\t\t\t\t} else if (self._w < (self.rF * self.iW) + pixTol  && self.zoom_single) {\r\n\t\t\t\t\tif (self.cFlag._nd) {\r\n\t\t\t\t\t\tself.ani_end = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._sc = self.rA = self.rF;\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif (self.ani_end){\r\n\t\t\t\t\tself._w = self._sc * self.iW;\r\n\t\t\t\t\tself._h = self._sc * self.iH;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Move image according to boundary limits\r\n\t\t\tself.limitX = (((self._w - self.sW) / (self._w / self.sW)) / 2);\r\n\t\t\tself.limitY = (((self._h - self.sH) / (self._h / self.sH)) / 2);\r\n\r\n\t\t\tif (!self._dragging) {\r\n\t\t\t\tif (self.pan_limit) {\r\n\t\t\t\t\tif (self.oX < -self.limitX - self.focusOffX) {\r\n\t\t\t\t\t\tself.oX = -self.limitX - self.focusOffX;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self.oX > self.limitX - self.focusOffX) {\r\n\t\t\t\t\t\tself.oX = self.limitX - self.focusOffX;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self._w < self.sW) {\r\n\t\t\t\t\t\tself.tX = (self.sW - self._w) / 2;\r\n\t\t\t\t\t\tself.changeOffset(true, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self.oY < -self.limitY - self.focusOffY) {\r\n\t\t\t\t\t\tself.oY = -self.limitY - self.focusOffY;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self.oY > self.limitY - self.focusOffY) {\r\n\t\t\t\t\t\tself.oY = self.limitY - self.focusOffY;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self._h < self.sH) {\r\n\t\t\t\t\t\tself.tY = (self.sH - self._h) / 2;\r\n\t\t\t\t\t\tself.changeOffset(false, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (self.oX < -self.limitX - (self.focusOffX / self._w * self.sW) - ((self.sW / 2) / (self._w / self.sW))) {\r\n\t\t\t\t\t\tself.oX = -self.limitX - (self.focusOffX / self._w * self.sW) - ((self.sW / 2) / (self._w / self.sW));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.oX > self.limitX - (self.focusOffX / self._w * self.sW) + ((self.sW / 2) / (self._w / self.sW))) {\r\n\t\t\t\t\t\tself.oX = self.limitX - (self.focusOffX / self._w * self.sW) + ((self.sW / 2) / (self._w / self.sW));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.oY < -self.limitY - (self.focusOffY / self._h * self.sH) - (self.sH / (self._h / self.sH * 2))) {\r\n\t\t\t\t\t\tself.oY = -self.limitY - (self.focusOffY / self._h * self.sH) - (self.sH / (self._h / self.sH * 2));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.oY > self.limitY - (self.focusOffY / self._h * self.sH) + (self.sH / (self._h / self.sH * 2))) {\r\n\t\t\t\t\t\tself.oY = self.limitY - (self.focusOffY / self._h * self.sH) + (self.sH / (self._h / self.sH * 2));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!self._dragging && self._recent != \"drag\") {\r\n\t\t\t\tself.tX = ((self.sW - self._w) / 2) + self.focusOffX + (self.oX * (self._w / self.sW));\r\n\t\t\t\tself.tY = ((self.sH - self._h) / 2) + self.focusOffY + (self.oY * (self._h / self.sH));\t\t\t\t\t\t\t\r\n\t\t\t\tif (self.ani_smooth === 1) {\r\n\t\t\t\t\tself.cFlag._nd = true;\r\n\t\t\t\t\tself.ani_end = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (self._recent == \"zoomIn\" || self._recent == \"zoomOut\" || self.cFlag._rs) {\t\t\t\t\r\n\t\t\t\tself._x = self.tX;\r\n\t\t\t\tself._y = self.tY;\r\n\t\t\t} else {\r\n\t\t\t\tself._x += (self.tX - self._x) / (self.ani_smooth/(self._onfocus? self.reduction : 1));\r\n\t\t\t\tself._y += (self.tY - self._y) / (self.ani_smooth/(self._onfocus? self.reduction : 1));\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Check if Left movement completed\r\n\t\t\tif (self._recent == \"left\") {\r\n\t\t\t\tif (self._x < self.tX + pixTol || self.ani_smooth === 1) {\r\n\t\t\t\t\tself.cFlag._nd ? self.ani_end = true : \"\";\r\n\t\t\t\t\tself._recent = '';\r\n\t\t\t\t\tself._x = self.tX;\r\n\t\t\t\t}\r\n\r\n\t\t\t//Check if Right  movement completed\r\n\t\t\t} else if (self._recent == \"right\") {\r\n\t\t\t\tif (self._x > self.tX - pixTol || self.ani_smooth === 1) {\r\n\t\t\t\t\tself.cFlag._nd ? self.ani_end = true : \"\";\r\n\t\t\t\t\tself._recent = '';\r\n\t\t\t\t\tself._x = self.tX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Check if Up movement completed\r\n\t\t\t} else if (self._recent == \"up\") {\r\n\t\t\t\tif (self._y < self.tY + pixTol || self.ani_smooth === 1) {\r\n\t\t\t\t\tself.cFlag._nd ? self.ani_end = true : \"\";\r\n\t\t\t\t\tself._recent = '';\r\n\t\t\t\t\tself._y = self.tY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Check if Down movement completed\r\n\t\t\t} else if (self._recent == \"down\") {\r\n\t\t\t\tif (self._y > self.tY - pixTol || self.ani_smooth === 1) {\r\n\t\t\t\t\tself.cFlag._nd ? self.ani_end = true : \"\";\r\n\t\t\t\t\tself._recent = '';\r\n\t\t\t\t\tself._y = self.tY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Check if Dragging completed\r\n\t\t\t} else if (self._recent == \"drag\") {\r\n\t\t\t\tif (self._x + pixTol >= self.tX && self._x - pixTol <= self.tX && self._y + pixTol >= self.tY && self._y - pixTol <= self.tY || self.ani_smooth === 1) {\r\n\t\t\t\t\tif (self._onfocus) {\r\n\t\t\t\t\t\tself._dragging = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.cFlag._nd ? self.ani_end = true : \"\";\r\n\t\t\t\t\tself._recent = '';\r\n\t\t\t\t\tself._x = self.tX;\r\n\t\t\t\t\tself._y = self.tY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Check if Reset completed\r\n\t\t\tif (self.cFlag._rs && self._w + pixTol >= (self.rA * self.iW) && self._w - pixTol <= (self.rA * self.iW) && self.oX <= self.fX+pixTol && self.oX >= self.fX-pixTol && self.oY <= self.fY+pixTol && self.oY >= self.fY-pixTol) {\r\n\t\t\t\tself.ani_end = true;\r\n\t\t\t\tself._recent = '';\r\n\t\t\t\tself.cFlag._rs = false;\r\n\t\t\t\tself.cFlag._nd = true;\r\n\t\t\t\tself._x = self.tX;\r\n\t\t\t\tself._y = self.tY;\r\n\t\t\t\tself._sc = self.rA;\r\n\t\t\t\tself._w = self._sc * self.iW;\r\n\t\t\t\tself._h = self._sc * self.iH;\r\n\t\t\t}\r\n\r\n\t\t\t//When the image fits exactly to container size, disable the pan, zoom out and reset buttons\r\n\t\t\tif (self.rA == self.rF && self.iW*self.rA <= self.sW && self.iH*self.rA <= self.sH) {\r\n\t\t\t\tif (self.buttons[1].$ob.css('opacity') > .5) {\r\n\t\t\t\t\tif (self.rA >= self.rF && (self.init_zoom == '' || self.rA <self.init_zoom) && (self.zoom_min == '' || self.rA <self.zoom_min)) {\r\n\t\t\t\t\t\tif (self.pan_limit && self._moveCursor && !self._moveCursor) {\r\n\t\t\t\t\t\t\tself.$image.css('cursor', 'default');\r\n\t\t\t\t\t\t\tself.$hitArea.css('cursor', 'default');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var bEn = 1; bEn < (self.pan_limit && !self._moveCursor ? self.buttons_total : 2); bEn++) {\r\n\t\t\t\t\t\t\tself.buttons[bEn].$ob.css({\r\n\t\t\t\t\t\t\t\t'opacity': .4\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tself._wheel = false;\r\n\t\t\t\t\t\t\tself.$holder.find('#' + self.buttons[bEn]._var + 'norm').show();\r\n\t\t\t\t\t\t\tself.$holder.find('#' + self.buttons[bEn]._var + 'over').hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (self.buttons[1].$ob.css('opacity') < .5) {\r\n\t\t\t\t\tif (self._moveCursor && self.mouse_drag) {\r\n\t\t\t\t\t\tself.$image.css('cursor', 'move');\r\n\t\t\t\t\t\tself.$hitArea.css('cursor', 'move');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var bEn = 1; bEn < self.buttons_total; bEn++) {\r\n\t\t\t\t\t\tself.buttons[bEn].$ob.css('opacity', .7);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//When the image reaches max zoom, disable the zoom button\r\n\t\t\tif (self.rA == self.zoom_max) {\r\n\t\t\t\tif (self.buttons[0].$ob.css('opacity') > .5) {\r\n\t\t\t\t\tself.buttons[0].$ob.css('opacity', .4);\r\n\t\t\t\t\tself._wheel = false;\r\n\t\t\t\t\tself.$holder.find('#' + self.buttons[0]._var + 'norm').show();\r\n\t\t\t\t\tself.$holder.find('#' + self.buttons[0]._var + 'over').hide();\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (self.buttons[0].$ob.css('opacity') < .5) {\r\n\t\t\t\t\tself.buttons[0].$ob.css('opacity', .7);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Apply Scale and position to the image:\r\n\t\t\tif (prop_transform) {\r\n\t\t\t\tself.$image.css(prop_transform, 'translate(' + self._x.toFixed(14) + 'px,' + self._y.toFixed(14) + 'px) scale(' + self._sc + ')');\r\n\r\n\t\t\t} else {\r\n\t\t\t\tself.$image.css({\r\n\t\t\t\t\tleft: self._x,\r\n\t\t\t\t\ttop: self._y,\r\n\t\t\t\t\twidth: self._w,\r\n\t\t\t\t\theight: self._h\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (self.$loc_cont) {\r\n\t\t\t\tself.updateLocations(self._x, self._y, self._sc, self.locations);\r\n\t\t\t}\r\n\r\n\t\t\t//In case image Maps used, update them\r\n\t\t\tif (!prop_transform && self.map_coordinates.length > 0) {\r\n\t\t\t\t self.updateMap();\r\n\t\t\t}\t\r\n\t\t\t//If the animation completed, stop running; else continue\t\r\n\t\t\tif (self.ani_end && !self._dragging && self._recent != \"drag\") {\t\t\t\t\r\n\t\t\t\tself._playing = false;\t\t\t\t\r\n\t\t\t\tself._recent = '';\r\n\t\t\t\tself.cX = (-self._x + (self.sW / 2)) / self.rA;\r\n\t\t\t\tself.cY = (-self._y + (self.sH / 2)) / self.rA;\r\n\t\t\t\tif (self.onUPDATE) {\r\n\t\t\t\t\tself.onUPDATE (self.getZoomData(), false);\r\n\t\t\t\t}\r\n\t\t\t\tif (self.onZOOM_PAN) {\r\n\t\t\t\t\tself.onZOOM_PAN (self.getZoomData());\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout(self.ani_timer);\r\n\t\t\t} else {\t\t\t\t\r\n\t\t\t\tself._playing = true;\r\n\t\t\t\tif (self.onUPDATE) {\r\n\t\t\t\t\tself.onUPDATE (self.getZoomData(), true);\r\n\t\t\t\t}\r\n\t\t\t\tself.ani_timer = setTimeout(function () {\r\n\t\t\t\t\tself.Animate();\r\n\t\t\t\t}, 28);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t/*Relocate the landmarks according to main image's position\r\n\t\t***********************************************************************************************************************/\r\n\t\tupdateLocations: function (_x, _y, _sc, loc) {\t\r\n\t\t\r\n\t\t\tif (this.onLANDMARK !== ''){\r\n\t\t\t\tif (_sc >= this.show_at_zoom) {\r\n\t\t\t\t\tif (!this._landmark) {\r\n\t\t\t\t\t\tthis._landmark = true\r\n\t\t\t\t\t\tthis.onLANDMARK (true);\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this._landmark) {\r\n\t\t\t\t\t\tthis._landmark = false;\r\n\t\t\t\t\t\tthis.onLANDMARK (false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tfor (var p = 0; p < loc.length; p++) {\r\n\t\t\t\tvar wScaled,\r\n\t\t\t\t\thScaled,\r\n\t\t\t\t\tlpx = (loc[p].x * _sc) + _x,\r\n\t\t\t\t\tlpy = (loc[p].y * _sc) + _y;\r\n\t\t\t\t\t\r\n\t\t\t\tif (_sc >= loc[p].showAt) {\t\r\n\t\t\t\t\tif (loc[p].scale && prop_transform){\r\n\t\t\t\t\t\twScaled = loc[p].w2pad*this._sc;\r\n\t\t\t\t\t\thScaled = loc[p].h2*this._sc;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twScaled = loc[p].w2pad;\r\n\t\t\t\t\t\thScaled = loc[p].h2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (lpx > -wScaled && lpx < this.sW + wScaled && ((lpy > -hScaled && lpy < this.sH + hScaled && loc[p].lab) || (lpy > 0 && lpy < this.sH + (hScaled*2) && !loc[p].lab))) {\r\n\t\t\t\t\t\tif (!loc[p].vis) {\r\n\t\t\t\t\t\t\tloc[p].vis = true;\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(prop_transform) {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tloc[p].ob.stop()\r\n\t\t\t\t\t\t\t\t\t.css('display', 'block')\r\n\t\t\t\t\t\t\t\t\t.animate({\r\n\t\t\t\t\t\t\t\t\t\topacity: 1\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tloc[p].ob.show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (loc[p].vis) {\r\n\t\t\t\t\t\t\tloc[p].vis = false;\r\n\t\t\t\t\t\t\tif(prop_transform) {\r\n\t\t\t\t\t\t\t\tloc[p].ob.stop()\r\n\t\t\t\t\t\t\t\t\t.animate({\r\n\t\t\t\t\t\t\t\t\t\topacity: 0\r\n\t\t\t\t\t\t\t\t\t}, 200, function() {\r\n\t\t\t\t\t\t\t\t\t\t$(this).hide();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tloc[p].ob.hide();\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\t\t\r\n\t\t\t\t} else {\t\t\t\t\t\r\n\t\t\t\t\tif (loc[p].vis) {\t\r\n\t\t\t\t\t\tloc[p].vis = false;\r\n\t\t\t\t\t\tif(prop_transform) {\r\n\t\t\t\t\t\t\tloc[p].ob.stop()\r\n\t\t\t\t\t\t\t\t.animate({\r\n\t\t\t\t\t\t\t\t\topacity: 0\r\n\t\t\t\t\t\t\t\t}, 200, function() {\r\n\t\t\t\t\t\t\t\t\t$(this).hide();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tloc[p].ob.hide();\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}\r\n\t\t\t\tif (lpx !== loc[p].lpx || lpy !== loc[p].lpy && loc[p].vis) {\t\t\t\t\t\r\n\t\t\t\t\tif (prop_transform) {\r\n\t\t\t\t\t\tloc[p].ob.css(prop_transform, 'translate(' + lpx.toFixed(14) + 'px,' + lpy.toFixed(14) + 'px)' + (loc[p].scale? ' scale(' + this._sc + ')' : ''));\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\t\t\t\t\t\t\r\n\t\t\t\t\t\tloc[p].ob.css({\r\n\t\t\t\t\t\t\tleft: lpx,\r\n\t\t\t\t\t\t\ttop: lpy\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tloc[p].lpx = lpx;\r\n\t\t\t\tloc[p].lpy = lpy;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\r\n\t\t/*If the broswer doesn't supports css border radius, we need to go with old school png image for rounded corner\r\n\t\t***********************************************************************************************************************/\r\n\t\troundBG: function (el, _name, _w, _h, _r, _p, _c, _i, _z, _yoff) {\r\n\t\t\tvar w = 50 / 2;\r\n\t\t\t\r\n\t\t\tel.append($(\r\n\t\t\t\t'<div class=\"bgi' + _name + '\" style=\"background-position:' + (-(_p - _r)) + 'px ' + (-(w - _r) - _yoff) + 'px\"></div>\\\r\n\t\t\t\t<div class=\"bgh' + _name + '\"></div>\\\r\n\t\t\t\t<div class=\"bgi' + _name + '\" style=\"background-position:' + (-_p) + 'px ' + (-(w - _r) - _yoff) + 'px; left:' + (_w - _r) + 'px\"></div>\\\r\n\t\t\t\t<div class=\"bgi' + _name + '\" style=\"background-position:' + (-(_p - _r)) + 'px ' + (-w - _yoff) + 'px; top:' + (_h - _r) + 'px\"></div>\\\r\n\t\t\t\t<div class=\"bgh' + _name + '\" style = \"top:' + (_h - _r) + 'px; left:' + _r + 'px\"></div>\\\r\n\t\t\t\t<div class=\"bgi' + _name + '\" style=\"background-position:' + (-_p) + 'px ' + (-w - _yoff) + 'px; top:' + (_h - _r) + 'px; left:' + (_w - _r) + 'px\"></div>\\\r\n\t\t\t\t<div class=\"bgc' + _name + '\"></div>'\t\r\n\t\t\t));\r\n\t\t\t$('.bgi' + _name).css({\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\twidth: _r,\r\n\t\t\t\theight: _r,\r\n\t\t\t\t'background-image': 'url(' + _i + ')',\r\n\t\t\t\t'background-repeat': 'no-repeat',\r\n\t\t\t\t'-ms-filter': 'progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)',\r\n\t\t\t\t'filter': 'progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)',\r\n\t\t\t\t'zoom': 1\r\n\t\t\t});\r\n\t\t\t$('.bgh' + _name).css({\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\twidth: _w - _r * 2,\r\n\t\t\t\theight: _r,\r\n\t\t\t\t'background-color': _c,\r\n\t\t\t\tleft: _r\r\n\t\t\t});\r\n\t\t\t$('.bgc' + _name).css({\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\twidth: _w,\r\n\t\t\t\theight: _h - _r * 2,\r\n\t\t\t\t'background-color': _c,\r\n\t\t\t\ttop: _r,\r\n\t\t\t\tleft: 0\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t/*To calibrate position offset when navigation events supposed to be overlapped \r\n\t\t***********************************************************************************************************************/\r\n\t\tchangeOffset: function (x, y) {\r\n\t\t\tif (x) this.oX = (this.tX - ((this.sW - this._w) / 2) - this.focusOffX) / (this._w / this.sW);\r\n\t\t\tif (y) this.oY = (this.tY - ((this.sH - this._h) / 2) - this.focusOffY) / (this._h / this.sH);\r\n\t\t},\r\n\t\t\r\n\r\n\t\t/*Transform Image Maps (hot spots) if any\r\n\t\t***********************************************************************************************************************/\r\n\t\tupdateMap: function () {\r\n\t\t\tvar self = this,\r\n\t\t\t\tmapId = 0;\r\n\t\t\t\t\r\n\t\t\tself.mapAreas.each(function () {\r\n\t\t\t\tvar new_vals = [];\r\n\t\t\t\tfor (var i = 0; i < self.map_coordinates[mapId].length; i++) {\r\n\t\t\t\t\tnew_vals[i] = self.map_coordinates[mapId][i] * self._sc;\r\n\t\t\t\t}\r\n\t\t\t\tnew_vals = new_vals.join(\",\");\r\n\t\t\t\t$(this).attr('coords', new_vals);\r\n\t\t\t\tmapId++;\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\r\n\t\t/*To stop the timer loops immediatly\r\n\t\t***********************************************************************************************************************/\r\n\t\thaltAnimation: function () {\r\n\t\t\tclearTimeout(this.ani_timer);\r\n\t\t\tthis._playing = false;\r\n\t\t\tthis._recent = '';\r\n\t\t},\r\n\r\n\r\n\t\t/*Method to Remove the plugin instance\r\n\t\t***********************************************************************************************************************/\r\n\t\tdestroy: function () {\r\n\t\t\tvar self = this;\r\n\t\t\t\r\n\t\t\tif (self.assetsLoaded) {\r\n\t\t\t\tself.haltAnimation();\r\n\t\t\t\tfor (prop in self.orig_style) {\r\n\t\t\t\t\tif (self.orig_style[prop][0] !== false && self.orig_style[prop][0] !== undefined) {\r\n\t\t\t\t\t\tif (self.orig_style[prop][0] === 'width' || self.orig_style[prop][0] === 'height') {\r\n\t\t\t\t\t\t\tif (parseInt(self.orig_style[prop][1]) !== 0) {\r\n\t\t\t\t\t\t\t\tself.$image.css(self.orig_style[prop][0], self.orig_style[prop][1]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tself.$image.css(self.orig_style[prop][0], self.orig_style[prop][1]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout(self.auto_timer);\r\n\t\t\t\t$(document).unbind('.sz' + self.id);\r\n\t\t\t\t$(window).unbind('.sz' + self.id);\r\n\t\t\t\tself.$holder.unbind('.sz');\r\n\t\t\t\tself.$controls = undefined;\r\n\t\t\t} else {\r\n\t\t\t\tself.$image.show();\r\n\t\t\t}\t\t\r\n\t\t\t\t\r\n\t\t\tif (self.container =='') {\r\n\t\t\t\tif (self.image_url == '') {\r\n\t\t\t\t\tself.$image.insertBefore(self.$holder);\r\n\t\t\t\t\tif (self.$holder !== undefined) {\r\n\t\t\t\t\t\tself.$holder.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.$elem.empty();\r\n\t\t\t\t\tif (self.$loc_cont[0]) {\r\n\t\t\t\t\t\tself.$elem.append(self.loc_clone);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tself.$image.insertBefore(self.$holder);\t\r\n\t\t\t\tself.$holder.empty();\t\t\t\t\t\t\t\t\r\n\t\t\t\tself.$image.wrap(self.$holder);\r\n\t\t\t\tif (self.$loc_cont[0]) {\r\n\t\t\t\t\tself.$holder.append(self.loc_clone);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tself.$elem.removeData('smoothZoom');\r\n\t\t\tself.$holder = undefined;\r\n\t\t\tself.Buttons = undefined;\r\n\t\t\tself.op = undefined;\r\n\t\t\tself.$image = undefined;\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/*Method to change focus point and level\r\n\t\t***********************************************************************************************************************/\r\n\t\tfocusTo: function (params) {\r\n\t\t\tvar self = this;\r\n\t\t\t\r\n\t\t\tif (self.assetsLoaded) {\t\t\t\r\n\t\t\t\tif (params.zoom === undefined || params.zoom === '' || params.zoom == 0) {\r\n\t\t\t\t\tparams.zoom = self.rA;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparams.zoom /= 100;\r\n\t\t\t\t}\r\n\t\t\t\tself._onfocus = true;\r\n\t\t\t\tif (params.zoom > self.rA && self.rA != self.zoom_max) {\r\n\t\t\t\t\tself.rA = params.zoom;\r\n\t\t\t\t\tself.rA = self.rA > self.zoom_max ? self.zoom_max : self.rA;\r\n\t\t\t\t} else if (params.zoom < self.rA && self.rA != self.rF) {\r\n\t\t\t\t\tself.rA = params.zoom;\r\n\t\t\t\t\tself.rA = self.rA < self.rF ? self.rF : self.rA;\r\n\t\t\t\t}\r\n\t\t\t\tself.transOffX = self.transOffY = 0;\r\n\t\t\t\tself.setDraggedPos(params.x === undefined || params.x === '' ? \"\" : (-params.x * self.rA) + (self.sW / 2), params.y === undefined || params.y === '' ? \"\" : (-params.y * self.rA) + (self.sH / 2), self.rA);\r\n\t\t\t\tself.reduction =  params.speed? params.speed/10 : self.focusSpeed;\r\n\t\t\t\tself._recent = 'drag';\r\n\t\t\t\tself._dragging = true;\r\n\t\t\t\tif(!self._playing) {\r\n\t\t\t\t\tself.Animate();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\t\t\r\n\r\n\t\tzoomIn: function (params) {\r\n\t\t\tthis.buttons[0].$ob.trigger(this.event_down, {\r\n\t\t\t\tid: 0\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tzoomOut: function (params) {\r\n\t\t\tthis.buttons[1].$ob.trigger(this.event_down, {\r\n\t\t\t\tid: 1\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmoveRight: function (params) {\r\n\t\t\tthis.buttons[2].$ob.trigger(this.event_down, {\r\n\t\t\t\tid: 2\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmoveLeft: function (params) {\r\n\t\t\tthis.buttons[3].$ob.trigger(this.event_down, {\r\n\t\t\t\tid: 3\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmoveUp: function (params) {\r\n\t\t\tthis.buttons[4].$ob.trigger(this.event_down, {\r\n\t\t\t\tid: 4\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmoveDown: function (params) {\r\n\t\t\tthis.buttons[5].$ob.trigger(this.event_down, {\r\n\t\t\t\tid: 5\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tReset: function (params) {\r\n\t\t\tthis.buttons[6].$ob.trigger(this.event_down, {\r\n\t\t\t\tid: 6\r\n\t\t\t});\r\n\t\t},\t\t\t\t\r\n\r\n\t\tgetZoomData: function (params) {\r\n\t\t\treturn {\r\n\t\t\t\t//x offset (without scale ratio multiplied)\r\n\t\t\t\tnormX: (-this._x / this.rA).toFixed(14),\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//y offset (without scale ratio multiplied)\r\n\t\t\t\tnormY: (-this._y / this.rA).toFixed(14),\r\n\t\t\t\t\r\n\t\t\t\t//Original image Width\r\n\t\t\t\tnormWidth: this.iW,\r\n\t\t\t\t\r\n\t\t\t\t//Original image height\r\n\t\t\t\tnormHeight: this.iH,\r\n\t\t\t\t\r\n\t\t\t\t//x offset (with scale ratio multiplied)\r\n\t\t\t\tscaledX: -this._x.toFixed(14),\r\n\t\t\t\t\r\n\t\t\t\t//y offset (with scale ratio multiplied)\r\n\t\t\t\tscaledY: -this._y.toFixed(14),\r\n\t\t\t\t\r\n\t\t\t\t//Scaled image width\r\n\t\t\t\tscaledWidth: this._w,\r\n\t\t\t\t\r\n\t\t\t\t//Scaled image height\r\n\t\t\t\tscaledHeight: this._h,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t//The X location on image which is currently on center of canvas \r\n\t\t\t\tcenterX: (-this._x.toFixed(14) + (this.sW / 2)) / this.rA,\r\n\t\t\t\t\r\n\t\t\t\t//The Y location on image which is currently on center of canvas \r\n\t\t\t\tcenterY: (-this._y.toFixed(14) + (this.sH / 2)) / this.rA,\r\n\t\t\t\t\r\n\t\t\t\t//Scale ratio\r\n\t\t\t\tratio: this.rA \r\n\t\t\t};\r\n\t\t},\r\n\t\t\r\n\t\taddLandmark: function (loc) {\r\n\t\t\tif (this.$loc_cont) {\t\t\t\t\r\n\t\t\t\tvar total = loc.length;\r\n\t\t\t\t\r\n\t\t\t\tfor (var i=0; i<total; i++) {\r\n\t\t\t\t\tvar $loc = $(loc[i]);\r\n\t\t\t\t\tthis.$loc_cont.append($loc);\r\n\t\t\t\t\tthis.setLocation($loc);\t\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tif (total>0) {\r\n\t\t\t\t\tthis.updateLocations(this._x, this._y, this._sc, this.locations);\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tattachLandmark: function (loc) {\r\n\t\t\tif (this.$loc_cont){\t\t\t\t\r\n\t\t\t\tvar total = loc.length;\t\t\t\t\r\n\t\t\t\tfor (var i=0; i<total; i++) {\t\t\t\t\t\r\n\t\t\t\t\tthis.setLocation( loc[i] instanceof jQuery ? loc[i] : $('#'+loc[i]));\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif (total>0) {\r\n\t\t\t\t\tthis.updateLocations(this._x, this._y, this._sc, this.locations);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tremoveLandmark: function (loc) {\r\n\t\t\tif (this.$loc_cont){\t\t\t\t\r\n\t\t\t\tif (loc){\t\t\t\r\n\t\t\t\t\tvar total = loc.length;\t\t\t\t\t\r\n\t\t\t\t\tfor (var i=0; i<total; i++) {\r\n\t\t\t\t\t\tfor (var j=0; j<this.locations.length; j++) {\r\n\t\t\t\t\t\t\tif ((loc[i] instanceof jQuery && this.locations[j].ob[0] == loc[i][0]) || (!(loc[i] instanceof jQuery) && this.locations[j].ob.attr('id') == loc[i])) {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.locations[j].ob.remove ();\r\n\t\t\t\t\t\t\t\tthis.locations.splice(j,1);\r\n\t\t\t\t\t\t\t\tj--;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.locations.length > 0) {\r\n\t\t\t\t\t\tthis.locations[this.locations.length-1].ob.remove ();\r\n\t\t\t\t\t\tthis.locations.pop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (total>0) {\r\n\t\t\t\t\tthis.updateLocations(this._x, this._y, this._sc, this.locations);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\trefreshAllLandmarks: function () {\r\n\t\t\tvar self = this;\r\n\t\t\tvar locs = self.$loc_cont.children('.item');\r\n\t\t\tself.show_at_zoom = parseInt(self.$loc_cont.data('show-at-zoom'),10) / 100;\r\n\t\t\tself.allow_scale = checkBoolean(self.$loc_cont.data('allow-scale'));\r\n\t\t\tself.allow_drag = checkBoolean(self.$loc_cont.data('allow-drag'));\r\n\t\t\t\t\r\n\t\t\t//Step 1: Remove records for which the elements no longer exist\r\n\t\t\tfor (var i=0; i<self.locations.length; i++) {\t\t\t\t\t\r\n\t\t\t\tvar exists = false;\t\t\t\t\t\r\n\t\t\t\tlocs.each(function () {\r\n\t\t\t\t\tif (self.locations[i].ob[0] == $(this)[0]) {\r\n\t\t\t\t\t\texists = true;\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\t\t\t\t\t\r\n\t\t\t\tif (!exists) {\r\n\t\t\t\t\tself.locations.splice(i,1);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\t//Step 2: Add new elements to record\r\n\t\t\tlocs.each(function () {\r\n\t\t\t\tvar exists = false;\t\t\r\n\t\t\t\tfor (var i=0; i<self.locations.length; i++) {\t\t\t\t\t\r\n\t\t\t\t\tif (self.locations[i].ob[0] == $(this)[0]) {\r\n\t\t\t\t\t\texists = true;\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!exists) {\r\n\t\t\t\t\tself.setLocation($(this));\t\r\n\t\t\t\t}\r\n\t\r\n\t\t\t});\t\t\t\t\t\r\n\t\t\tthis.updateLocations(this._x, this._y, this._sc, this.locations);\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t/*On windows resize, adjust some defaults\r\n\t\t***********************************************************************************************************************/\r\n\t\tresize: function (e) {\t\r\n\t\t\tvar self;\r\n\t\t\t\r\n\t\t\tif (e.data) {\t\r\n\t\t\t\te.preventDefault();\t\t\t\r\n\t\t\t\tself = e.data.self;\t\t\t\r\n\t\t\t\tvar pw = self.$holder.parent().width();\t\r\n\t\t\t\tvar ph = self.$holder.parent().height();\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tif (self.oW) {\r\n\t\t\t\t\tpw = Math.min(pw, self.oW);\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tself.sW = pw;\r\n\t\t\t\t\r\n\t\t\t\tif (self.oH) {\r\n\t\t\t\t\tif (self.oW && self.maintain_ratio) {\r\n\t\t\t\t\t\tself.sH = pw/(self.oW/self.oH);\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.sH = ph;\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}  else {\r\n\t\t\t\tself = this;\r\n\t\t\t\tif (e.width) {\r\n\t\t\t\t\tself.sW = e.width;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.height) {\r\n\t\t\t\t\tself.sH = e.height;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.max_WIDTH) {\r\n\t\t\t\t\tself.w_max = e.max_WIDTH;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.max_HEIGHT) {\r\n\t\t\t\t\tself.h_max = e.max_HEIGHT;\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t\tif (self.w_max !== 0 && self.w_max !== '') {\r\n\t\t\t\tself.sW = Math.min(self.sW, self.w_max);\r\n\t\t\t}\r\n\t\t\tif (self.h_max !== 0 && self.h_max !== '') {\r\n\t\t\t\tself.sH = Math.min(self.sH, self.h_max);\r\n\t\t\t}\r\n\t\t\tself.$holder.css({\r\n\t\t\t\t'width': self.sW,\r\n\t\t\t\t'height': self.sH\r\n\t\t\t});\r\n\t\t\tif (self.bord_size > 0) {\r\n\t\t\t\tself.border[0].height(self.sH);\r\n\t\t\t\tself.border[1].css({\r\n\t\t\t\t\theight: self.sH,\r\n\t\t\t\t\tleft: self.sW - self.bord_size\r\n\t\t\t\t});\r\n\t\t\t\tself.border[2].width(self.sW - (self.bord_size * 2));\r\n\t\t\t\tself.border[3].css({\r\n\t\t\t\t\twidth: self.sW - (self.bord_size * 2),\r\n\t\t\t\t\ttop: self.sH - self.bord_size\r\n\t\t\t\t});\r\n\t\t\t}\t\t\t\r\n\t\t\tif (self.bu_align[1] == 'center') {\r\n\t\t\t\tself.$controls.css('left', parseInt((self.sW - self.cBW) / 2));\r\n\t\t\t}\r\n\t\t\tif (self.bu_align[0] == 'center') {\r\n\t\t\t\tself.$controls.css('top', parseInt((self.sH - self.cBH) / 2));\r\n\t\t\t}\r\n\t\t\tself.rF = self.rR = self.checkRatio(self.sW, self.sH, self.iW, self.iH, self.zoom_fit);\r\n\t\t\tif (self.zoom_min == 0) {\t\t\t\t\r\n\t\t\t\tif (self.rA< self.rF){\r\n\t\t\t\t\tself.rA = self.rF;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.focusTo({\r\n\t\t\t\tx: self.cX,\r\n\t\t\t\ty: self.cY,\r\n\t\t\t\tzoom:'',\r\n\t\t\t\tspeed: 10\r\n\t\t\t});\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t$.fn.smoothZoom = function (params) {\t\t\r\n\t\tvar self = this;\t\t\r\n\t\tvar l = self.length;\r\n\t\t\r\n\t\t//For single or more than one plugin instance\r\n\t\tfor (var i = 0; i<l; i++) {\r\n\t\t\tvar $elem = $(self[i]);\r\n\t\t\tvar instance = $elem.data('smoothZoom');\r\n\t\t\t\r\n\t\t\t// Case 1: Initiate the plugin if not already have an instance\r\n\t\t\tif (!instance) {\r\n\t\t\r\n\t\t\t\tif (typeof params === 'object' || !params) {\r\n\t\t\t\t\t$elem.data('smoothZoom', new Zoomer($elem, params));\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t// Case 2: If the instance already available - Check for method call\r\n\t\t\t} else {\t\r\n\r\n\t\t\t\t// getZoomData - Returns {sourceX, sourceY, sourceWidth, sourceHeight, distX, distY, distWidth, distHeight, centerX, centerY, ratio}\t\t\t\t\r\n\t\t\t\tif (params == \"getZoomData\") {\t\t\t\t\r\n\t\t\t\t\treturn instance[params].apply(instance, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t\t\r\n\t\t\t\t// destroy | focusTo | zoomIn | zoomOut | moveRight| moveLeft | moveUp | moveDown | Reset | addLandmark | removeLandmark | attachLandmark | refreshAllLandmarks\r\n\t\t\t\t} else if (instance[params]) {\r\n\t\t\t\t\tinstance[params].apply(instance, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\t\t\r\n\t\t}\t\r\n\t\t\r\n\t\t//return for chainability for possible cases\r\n\t\tif (params !== \"getZoomData\") {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t};\r\n\t\r\n\tfunction checkBoolean (_var) {\r\n\t\tif (_var === true) {\r\n\t\t\treturn true;\r\n\t\t} else if (_var) {\r\n\t\t\t_var = _var.toLowerCase();\r\n\t\t\tif (_var == 'yes' || _var == 'true') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t\r\n\t\t//...................................................................................................................\r\n\t//Using Modernizr to check browser capabilities and property names prefixed\r\n\t\t\t\r\n\t/* Modernizr 2.8.2 (Custom Build) | MIT & BSD\r\n\t * Build: http://modernizr.com/download/#-borderradius-csstransforms-csstransforms3d-prefixed-teststyles-testprop-testallprops-prefixes-domprefixes\r\n\t */\r\n\twindow.Modernizr=function(a,b,c){function y(a){i.cssText=a}function z(a,b){return y(l.join(a+\";\")+(b||\"\"))}function A(a,b){return typeof a===b}function B(a,b){return!!~(\"\"+a).indexOf(b)}function C(a,b){for(var d in a){var e=a[d];if(!B(e,\"-\")&&i[e]!==c)return b==\"pfx\"?e:!0}return!1}function D(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:A(f,\"function\")?f.bind(d||b):f}return!1}function E(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+\" \"+n.join(d+\" \")+d).split(\" \");return A(b,\"string\")||A(b,\"undefined\")?C(e,b):(e=(a+\" \"+o.join(d+\" \")+d).split(\" \"),D(e,b,c))}var d=\"2.8.2\",e={},f=b.documentElement,g=\"modernizr\",h=b.createElement(g),i=h.style,j,k={}.toString,l=\" -webkit- -moz- -o- -ms- \".split(\" \"),m=\"Webkit Moz O ms\",n=m.split(\" \"),o=m.toLowerCase().split(\" \"),p={},q={},r={},s=[],t=s.slice,u,v=function(a,c,d,e){var h,i,j,k,l=b.createElement(\"div\"),m=b.body,n=m||b.createElement(\"body\");if(parseInt(d,10))while(d--)j=b.createElement(\"div\"),j.id=e?e[d]:g+(d+1),l.appendChild(j);return h=[\"&#173;\",'<style id=\"s',g,'\">',a,\"</style>\"].join(\"\"),l.id=g,(m?l:n).innerHTML+=h,n.appendChild(l),m||(n.style.background=\"\",n.style.overflow=\"hidden\",k=f.style.overflow,f.style.overflow=\"hidden\",f.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),f.style.overflow=k),!!i},w={}.hasOwnProperty,x;!A(w,\"undefined\")&&!A(w.call,\"undefined\")?x=function(a,b){return w.call(a,b)}:x=function(a,b){return b in a&&A(a.constructor.prototype[b],\"undefined\")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!=\"function\")throw new TypeError;var d=t.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(t.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(t.call(arguments)))};return e}),p.borderradius=function(){return E(\"borderRadius\")},p.csstransforms=function(){return!!E(\"transform\")},p.csstransforms3d=function(){var a=!!E(\"perspective\");return a&&\"webkitPerspective\"in f.style&&v(\"@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}\",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a};for(var F in p)x(p,F)&&(u=F.toLowerCase(),e[u]=p[F](),s.push((e[u]?\"\":\"no-\")+u));return e.addTest=function(a,b){if(typeof a==\"object\")for(var d in a)x(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b==\"function\"?b():b,typeof enableClasses!=\"undefined\"&&enableClasses&&(f.className+=\" \"+(b?\"\":\"no-\")+a),e[a]=b}return e},y(\"\"),h=j=null,e._version=d,e._prefixes=l,e._domPrefixes=o,e._cssomPrefixes=n,e.testProp=function(a){return C([a])},e.testAllProps=E,e.testStyles=v,e.prefixed=function(a,b,c){return b?E(a,b,c):E(a,\"pfx\")},e}(this,document);\r\n\t\r\n\tvar prop_transform = Modernizr.prefixed('transform');\r\n\tvar prop_origin = Modernizr.prefixed('transformOrigin');\r\n\tvar prop_radius = Modernizr.prefixed('borderRadius');\r\n\tvar supportsTrans3D = Modernizr.csstransforms3d;\r\n\t\r\n})(jQuery, window, document);\r\n\r\n//End - smoothZoom\r\n\r\n//...................................................................................................................\r\n//For mouse wheel support\r\n\r\n/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)\r\n * Licensed under the MIT License (LICENSE.txt).\r\n *\r\n * Version: 3.1.11\r\n *\r\n * Requires: jQuery 1.2.2+\r\n */\r\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):\"object\"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type=\"mousewheel\",\"detail\"in g&&(m=-1*g.detail),\"wheelDelta\"in g&&(m=g.wheelDelta),\"wheelDeltaY\"in g&&(m=g.wheelDeltaY),\"wheelDeltaX\"in g&&(l=-1*g.wheelDeltaX),\"axis\"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,\"deltaY\"in g&&(m=-1*g.deltaY,j=m),\"deltaX\"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,\"mousewheel-line-height\");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,\"mousewheel-page-height\");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?\"floor\":\"ceil\"](j/f),l=Math[l>=1?\"floor\":\"ceil\"](l/f),m=Math[m>=1?\"floor\":\"ceil\"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&\"mousewheel\"===a.type&&b%120===0}var e,f,g=[\"wheel\",\"mousewheel\",\"DOMMouseScroll\",\"MozMousePixelScroll\"],h=\"onwheel\"in document||document.documentMode>=9?[\"wheel\"]:[\"mousewheel\",\"DomMouseScroll\",\"MozMousePixelScroll\"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:\"3.1.11\",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,\"mousewheel-line-height\",k.getLineHeight(this)),a.data(this,\"mousewheel-page-height\",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,\"mousewheel-line-height\"),a.removeData(this,\"mousewheel-page-height\")},getLineHeight:function(b){var c=a(b)[\"offsetParent\"in a.fn?\"offsetParent\":\"parent\"]();return c.length||(c=a(\"body\")),parseInt(c.css(\"fontSize\"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind(\"mousewheel\",a):this.trigger(\"mousewheel\")},unmousewheel:function(a){return this.unbind(\"mousewheel\",a)}})});\r\n\r\n//...................................................................................................................","/*\r\n Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net\r\n*/\r\n(function(){var b,f;b=this.jQuery||window.jQuery;f=b(window);b.fn.stick_in_parent=function(d){var A,w,J,n,B,K,p,q,k,E,t;null==d&&(d={});t=d.sticky_class;B=d.inner_scrolling;E=d.recalc_every;k=d.parent;q=d.offset_top;p=d.spacer;w=d.bottoming;null==q&&(q=0);null==k&&(k=void 0);null==B&&(B=!0);null==t&&(t=\"is_stuck\");A=b(document);null==w&&(w=!0);J=function(a,d,n,C,F,u,r,G){var v,H,m,D,I,c,g,x,y,z,h,l;if(!a.data(\"sticky_kit\")){a.data(\"sticky_kit\",!0);I=A.height();g=a.parent();null!=k&&(g=g.closest(k));\r\nif(!g.length)throw\"failed to find stick parent\";v=m=!1;(h=null!=p?p&&a.closest(p):b(\"<div />\"))&&h.css(\"position\",a.css(\"position\"));x=function(){var c,f,e;if(!G&&(I=A.height(),c=parseInt(g.css(\"border-top-width\"),10),f=parseInt(g.css(\"padding-top\"),10),d=parseInt(g.css(\"padding-bottom\"),10),n=g.offset().top+c+f,C=g.height(),m&&(v=m=!1,null==p&&(a.insertAfter(h),h.detach()),a.css({position:\"\",top:\"\",width:\"\",bottom:\"\"}).removeClass(t),e=!0),F=a.offset().top-(parseInt(a.css(\"margin-top\"),10)||0)-q,\r\nu=a.outerHeight(!0),r=a.css(\"float\"),h&&h.css({width:a.outerWidth(!0),height:u,display:a.css(\"display\"),\"vertical-align\":a.css(\"vertical-align\"),\"float\":r}),e))return l()};x();if(u!==C)return D=void 0,c=q,z=E,l=function(){var b,l,e,k;if(!G&&(e=!1,null!=z&&(--z,0>=z&&(z=E,x(),e=!0)),e||A.height()===I||x(),e=f.scrollTop(),null!=D&&(l=e-D),D=e,m?(w&&(k=e+u+c>C+n,v&&!k&&(v=!1,a.css({position:\"fixed\",bottom:\"\",top:c}).trigger(\"sticky_kit:unbottom\"))),e<F&&(m=!1,c=q,null==p&&(\"left\"!==r&&\"right\"!==r||a.insertAfter(h),\r\nh.detach()),b={position:\"\",width:\"\",top:\"\"},a.css(b).removeClass(t).trigger(\"sticky_kit:unstick\")),B&&(b=f.height(),u+q>b&&!v&&(c-=l,c=Math.max(b-u,c),c=Math.min(q,c),m&&a.css({top:c+\"px\"})))):e>F&&(m=!0,b={position:\"fixed\",top:c},b.width=\"border-box\"===a.css(\"box-sizing\")?a.outerWidth()+\"px\":a.width()+\"px\",a.css(b).addClass(t),null==p&&(a.after(h),\"left\"!==r&&\"right\"!==r||h.append(a)),a.trigger(\"sticky_kit:stick\")),m&&w&&(null==k&&(k=e+u+c>C+n),!v&&k)))return v=!0,\"static\"===g.css(\"position\")&&g.css({position:\"relative\"}),\r\na.css({position:\"absolute\",bottom:d,top:\"auto\"}).trigger(\"sticky_kit:bottom\")},y=function(){x();return l()},H=function(){G=!0;f.off(\"touchmove\",l);f.off(\"scroll\",l);f.off(\"resize\",y);b(document.body).off(\"sticky_kit:recalc\",y);a.off(\"sticky_kit:detach\",H);a.removeData(\"sticky_kit\");a.css({position:\"\",bottom:\"\",top:\"\",width:\"\"});g.position(\"position\",\"\");if(m)return null==p&&(\"left\"!==r&&\"right\"!==r||a.insertAfter(h),h.remove()),a.removeClass(t)},f.on(\"touchmove\",l),f.on(\"scroll\",l),f.on(\"resize\",\r\ny),b(document.body).on(\"sticky_kit:recalc\",y),a.on(\"sticky_kit:detach\",H),setTimeout(l,0)}};n=0;for(K=this.length;n<K;n++)d=this[n],J(b(d));return this}}).call(this);","/*!\r\n * @fileOverview TouchSwipe - jQuery Plugin\r\n * @version 1.6.18\r\n *\r\n * @author Matt Bryson http://www.github.com/mattbryson\r\n * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin\r\n * @see http://labs.rampinteractive.co.uk/touchSwipe/\r\n * @see http://plugins.jquery.com/project/touchSwipe\r\n * @license\r\n * Copyright (c) 2010-2015 Matt Bryson\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n *\r\n */\r\n\r\n/*\r\n *\r\n * Changelog\r\n * $Date: 2010-12-12 (Wed, 12 Dec 2010) $\r\n * $version: 1.0.0\r\n * $version: 1.0.1 - removed multibyte comments\r\n *\r\n * $Date: 2011-21-02 (Mon, 21 Feb 2011) $\r\n * $version: 1.1.0 \t- added allowPageScroll property to allow swiping and scrolling of page\r\n *\t\t\t\t\t- changed handler signatures so one handler can be used for multiple events\r\n * $Date: 2011-23-02 (Wed, 23 Feb 2011) $\r\n * $version: 1.2.0 \t- added click handler. This is fired if the user simply clicks and does not swipe. The event object and click target are passed to handler.\r\n *\t\t\t\t\t- If you use the http://code.google.com/p/jquery-ui-for-ipad-and-iphone/ plugin, you can also assign jQuery mouse events to children of a touchSwipe object.\r\n * $version: 1.2.1 \t- removed console log!\r\n *\r\n * $version: 1.2.2 \t- Fixed bug where scope was not preserved in callback methods.\r\n *\r\n * $Date: 2011-28-04 (Thurs, 28 April 2011) $\r\n * $version: 1.2.4 \t- Changed licence terms to be MIT or GPL inline with jQuery. Added check for support of touch events to stop non compatible browsers erroring.\r\n *\r\n * $Date: 2011-27-09 (Tues, 27 September 2011) $\r\n * $version: 1.2.5 \t- Added support for testing swipes with mouse on desktop browser (thanks to https://github.com/joelhy)\r\n *\r\n * $Date: 2012-14-05 (Mon, 14 May 2012) $\r\n * $version: 1.2.6 \t- Added timeThreshold between start and end touch, so user can ignore slow swipes (thanks to Mark Chase). Default is null, all swipes are detected\r\n *\r\n * $Date: 2012-05-06 (Tues, 05 June 2012) $\r\n * $version: 1.2.7 \t- Changed time threshold to have null default for backwards compatibility. Added duration param passed back in events, and refactored how time is handled.\r\n *\r\n * $Date: 2012-05-06 (Tues, 05 June 2012) $\r\n * $version: 1.2.8 \t- Added the possibility to return a value like null or false in the trigger callback. In that way we can control when the touch start/move should take effect or not (simply by returning in some cases return null; or return false;) This effects the ontouchstart/ontouchmove event.\r\n *\r\n * $Date: 2012-06-06 (Wed, 06 June 2012) $\r\n * $version: 1.3.0 \t- Refactored whole plugin to allow for methods to be executed, as well as exposed defaults for user override. Added 'enable', 'disable', and 'destroy' methods\r\n *\r\n * $Date: 2012-05-06 (Fri, 05 June 2012) $\r\n * $version: 1.3.1 \t- Bug fixes  - bind() with false as last argument is no longer supported in jQuery 1.6, also, if you just click, the duration is now returned correctly.\r\n *\r\n * $Date: 2012-29-07 (Sun, 29 July 2012) $\r\n * $version: 1.3.2\t- Added fallbackToMouseEvents option to NOT capture mouse events on non touch devices.\r\n * \t\t\t- Added \"all\" fingers value to the fingers property, so any combination of fingers triggers the swipe, allowing event handlers to check the finger count\r\n *\r\n * $Date: 2012-09-08 (Thurs, 9 Aug 2012) $\r\n * $version: 1.3.3\t- Code tidy prep for minefied version\r\n *\r\n * $Date: 2012-04-10 (wed, 4 Oct 2012) $\r\n * $version: 1.4.0\t- Added pinch support, pinchIn and pinchOut\r\n *\r\n * $Date: 2012-11-10 (Thurs, 11 Oct 2012) $\r\n * $version: 1.5.0\t- Added excludedElements, a jquery selector that specifies child elements that do NOT trigger swipes. By default, this is .noSwipe\r\n *\r\n * $Date: 2012-22-10 (Mon, 22 Oct 2012) $\r\n * $version: 1.5.1\t- Fixed bug with jQuery 1.8 and trailing comma in excludedElements\r\n *\t\t\t\t\t- Fixed bug with IE and eventPreventDefault()\r\n * $Date: 2013-01-12 (Fri, 12 Jan 2013) $\r\n * $version: 1.6.0\t- Fixed bugs with pinching, mainly when both pinch and swipe enabled, as well as adding time threshold for multifinger gestures, so releasing one finger beofre the other doesnt trigger as single finger gesture.\r\n *\t\t\t\t\t- made the demo site all static local HTML pages so they can be run locally by a developer\r\n *\t\t\t\t\t- added jsDoc comments and added documentation for the plugin\r\n *\t\t\t\t\t- code tidy\r\n *\t\t\t\t\t- added triggerOnTouchLeave property that will end the event when the user swipes off the element.\r\n * $Date: 2013-03-23 (Sat, 23 Mar 2013) $\r\n * $version: 1.6.1\t- Added support for ie8 touch events\r\n * $version: 1.6.2\t- Added support for events binding with on / off / bind in jQ for all callback names.\r\n *                   - Deprecated the 'click' handler in favour of tap.\r\n *                   - added cancelThreshold property\r\n *                   - added option method to update init options at runtime\r\n * $version 1.6.3    - added doubletap, longtap events and longTapThreshold, doubleTapThreshold property\r\n *\r\n * $Date: 2013-04-04 (Thurs, 04 April 2013) $\r\n * $version 1.6.4    - Fixed bug with cancelThreshold introduced in 1.6.3, where swipe status no longer fired start event, and stopped once swiping back.\r\n *\r\n * $Date: 2013-08-24 (Sat, 24 Aug 2013) $\r\n * $version 1.6.5    - Merged a few pull requests fixing various bugs, added AMD support.\r\n *\r\n * $Date: 2014-06-04 (Wed, 04 June 2014) $\r\n * $version 1.6.6 \t- Merge of pull requests.\r\n *    \t\t\t\t- IE10 touch support\r\n *    \t\t\t\t- Only prevent default event handling on valid swipe\r\n *    \t\t\t\t- Separate license/changelog comment\r\n *    \t\t\t\t- Detect if the swipe is valid at the end of the touch event.\r\n *    \t\t\t\t- Pass fingerdata to event handlers.\r\n *    \t\t\t\t- Add 'hold' gesture\r\n *    \t\t\t\t- Be more tolerant about the tap distance\r\n *    \t\t\t\t- Typos and minor fixes\r\n *\r\n * $Date: 2015-22-01 (Thurs, 22 Jan 2015) $\r\n * $version 1.6.7    - Added patch from https://github.com/mattbryson/TouchSwipe-Jquery-Plugin/issues/206 to fix memory leak\r\n *\r\n * $Date: 2015-2-2 (Mon, 2 Feb 2015) $\r\n * $version 1.6.8    - Added preventDefaultEvents option to proxy events regardless.\r\n *\t\t\t\t\t- Fixed issue with swipe and pinch not triggering at the same time\r\n *\r\n * $Date: 2015-9-6 (Tues, 9 June 2015) $\r\n * $version 1.6.9    - Added PR from jdalton/hybrid to fix pointer events\r\n *\t\t\t\t\t- Added scrolling demo\r\n *\t\t\t\t\t- Added version property to plugin\r\n *\r\n * $Date: 2015-1-10 (Wed, 1 October 2015) $\r\n * $version 1.6.10    - Added PR from beatspace to fix tap events\r\n * $version 1.6.11    - Added PRs from indri-indri ( Doc tidyup), kkirsche ( Bower tidy up ), UziTech (preventDefaultEvents fixes )\r\n *\t\t\t\t\t - Allowed setting multiple options via .swipe(\"options\", options_hash) and more simply .swipe(options_hash) or exisitng instances\r\n * $version 1.6.12    - Fixed bug with multi finger releases above 2 not triggering events\r\n *\r\n * $Date: 2015-12-18 (Fri, 18 December 2015) $\r\n * $version 1.6.13    - Added PRs\r\n *                    - Fixed #267 allowPageScroll not working correctly\r\n * $version 1.6.14    - Fixed #220 / #248 doubletap not firing with swipes, #223 commonJS compatible\r\n * $version 1.6.15    - More bug fixes\r\n *\r\n * $Date: 2016-04-29 (Fri, 29 April 2016) $\r\n * $version 1.6.16    - Swipes with 0 distance now allow default events to trigger.  So tapping any form elements or A tags will allow default interaction, but swiping will trigger a swipe.\r\n                        Removed the a, input, select etc from the excluded Children list as the 0 distance tap solves that issue.\r\n* $Date: 2016-05-19  (Fri, 29 April 2016) $\r\n* $version 1.6.17     - Fixed context issue when calling instance methods via $(\"selector\").swipe(\"method\");\r\n* $version 1.6.18     - now honors fallbackToMouseEvents=false for MS Pointer events when a Mouse is used.\r\n\r\n */\r\n\r\n/**\r\n * See (http://jquery.com/).\r\n * @name $\r\n * @class\r\n * See the jQuery Library  (http://jquery.com/) for full details.  This just\r\n * documents the function and classes that are added to jQuery by this plug-in.\r\n */\r\n\r\n/**\r\n * See (http://jquery.com/)\r\n * @name fn\r\n * @class\r\n * See the jQuery Library  (http://jquery.com/) for full details.  This just\r\n * documents the function and classes that are added to jQuery by this plug-in.\r\n * @memberOf $\r\n */\r\n\r\n\r\n(function(factory) {\r\n  if (typeof define === 'function' && define.amd && define.amd.jQuery) {\r\n    // AMD. Register as anonymous module.\r\n    define(['jquery'], factory);\r\n  } else if (typeof module !== 'undefined' && module.exports) {\r\n    // CommonJS Module\r\n    factory(require(\"jquery\"));\r\n  } else {\r\n    // Browser globals.\r\n    factory(jQuery);\r\n  }\r\n}(function($) {\r\n  \"use strict\";\r\n\r\n  //Constants\r\n  var VERSION = \"1.6.18\",\r\n    LEFT = \"left\",\r\n    RIGHT = \"right\",\r\n    UP = \"up\",\r\n    DOWN = \"down\",\r\n    IN = \"in\",\r\n    OUT = \"out\",\r\n\r\n    NONE = \"none\",\r\n    AUTO = \"auto\",\r\n\r\n    SWIPE = \"swipe\",\r\n    PINCH = \"pinch\",\r\n    TAP = \"tap\",\r\n    DOUBLE_TAP = \"doubletap\",\r\n    LONG_TAP = \"longtap\",\r\n    HOLD = \"hold\",\r\n\r\n    HORIZONTAL = \"horizontal\",\r\n    VERTICAL = \"vertical\",\r\n\r\n    ALL_FINGERS = \"all\",\r\n\r\n    DOUBLE_TAP_THRESHOLD = 10,\r\n\r\n    PHASE_START = \"start\",\r\n    PHASE_MOVE = \"move\",\r\n    PHASE_END = \"end\",\r\n    PHASE_CANCEL = \"cancel\",\r\n\r\n    SUPPORTS_TOUCH = 'ontouchstart' in window,\r\n\r\n    SUPPORTS_POINTER_IE10 = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled && !SUPPORTS_TOUCH,\r\n\r\n    SUPPORTS_POINTER = (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && !SUPPORTS_TOUCH,\r\n\r\n    PLUGIN_NS = 'TouchSwipe';\r\n\r\n\r\n\r\n  /**\r\n  * The default configuration, and available options to configure touch swipe with.\r\n  * You can set the default values by updating any of the properties prior to instantiation.\r\n  * @name $.fn.swipe.defaults\r\n  * @namespace\r\n  * @property {int} [fingers=1] The number of fingers to detect in a swipe. Any swipes that do not meet this requirement will NOT trigger swipe handlers.\r\n  * @property {int} [threshold=75] The number of pixels that the user must move their finger by before it is considered a swipe.\r\n  * @property {int} [cancelThreshold=null] The number of pixels that the user must move their finger back from the original swipe direction to cancel the gesture.\r\n  * @property {int} [pinchThreshold=20] The number of pixels that the user must pinch their finger by before it is considered a pinch.\r\n  * @property {int} [maxTimeThreshold=null] Time, in milliseconds, between touchStart and touchEnd must NOT exceed in order to be considered a swipe.\r\n  * @property {int} [fingerReleaseThreshold=250] Time in milliseconds between releasing multiple fingers.  If 2 fingers are down, and are released one after the other, if they are within this threshold, it counts as a simultaneous release.\r\n  * @property {int} [longTapThreshold=500] Time in milliseconds between tap and release for a long tap\r\n  * @property {int} [doubleTapThreshold=200] Time in milliseconds between 2 taps to count as a double tap\r\n  * @property {function} [swipe=null] A handler to catch all swipes. See {@link $.fn.swipe#event:swipe}\r\n  * @property {function} [swipeLeft=null] A handler that is triggered for \"left\" swipes. See {@link $.fn.swipe#event:swipeLeft}\r\n  * @property {function} [swipeRight=null] A handler that is triggered for \"right\" swipes. See {@link $.fn.swipe#event:swipeRight}\r\n  * @property {function} [swipeUp=null] A handler that is triggered for \"up\" swipes. See {@link $.fn.swipe#event:swipeUp}\r\n  * @property {function} [swipeDown=null] A handler that is triggered for \"down\" swipes. See {@link $.fn.swipe#event:swipeDown}\r\n  * @property {function} [swipeStatus=null] A handler triggered for every phase of the swipe. See {@link $.fn.swipe#event:swipeStatus}\r\n  * @property {function} [pinchIn=null] A handler triggered for pinch in events. See {@link $.fn.swipe#event:pinchIn}\r\n  * @property {function} [pinchOut=null] A handler triggered for pinch out events. See {@link $.fn.swipe#event:pinchOut}\r\n  * @property {function} [pinchStatus=null] A handler triggered for every phase of a pinch. See {@link $.fn.swipe#event:pinchStatus}\r\n  * @property {function} [tap=null] A handler triggered when a user just taps on the item, rather than swipes it. If they do not move, tap is triggered, if they do move, it is not.\r\n  * @property {function} [doubleTap=null] A handler triggered when a user double taps on the item. The delay between taps can be set with the doubleTapThreshold property. See {@link $.fn.swipe.defaults#doubleTapThreshold}\r\n  * @property {function} [longTap=null] A handler triggered when a user long taps on the item. The delay between start and end can be set with the longTapThreshold property. See {@link $.fn.swipe.defaults#longTapThreshold}\r\n  * @property (function) [hold=null] A handler triggered when a user reaches longTapThreshold on the item. See {@link $.fn.swipe.defaults#longTapThreshold}\r\n  * @property {boolean} [triggerOnTouchEnd=true] If true, the swipe events are triggered when the touch end event is received (user releases finger).  If false, it will be triggered on reaching the threshold, and then cancel the touch event automatically.\r\n  * @property {boolean} [triggerOnTouchLeave=false] If true, then when the user leaves the swipe object, the swipe will end and trigger appropriate handlers.\r\n  * @property {string|undefined} [allowPageScroll='auto'] How the browser handles page scrolls when the user is swiping on a touchSwipe object. See {@link $.fn.swipe.pageScroll}.  <br/><br/>\r\n  \t\t\t\t\t\t\t\t\t<code>\"auto\"</code> : all undefined swipes will cause the page to scroll in that direction. <br/>\r\n  \t\t\t\t\t\t\t\t\t<code>\"none\"</code> : the page will not scroll when user swipes. <br/>\r\n  \t\t\t\t\t\t\t\t\t<code>\"horizontal\"</code> : will force page to scroll on horizontal swipes. <br/>\r\n  \t\t\t\t\t\t\t\t\t<code>\"vertical\"</code> : will force page to scroll on vertical swipes. <br/>\r\n  * @property {boolean} [fallbackToMouseEvents=true] If true mouse events are used when run on a non touch device, false will stop swipes being triggered by mouse events on non tocuh devices.\r\n  * @property {string} [excludedElements=\".noSwipe\"] A jquery selector that specifies child elements that do NOT trigger swipes. By default this excludes elements with the class .noSwipe .\r\n  * @property {boolean} [preventDefaultEvents=true] by default default events are cancelled, so the page doesn't move.  You can dissable this so both native events fire as well as your handlers.\r\n\r\n  */\r\n  var defaults = {\r\n    fingers: 1,\r\n    threshold: 75,\r\n    cancelThreshold: null,\r\n    pinchThreshold: 20,\r\n    maxTimeThreshold: null,\r\n    fingerReleaseThreshold: 250,\r\n    longTapThreshold: 500,\r\n    doubleTapThreshold: 200,\r\n    swipe: null,\r\n    swipeLeft: null,\r\n    swipeRight: null,\r\n    swipeUp: null,\r\n    swipeDown: null,\r\n    swipeStatus: null,\r\n    pinchIn: null,\r\n    pinchOut: null,\r\n    pinchStatus: null,\r\n    click: null, //Deprecated since 1.6.2\r\n    tap: null,\r\n    doubleTap: null,\r\n    longTap: null,\r\n    hold: null,\r\n    triggerOnTouchEnd: true,\r\n    triggerOnTouchLeave: false,\r\n    allowPageScroll: \"auto\",\r\n    fallbackToMouseEvents: true,\r\n    excludedElements: \".noSwipe\",\r\n    preventDefaultEvents: true\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   * Applies TouchSwipe behaviour to one or more jQuery objects.\r\n   * The TouchSwipe plugin can be instantiated via this method, or methods within\r\n   * TouchSwipe can be executed via this method as per jQuery plugin architecture.\r\n   * An existing plugin can have its options changed simply by re calling .swipe(options)\r\n   * @see TouchSwipe\r\n   * @class\r\n   * @param {Mixed} method If the current DOMNode is a TouchSwipe object, and <code>method</code> is a TouchSwipe method, then\r\n   * the <code>method</code> is executed, and any following arguments are passed to the TouchSwipe method.\r\n   * If <code>method</code> is an object, then the TouchSwipe class is instantiated on the current DOMNode, passing the\r\n   * configuration properties defined in the object. See TouchSwipe\r\n   *\r\n   */\r\n  $.fn.swipe = function(method) {\r\n    var $this = $(this),\r\n      plugin = $this.data(PLUGIN_NS);\r\n\r\n    //Check if we are already instantiated and trying to execute a method\r\n    if (plugin && typeof method === 'string') {\r\n      if (plugin[method]) {\r\n        return plugin[method].apply(plugin, Array.prototype.slice.call(arguments, 1));\r\n      } else {\r\n        $.error('Method ' + method + ' does not exist on jQuery.swipe');\r\n      }\r\n    }\r\n\r\n    //Else update existing plugin with new options hash\r\n    else if (plugin && typeof method === 'object') {\r\n      plugin['option'].apply(plugin, arguments);\r\n    }\r\n\r\n    //Else not instantiated and trying to pass init object (or nothing)\r\n    else if (!plugin && (typeof method === 'object' || !method)) {\r\n      return init.apply(this, arguments);\r\n    }\r\n\r\n    return $this;\r\n  };\r\n\r\n  /**\r\n   * The version of the plugin\r\n   * @readonly\r\n   */\r\n  $.fn.swipe.version = VERSION;\r\n\r\n\r\n\r\n  //Expose our defaults so a user could override the plugin defaults\r\n  $.fn.swipe.defaults = defaults;\r\n\r\n  /**\r\n   * The phases that a touch event goes through.  The <code>phase</code> is passed to the event handlers.\r\n   * These properties are read only, attempting to change them will not alter the values passed to the event handlers.\r\n   * @namespace\r\n   * @readonly\r\n   * @property {string} PHASE_START Constant indicating the start phase of the touch event. Value is <code>\"start\"</code>.\r\n   * @property {string} PHASE_MOVE Constant indicating the move phase of the touch event. Value is <code>\"move\"</code>.\r\n   * @property {string} PHASE_END Constant indicating the end phase of the touch event. Value is <code>\"end\"</code>.\r\n   * @property {string} PHASE_CANCEL Constant indicating the cancel phase of the touch event. Value is <code>\"cancel\"</code>.\r\n   */\r\n  $.fn.swipe.phases = {\r\n    PHASE_START: PHASE_START,\r\n    PHASE_MOVE: PHASE_MOVE,\r\n    PHASE_END: PHASE_END,\r\n    PHASE_CANCEL: PHASE_CANCEL\r\n  };\r\n\r\n  /**\r\n   * The direction constants that are passed to the event handlers.\r\n   * These properties are read only, attempting to change them will not alter the values passed to the event handlers.\r\n   * @namespace\r\n   * @readonly\r\n   * @property {string} LEFT Constant indicating the left direction. Value is <code>\"left\"</code>.\r\n   * @property {string} RIGHT Constant indicating the right direction. Value is <code>\"right\"</code>.\r\n   * @property {string} UP Constant indicating the up direction. Value is <code>\"up\"</code>.\r\n   * @property {string} DOWN Constant indicating the down direction. Value is <code>\"cancel\"</code>.\r\n   * @property {string} IN Constant indicating the in direction. Value is <code>\"in\"</code>.\r\n   * @property {string} OUT Constant indicating the out direction. Value is <code>\"out\"</code>.\r\n   */\r\n  $.fn.swipe.directions = {\r\n    LEFT: LEFT,\r\n    RIGHT: RIGHT,\r\n    UP: UP,\r\n    DOWN: DOWN,\r\n    IN: IN,\r\n    OUT: OUT\r\n  };\r\n\r\n  /**\r\n   * The page scroll constants that can be used to set the value of <code>allowPageScroll</code> option\r\n   * These properties are read only\r\n   * @namespace\r\n   * @readonly\r\n   * @see $.fn.swipe.defaults#allowPageScroll\r\n   * @property {string} NONE Constant indicating no page scrolling is allowed. Value is <code>\"none\"</code>.\r\n   * @property {string} HORIZONTAL Constant indicating horizontal page scrolling is allowed. Value is <code>\"horizontal\"</code>.\r\n   * @property {string} VERTICAL Constant indicating vertical page scrolling is allowed. Value is <code>\"vertical\"</code>.\r\n   * @property {string} AUTO Constant indicating either horizontal or vertical will be allowed, depending on the swipe handlers registered. Value is <code>\"auto\"</code>.\r\n   */\r\n  $.fn.swipe.pageScroll = {\r\n    NONE: NONE,\r\n    HORIZONTAL: HORIZONTAL,\r\n    VERTICAL: VERTICAL,\r\n    AUTO: AUTO\r\n  };\r\n\r\n  /**\r\n   * Constants representing the number of fingers used in a swipe.  These are used to set both the value of <code>fingers</code> in the\r\n   * options object, as well as the value of the <code>fingers</code> event property.\r\n   * These properties are read only, attempting to change them will not alter the values passed to the event handlers.\r\n   * @namespace\r\n   * @readonly\r\n   * @see $.fn.swipe.defaults#fingers\r\n   * @property {string} ONE Constant indicating 1 finger is to be detected / was detected. Value is <code>1</code>.\r\n   * @property {string} TWO Constant indicating 2 fingers are to be detected / were detected. Value is <code>2</code>.\r\n   * @property {string} THREE Constant indicating 3 finger are to be detected / were detected. Value is <code>3</code>.\r\n   * @property {string} FOUR Constant indicating 4 finger are to be detected / were detected. Not all devices support this. Value is <code>4</code>.\r\n   * @property {string} FIVE Constant indicating 5 finger are to be detected / were detected. Not all devices support this. Value is <code>5</code>.\r\n   * @property {string} ALL Constant indicating any combination of finger are to be detected.  Value is <code>\"all\"</code>.\r\n   */\r\n  $.fn.swipe.fingers = {\r\n    ONE: 1,\r\n    TWO: 2,\r\n    THREE: 3,\r\n    FOUR: 4,\r\n    FIVE: 5,\r\n    ALL: ALL_FINGERS\r\n  };\r\n\r\n  /**\r\n   * Initialise the plugin for each DOM element matched\r\n   * This creates a new instance of the main TouchSwipe class for each DOM element, and then\r\n   * saves a reference to that instance in the elements data property.\r\n   * @internal\r\n   */\r\n  function init(options) {\r\n    //Prep and extend the options\r\n    if (options && (options.allowPageScroll === undefined && (options.swipe !== undefined || options.swipeStatus !== undefined))) {\r\n      options.allowPageScroll = NONE;\r\n    }\r\n\r\n    //Check for deprecated options\r\n    //Ensure that any old click handlers are assigned to the new tap, unless we have a tap\r\n    if (options.click !== undefined && options.tap === undefined) {\r\n      options.tap = options.click;\r\n    }\r\n\r\n    if (!options) {\r\n      options = {};\r\n    }\r\n\r\n    //pass empty object so we dont modify the defaults\r\n    options = $.extend({}, $.fn.swipe.defaults, options);\r\n\r\n    //For each element instantiate the plugin\r\n    return this.each(function() {\r\n      var $this = $(this);\r\n\r\n      //Check we havent already initialised the plugin\r\n      var plugin = $this.data(PLUGIN_NS);\r\n\r\n      if (!plugin) {\r\n        plugin = new TouchSwipe(this, options);\r\n        $this.data(PLUGIN_NS, plugin);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Main TouchSwipe Plugin Class.\r\n   * Do not use this to construct your TouchSwipe object, use the jQuery plugin method $.fn.swipe(); {@link $.fn.swipe}\r\n   * @private\r\n   * @name TouchSwipe\r\n   * @param {DOMNode} element The HTML DOM object to apply to plugin to\r\n   * @param {Object} options The options to configure the plugin with.  @link {$.fn.swipe.defaults}\r\n   * @see $.fh.swipe.defaults\r\n   * @see $.fh.swipe\r\n   * @class\r\n   */\r\n  function TouchSwipe(element, options) {\r\n\r\n    //take a local/instacne level copy of the options - should make it this.options really...\r\n    var options = $.extend({}, options);\r\n\r\n    var useTouchEvents = (SUPPORTS_TOUCH || SUPPORTS_POINTER || !options.fallbackToMouseEvents),\r\n      START_EV = useTouchEvents ? (SUPPORTS_POINTER ? (SUPPORTS_POINTER_IE10 ? 'MSPointerDown' : 'pointerdown') : 'touchstart') : 'mousedown',\r\n      MOVE_EV = useTouchEvents ? (SUPPORTS_POINTER ? (SUPPORTS_POINTER_IE10 ? 'MSPointerMove' : 'pointermove') : 'touchmove') : 'mousemove',\r\n      END_EV = useTouchEvents ? (SUPPORTS_POINTER ? (SUPPORTS_POINTER_IE10 ? 'MSPointerUp' : 'pointerup') : 'touchend') : 'mouseup',\r\n      LEAVE_EV = useTouchEvents ? (SUPPORTS_POINTER ? 'mouseleave' : null) : 'mouseleave', //we manually detect leave on touch devices, so null event here\r\n      CANCEL_EV = (SUPPORTS_POINTER ? (SUPPORTS_POINTER_IE10 ? 'MSPointerCancel' : 'pointercancel') : 'touchcancel');\r\n\r\n\r\n\r\n    //touch properties\r\n    var distance = 0,\r\n      direction = null,\r\n      currentDirection = null,\r\n      duration = 0,\r\n      startTouchesDistance = 0,\r\n      endTouchesDistance = 0,\r\n      pinchZoom = 1,\r\n      pinchDistance = 0,\r\n      pinchDirection = 0,\r\n      maximumsMap = null;\r\n\r\n\r\n\r\n    //jQuery wrapped element for this instance\r\n    var $element = $(element);\r\n\r\n    //Current phase of th touch cycle\r\n    var phase = \"start\";\r\n\r\n    // the current number of fingers being used.\r\n    var fingerCount = 0;\r\n\r\n    //track mouse points / delta\r\n    var fingerData = {};\r\n\r\n    //track times\r\n    var startTime = 0,\r\n      endTime = 0,\r\n      previousTouchEndTime = 0,\r\n      fingerCountAtRelease = 0,\r\n      doubleTapStartTime = 0;\r\n\r\n    //Timeouts\r\n    var singleTapTimeout = null,\r\n      holdTimeout = null;\r\n\r\n    // Add gestures to all swipable areas if supported\r\n    try {\r\n      $element.bind(START_EV, touchStart);\r\n      $element.bind(CANCEL_EV, touchCancel);\r\n    } catch (e) {\r\n      $.error('events not supported ' + START_EV + ',' + CANCEL_EV + ' on jQuery.swipe');\r\n    }\r\n\r\n    //\r\n    //Public methods\r\n    //\r\n\r\n    /**\r\n     * re-enables the swipe plugin with the previous configuration\r\n     * @function\r\n     * @name $.fn.swipe#enable\r\n     * @return {DOMNode} The Dom element that was registered with TouchSwipe\r\n     * @example $(\"#element\").swipe(\"enable\");\r\n     */\r\n    this.enable = function() {\r\n      //Incase we are already enabled, clean up...\r\n      this.disable();\r\n      $element.bind(START_EV, touchStart);\r\n      $element.bind(CANCEL_EV, touchCancel);\r\n      return $element;\r\n    };\r\n\r\n    /**\r\n     * disables the swipe plugin\r\n     * @function\r\n     * @name $.fn.swipe#disable\r\n     * @return {DOMNode} The Dom element that is now registered with TouchSwipe\r\n     * @example $(\"#element\").swipe(\"disable\");\r\n     */\r\n    this.disable = function() {\r\n      removeListeners();\r\n      return $element;\r\n    };\r\n\r\n    /**\r\n     * Destroy the swipe plugin completely. To use any swipe methods, you must re initialise the plugin.\r\n     * @function\r\n     * @name $.fn.swipe#destroy\r\n     * @example $(\"#element\").swipe(\"destroy\");\r\n     */\r\n    this.destroy = function() {\r\n      removeListeners();\r\n      $element.data(PLUGIN_NS, null);\r\n      $element = null;\r\n    };\r\n\r\n\r\n    /**\r\n     * Allows run time updating of the swipe configuration options.\r\n     * @function\r\n     * @name $.fn.swipe#option\r\n     * @param {String} property The option property to get or set, or a has of multiple options to set\r\n     * @param {Object} [value] The value to set the property to\r\n     * @return {Object} If only a property name is passed, then that property value is returned. If nothing is passed the current options hash is returned.\r\n     * @example $(\"#element\").swipe(\"option\", \"threshold\"); // return the threshold\r\n     * @example $(\"#element\").swipe(\"option\", \"threshold\", 100); // set the threshold after init\r\n     * @example $(\"#element\").swipe(\"option\", {threshold:100, fingers:3} ); // set multiple properties after init\r\n     * @example $(\"#element\").swipe({threshold:100, fingers:3} ); // set multiple properties after init - the \"option\" method is optional!\r\n     * @example $(\"#element\").swipe(\"option\"); // Return the current options hash\r\n     * @see $.fn.swipe.defaults\r\n     *\r\n     */\r\n    this.option = function(property, value) {\r\n\r\n      if (typeof property === 'object') {\r\n        options = $.extend(options, property);\r\n      } else if (options[property] !== undefined) {\r\n        if (value === undefined) {\r\n          return options[property];\r\n        } else {\r\n          options[property] = value;\r\n        }\r\n      } else if (!property) {\r\n        return options;\r\n      } else {\r\n        $.error('Option ' + property + ' does not exist on jQuery.swipe.options');\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n\r\n\r\n    //\r\n    // Private methods\r\n    //\r\n\r\n    //\r\n    // EVENTS\r\n    //\r\n    /**\r\n     * Event handler for a touch start event.\r\n     * Stops the default click event from triggering and stores where we touched\r\n     * @inner\r\n     * @param {object} jqEvent The normalised jQuery event object.\r\n     */\r\n    function touchStart(jqEvent) {\r\n\r\n      //If we already in a touch event (a finger already in use) then ignore subsequent ones..\r\n      if (getTouchInProgress()) {\r\n        return;\r\n      }\r\n\r\n      //Check if this element matches any in the excluded elements selectors,  or its parent is excluded, if so, DON'T swipe\r\n      if ($(jqEvent.target).closest(options.excludedElements, $element).length > 0) {\r\n        return;\r\n      }\r\n\r\n      //As we use Jquery bind for events, we need to target the original event object\r\n      //If these events are being programmatically triggered, we don't have an original event object, so use the Jq one.\r\n      var event = jqEvent.originalEvent ? jqEvent.originalEvent : jqEvent;\r\n\r\n\r\n      //If we have a pointer event, whoes type is 'mouse' and we have said NO mouse events, then dont do anything.\r\n      if(event.pointerType && event.pointerType==\"mouse\" && options.fallbackToMouseEvents==false) {\r\n        return;\r\n      };\r\n\r\n      var ret,\r\n        touches = event.touches,\r\n        evt = touches ? touches[0] : event;\r\n\r\n      phase = PHASE_START;\r\n\r\n      //If we support touches, get the finger count\r\n      if (touches) {\r\n        // get the total number of fingers touching the screen\r\n        fingerCount = touches.length;\r\n      }\r\n      //Else this is the desktop, so stop the browser from dragging content\r\n      else if (options.preventDefaultEvents !== false) {\r\n        jqEvent.preventDefault(); //call this on jq event so we are cross browser\r\n      }\r\n\r\n      //clear vars..\r\n      distance = 0;\r\n      direction = null;\r\n      currentDirection=null;\r\n      pinchDirection = null;\r\n      duration = 0;\r\n      startTouchesDistance = 0;\r\n      endTouchesDistance = 0;\r\n      pinchZoom = 1;\r\n      pinchDistance = 0;\r\n      maximumsMap = createMaximumsData();\r\n      cancelMultiFingerRelease();\r\n\r\n      //Create the default finger data\r\n      createFingerData(0, evt);\r\n\r\n      // check the number of fingers is what we are looking for, or we are capturing pinches\r\n      if (!touches || (fingerCount === options.fingers || options.fingers === ALL_FINGERS) || hasPinches()) {\r\n        // get the coordinates of the touch\r\n        startTime = getTimeStamp();\r\n\r\n        if (fingerCount == 2) {\r\n          //Keep track of the initial pinch distance, so we can calculate the diff later\r\n          //Store second finger data as start\r\n          createFingerData(1, touches[1]);\r\n          startTouchesDistance = endTouchesDistance = calculateTouchesDistance(fingerData[0].start, fingerData[1].start);\r\n        }\r\n\r\n        if (options.swipeStatus || options.pinchStatus) {\r\n          ret = triggerHandler(event, phase);\r\n        }\r\n      } else {\r\n        //A touch with more or less than the fingers we are looking for, so cancel\r\n        ret = false;\r\n      }\r\n\r\n      //If we have a return value from the users handler, then return and cancel\r\n      if (ret === false) {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n        return ret;\r\n      } else {\r\n        if (options.hold) {\r\n          holdTimeout = setTimeout($.proxy(function() {\r\n            //Trigger the event\r\n            $element.trigger('hold', [event.target]);\r\n            //Fire the callback\r\n            if (options.hold) {\r\n              ret = options.hold.call($element, event, event.target);\r\n            }\r\n          }, this), options.longTapThreshold);\r\n        }\r\n\r\n        setTouchInProgress(true);\r\n      }\r\n\r\n      return null;\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Event handler for a touch move event.\r\n     * If we change fingers during move, then cancel the event\r\n     * @inner\r\n     * @param {object} jqEvent The normalised jQuery event object.\r\n     */\r\n    function touchMove(jqEvent) {\r\n\r\n      //As we use Jquery bind for events, we need to target the original event object\r\n      //If these events are being programmatically triggered, we don't have an original event object, so use the Jq one.\r\n      var event = jqEvent.originalEvent ? jqEvent.originalEvent : jqEvent;\r\n\r\n      //If we are ending, cancelling, or within the threshold of 2 fingers being released, don't track anything..\r\n      if (phase === PHASE_END || phase === PHASE_CANCEL || inMultiFingerRelease())\r\n        return;\r\n\r\n      var ret,\r\n        touches = event.touches,\r\n        evt = touches ? touches[0] : event;\r\n\r\n\r\n      //Update the  finger data\r\n      var currentFinger = updateFingerData(evt);\r\n      endTime = getTimeStamp();\r\n\r\n      if (touches) {\r\n        fingerCount = touches.length;\r\n      }\r\n\r\n      if (options.hold) {\r\n        clearTimeout(holdTimeout);\r\n      }\r\n\r\n      phase = PHASE_MOVE;\r\n\r\n      //If we have 2 fingers get Touches distance as well\r\n      if (fingerCount == 2) {\r\n\r\n        //Keep track of the initial pinch distance, so we can calculate the diff later\r\n        //We do this here as well as the start event, in case they start with 1 finger, and the press 2 fingers\r\n        if (startTouchesDistance == 0) {\r\n          //Create second finger if this is the first time...\r\n          createFingerData(1, touches[1]);\r\n\r\n          startTouchesDistance = endTouchesDistance = calculateTouchesDistance(fingerData[0].start, fingerData[1].start);\r\n        } else {\r\n          //Else just update the second finger\r\n          updateFingerData(touches[1]);\r\n\r\n          endTouchesDistance = calculateTouchesDistance(fingerData[0].end, fingerData[1].end);\r\n          pinchDirection = calculatePinchDirection(fingerData[0].end, fingerData[1].end);\r\n        }\r\n\r\n        pinchZoom = calculatePinchZoom(startTouchesDistance, endTouchesDistance);\r\n        pinchDistance = Math.abs(startTouchesDistance - endTouchesDistance);\r\n      }\r\n\r\n      if ((fingerCount === options.fingers || options.fingers === ALL_FINGERS) || !touches || hasPinches()) {\r\n\r\n        //The overall direction of the swipe. From start to now.\r\n        direction = calculateDirection(currentFinger.start, currentFinger.end);\r\n\r\n        //The immediate direction of the swipe, direction between the last movement and this one.\r\n        currentDirection = calculateDirection(currentFinger.last, currentFinger.end);\r\n\r\n        //Check if we need to prevent default event (page scroll / pinch zoom) or not\r\n        validateDefaultEvent(jqEvent, currentDirection);\r\n\r\n        //Distance and duration are all off the main finger\r\n        distance = calculateDistance(currentFinger.start, currentFinger.end);\r\n        duration = calculateDuration();\r\n\r\n        //Cache the maximum distance we made in this direction\r\n        setMaxDistance(direction, distance);\r\n\r\n        //Trigger status handler\r\n        ret = triggerHandler(event, phase);\r\n\r\n\r\n        //If we trigger end events when threshold are met, or trigger events when touch leaves element\r\n        if (!options.triggerOnTouchEnd || options.triggerOnTouchLeave) {\r\n\r\n          var inBounds = true;\r\n\r\n          //If checking if we leave the element, run the bounds check (we can use touchleave as its not supported on webkit)\r\n          if (options.triggerOnTouchLeave) {\r\n            var bounds = getbounds(this);\r\n            inBounds = isInBounds(currentFinger.end, bounds);\r\n          }\r\n\r\n          //Trigger end handles as we swipe if thresholds met or if we have left the element if the user has asked to check these..\r\n          if (!options.triggerOnTouchEnd && inBounds) {\r\n            phase = getNextPhase(PHASE_MOVE);\r\n          }\r\n          //We end if out of bounds here, so set current phase to END, and check if its modified\r\n          else if (options.triggerOnTouchLeave && !inBounds) {\r\n            phase = getNextPhase(PHASE_END);\r\n          }\r\n\r\n          if (phase == PHASE_CANCEL || phase == PHASE_END) {\r\n            triggerHandler(event, phase);\r\n          }\r\n        }\r\n      } else {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n      }\r\n\r\n      if (ret === false) {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * Event handler for a touch end event.\r\n     * Calculate the direction and trigger events\r\n     * @inner\r\n     * @param {object} jqEvent The normalised jQuery event object.\r\n     */\r\n    function touchEnd(jqEvent) {\r\n      //As we use Jquery bind for events, we need to target the original event object\r\n      //If these events are being programmatically triggered, we don't have an original event object, so use the Jq one.\r\n      var event = jqEvent.originalEvent ? jqEvent.originalEvent : jqEvent,\r\n        touches = event.touches;\r\n\r\n      //If we are still in a touch with the device wait a fraction and see if the other finger comes up\r\n      //if it does within the threshold, then we treat it as a multi release, not a single release and end the touch / swipe\r\n      if (touches) {\r\n        if (touches.length && !inMultiFingerRelease()) {\r\n          startMultiFingerRelease(event);\r\n          return true;\r\n        } else if (touches.length && inMultiFingerRelease()) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      //If a previous finger has been released, check how long ago, if within the threshold, then assume it was a multifinger release.\r\n      //This is used to allow 2 fingers to release fractionally after each other, whilst maintaining the event as containing 2 fingers, not 1\r\n      if (inMultiFingerRelease()) {\r\n        fingerCount = fingerCountAtRelease;\r\n      }\r\n\r\n      //Set end of swipe\r\n      endTime = getTimeStamp();\r\n\r\n      //Get duration incase move was never fired\r\n      duration = calculateDuration();\r\n\r\n      //If we trigger handlers at end of swipe OR, we trigger during, but they didnt trigger and we are still in the move phase\r\n      if (didSwipeBackToCancel() || !validateSwipeDistance()) {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n      } else if (options.triggerOnTouchEnd || (options.triggerOnTouchEnd === false && phase === PHASE_MOVE)) {\r\n        //call this on jq event so we are cross browser\r\n        if (options.preventDefaultEvents !== false) {\r\n          jqEvent.preventDefault();\r\n        }\r\n        phase = PHASE_END;\r\n        triggerHandler(event, phase);\r\n      }\r\n      //Special cases - A tap should always fire on touch end regardless,\r\n      //So here we manually trigger the tap end handler by itself\r\n      //We dont run trigger handler as it will re-trigger events that may have fired already\r\n      else if (!options.triggerOnTouchEnd && hasTap()) {\r\n        //Trigger the pinch events...\r\n        phase = PHASE_END;\r\n        triggerHandlerForGesture(event, phase, TAP);\r\n      } else if (phase === PHASE_MOVE) {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n      }\r\n\r\n      setTouchInProgress(false);\r\n\r\n      return null;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Event handler for a touch cancel event.\r\n     * Clears current vars\r\n     * @inner\r\n     */\r\n    function touchCancel() {\r\n      // reset the variables back to default values\r\n      fingerCount = 0;\r\n      endTime = 0;\r\n      startTime = 0;\r\n      startTouchesDistance = 0;\r\n      endTouchesDistance = 0;\r\n      pinchZoom = 1;\r\n\r\n      //If we were in progress of tracking a possible multi touch end, then re set it.\r\n      cancelMultiFingerRelease();\r\n\r\n      setTouchInProgress(false);\r\n    }\r\n\r\n\r\n    /**\r\n     * Event handler for a touch leave event.\r\n     * This is only triggered on desktops, in touch we work this out manually\r\n     * as the touchleave event is not supported in webkit\r\n     * @inner\r\n     */\r\n    function touchLeave(jqEvent) {\r\n      //If these events are being programmatically triggered, we don't have an original event object, so use the Jq one.\r\n      var event = jqEvent.originalEvent ? jqEvent.originalEvent : jqEvent;\r\n\r\n      //If we have the trigger on leave property set....\r\n      if (options.triggerOnTouchLeave) {\r\n        phase = getNextPhase(PHASE_END);\r\n        triggerHandler(event, phase);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Removes all listeners that were associated with the plugin\r\n     * @inner\r\n     */\r\n    function removeListeners() {\r\n      $element.unbind(START_EV, touchStart);\r\n      $element.unbind(CANCEL_EV, touchCancel);\r\n      $element.unbind(MOVE_EV, touchMove);\r\n      $element.unbind(END_EV, touchEnd);\r\n\r\n      //we only have leave events on desktop, we manually calculate leave on touch as its not supported in webkit\r\n      if (LEAVE_EV) {\r\n        $element.unbind(LEAVE_EV, touchLeave);\r\n      }\r\n\r\n      setTouchInProgress(false);\r\n    }\r\n\r\n\r\n    /**\r\n     * Checks if the time and distance thresholds have been met, and if so then the appropriate handlers are fired.\r\n     */\r\n    function getNextPhase(currentPhase) {\r\n\r\n      var nextPhase = currentPhase;\r\n\r\n      // Ensure we have valid swipe (under time and over distance  and check if we are out of bound...)\r\n      var validTime = validateSwipeTime();\r\n      var validDistance = validateSwipeDistance();\r\n      var didCancel = didSwipeBackToCancel();\r\n\r\n      //If we have exceeded our time, then cancel\r\n      if (!validTime || didCancel) {\r\n        nextPhase = PHASE_CANCEL;\r\n      }\r\n      //Else if we are moving, and have reached distance then end\r\n      else if (validDistance && currentPhase == PHASE_MOVE && (!options.triggerOnTouchEnd || options.triggerOnTouchLeave)) {\r\n        nextPhase = PHASE_END;\r\n      }\r\n      //Else if we have ended by leaving and didn't reach distance, then cancel\r\n      else if (!validDistance && currentPhase == PHASE_END && options.triggerOnTouchLeave) {\r\n        nextPhase = PHASE_CANCEL;\r\n      }\r\n\r\n      return nextPhase;\r\n    }\r\n\r\n\r\n    /**\r\n     * Trigger the relevant event handler\r\n     * The handlers are passed the original event, the element that was swiped, and in the case of the catch all handler, the direction that was swiped, \"left\", \"right\", \"up\", or \"down\"\r\n     * @param {object} event the original event object\r\n     * @param {string} phase the phase of the swipe (start, end cancel etc) {@link $.fn.swipe.phases}\r\n     * @inner\r\n     */\r\n    function triggerHandler(event, phase) {\r\n\r\n\r\n\r\n      var ret,\r\n        touches = event.touches;\r\n\r\n      // SWIPE GESTURES\r\n      if (didSwipe() || hasSwipes()) {\r\n          ret = triggerHandlerForGesture(event, phase, SWIPE);\r\n      }\r\n\r\n      // PINCH GESTURES (if the above didn't cancel)\r\n      if ((didPinch() || hasPinches()) && ret !== false) {\r\n          ret = triggerHandlerForGesture(event, phase, PINCH);\r\n      }\r\n\r\n      // CLICK / TAP (if the above didn't cancel)\r\n      if (didDoubleTap() && ret !== false) {\r\n        //Trigger the tap events...\r\n        ret = triggerHandlerForGesture(event, phase, DOUBLE_TAP);\r\n      }\r\n\r\n      // CLICK / TAP (if the above didn't cancel)\r\n      else if (didLongTap() && ret !== false) {\r\n        //Trigger the tap events...\r\n        ret = triggerHandlerForGesture(event, phase, LONG_TAP);\r\n      }\r\n\r\n      // CLICK / TAP (if the above didn't cancel)\r\n      else if (didTap() && ret !== false) {\r\n        //Trigger the tap event..\r\n        ret = triggerHandlerForGesture(event, phase, TAP);\r\n      }\r\n\r\n\r\n\r\n      // If we are cancelling the gesture, then manually trigger the reset handler\r\n      if (phase === PHASE_CANCEL) {\r\n\r\n        touchCancel(event);\r\n      }\r\n\r\n\r\n\r\n\r\n      // If we are ending the gesture, then manually trigger the reset handler IF all fingers are off\r\n      if (phase === PHASE_END) {\r\n        //If we support touch, then check that all fingers are off before we cancel\r\n        if (touches) {\r\n          if (!touches.length) {\r\n            touchCancel(event);\r\n          }\r\n        } else {\r\n          touchCancel(event);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Trigger the relevant event handler\r\n     * The handlers are passed the original event, the element that was swiped, and in the case of the catch all handler, the direction that was swiped, \"left\", \"right\", \"up\", or \"down\"\r\n     * @param {object} event the original event object\r\n     * @param {string} phase the phase of the swipe (start, end cancel etc) {@link $.fn.swipe.phases}\r\n     * @param {string} gesture the gesture to trigger a handler for : PINCH or SWIPE {@link $.fn.swipe.gestures}\r\n     * @return Boolean False, to indicate that the event should stop propagation, or void.\r\n     * @inner\r\n     */\r\n    function triggerHandlerForGesture(event, phase, gesture) {\r\n\r\n      var ret;\r\n\r\n      //SWIPES....\r\n      if (gesture == SWIPE) {\r\n        //Trigger status every time..\r\n        $element.trigger('swipeStatus', [phase, direction || null, distance || 0, duration || 0, fingerCount, fingerData, currentDirection]);\r\n\r\n        if (options.swipeStatus) {\r\n          ret = options.swipeStatus.call($element, event, phase, direction || null, distance || 0, duration || 0, fingerCount, fingerData, currentDirection);\r\n          //If the status cancels, then dont run the subsequent event handlers..\r\n          if (ret === false) return false;\r\n        }\r\n\r\n        if (phase == PHASE_END && validateSwipe()) {\r\n\r\n          //Cancel any taps that were in progress...\r\n          clearTimeout(singleTapTimeout);\r\n          clearTimeout(holdTimeout);\r\n\r\n          $element.trigger('swipe', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n          if (options.swipe) {\r\n            ret = options.swipe.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n            //If the status cancels, then dont run the subsequent event handlers..\r\n            if (ret === false) return false;\r\n          }\r\n\r\n          //trigger direction specific event handlers\r\n          switch (direction) {\r\n            case LEFT:\r\n              $element.trigger('swipeLeft', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n              if (options.swipeLeft) {\r\n                ret = options.swipeLeft.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n              }\r\n              break;\r\n\r\n            case RIGHT:\r\n              $element.trigger('swipeRight', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n              if (options.swipeRight) {\r\n                ret = options.swipeRight.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n              }\r\n              break;\r\n\r\n            case UP:\r\n              $element.trigger('swipeUp', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n              if (options.swipeUp) {\r\n                ret = options.swipeUp.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n              }\r\n              break;\r\n\r\n            case DOWN:\r\n              $element.trigger('swipeDown', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n              if (options.swipeDown) {\r\n                ret = options.swipeDown.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n      //PINCHES....\r\n      if (gesture == PINCH) {\r\n        $element.trigger('pinchStatus', [phase, pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData]);\r\n\r\n        if (options.pinchStatus) {\r\n          ret = options.pinchStatus.call($element, event, phase, pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData);\r\n          //If the status cancels, then dont run the subsequent event handlers..\r\n          if (ret === false) return false;\r\n        }\r\n\r\n        if (phase == PHASE_END && validatePinch()) {\r\n\r\n          switch (pinchDirection) {\r\n            case IN:\r\n              $element.trigger('pinchIn', [pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData]);\r\n\r\n              if (options.pinchIn) {\r\n                ret = options.pinchIn.call($element, event, pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData);\r\n              }\r\n              break;\r\n\r\n            case OUT:\r\n              $element.trigger('pinchOut', [pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData]);\r\n\r\n              if (options.pinchOut) {\r\n                ret = options.pinchOut.call($element, event, pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData);\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (gesture == TAP) {\r\n        if (phase === PHASE_CANCEL || phase === PHASE_END) {\r\n\r\n          clearTimeout(singleTapTimeout);\r\n          clearTimeout(holdTimeout);\r\n\r\n          //If we are also looking for doubelTaps, wait incase this is one...\r\n          if (hasDoubleTap() && !inDoubleTap()) {\r\n            doubleTapStartTime = getTimeStamp();\r\n\r\n            //Now wait for the double tap timeout, and trigger this single tap\r\n            //if its not cancelled by a double tap\r\n            singleTapTimeout = setTimeout($.proxy(function() {\r\n              doubleTapStartTime = null;\r\n              $element.trigger('tap', [event.target]);\r\n\r\n              if (options.tap) {\r\n                ret = options.tap.call($element, event, event.target);\r\n              }\r\n            }, this), options.doubleTapThreshold);\r\n\r\n          } else {\r\n            doubleTapStartTime = null;\r\n            $element.trigger('tap', [event.target]);\r\n            if (options.tap) {\r\n              ret = options.tap.call($element, event, event.target);\r\n            }\r\n          }\r\n        }\r\n      } else if (gesture == DOUBLE_TAP) {\r\n        if (phase === PHASE_CANCEL || phase === PHASE_END) {\r\n          clearTimeout(singleTapTimeout);\r\n          clearTimeout(holdTimeout);\r\n          doubleTapStartTime = null;\r\n          $element.trigger('doubletap', [event.target]);\r\n\r\n          if (options.doubleTap) {\r\n            ret = options.doubleTap.call($element, event, event.target);\r\n          }\r\n        }\r\n      } else if (gesture == LONG_TAP) {\r\n        if (phase === PHASE_CANCEL || phase === PHASE_END) {\r\n          clearTimeout(singleTapTimeout);\r\n          doubleTapStartTime = null;\r\n\r\n          $element.trigger('longtap', [event.target]);\r\n          if (options.longTap) {\r\n            ret = options.longTap.call($element, event, event.target);\r\n          }\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    }\r\n\r\n\r\n    //\r\n    // GESTURE VALIDATION\r\n    //\r\n\r\n    /**\r\n     * Checks the user has swipe far enough\r\n     * @return Boolean if <code>threshold</code> has been set, return true if the threshold was met, else false.\r\n     * If no threshold was set, then we return true.\r\n     * @inner\r\n     */\r\n    function validateSwipeDistance() {\r\n      var valid = true;\r\n      //If we made it past the min swipe distance..\r\n      if (options.threshold !== null) {\r\n        valid = distance >= options.threshold;\r\n      }\r\n\r\n      return valid;\r\n    }\r\n\r\n    /**\r\n     * Checks the user has swiped back to cancel.\r\n     * @return Boolean if <code>cancelThreshold</code> has been set, return true if the cancelThreshold was met, else false.\r\n     * If no cancelThreshold was set, then we return true.\r\n     * @inner\r\n     */\r\n    function didSwipeBackToCancel() {\r\n      var cancelled = false;\r\n      if (options.cancelThreshold !== null && direction !== null) {\r\n        cancelled = (getMaxDistance(direction) - distance) >= options.cancelThreshold;\r\n      }\r\n\r\n      return cancelled;\r\n    }\r\n\r\n    /**\r\n     * Checks the user has pinched far enough\r\n     * @return Boolean if <code>pinchThreshold</code> has been set, return true if the threshold was met, else false.\r\n     * If no threshold was set, then we return true.\r\n     * @inner\r\n     */\r\n    function validatePinchDistance() {\r\n      if (options.pinchThreshold !== null) {\r\n        return pinchDistance >= options.pinchThreshold;\r\n      }\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Checks that the time taken to swipe meets the minimum / maximum requirements\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateSwipeTime() {\r\n      var result;\r\n      //If no time set, then return true\r\n      if (options.maxTimeThreshold) {\r\n        if (duration >= options.maxTimeThreshold) {\r\n          result = false;\r\n        } else {\r\n          result = true;\r\n        }\r\n      } else {\r\n        result = true;\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Checks direction of the swipe and the value allowPageScroll to see if we should allow or prevent the default behaviour from occurring.\r\n     * This will essentially allow page scrolling or not when the user is swiping on a touchSwipe object.\r\n     * @param {object} jqEvent The normalised jQuery representation of the event object.\r\n     * @param {string} direction The direction of the event. See {@link $.fn.swipe.directions}\r\n     * @see $.fn.swipe.directions\r\n     * @inner\r\n     */\r\n    function validateDefaultEvent(jqEvent, direction) {\r\n\r\n      //If the option is set, allways allow the event to bubble up (let user handle weirdness)\r\n      if (options.preventDefaultEvents === false) {\r\n        return;\r\n      }\r\n\r\n      if (options.allowPageScroll === NONE) {\r\n        jqEvent.preventDefault();\r\n      } else {\r\n        var auto = options.allowPageScroll === AUTO;\r\n\r\n        switch (direction) {\r\n          case LEFT:\r\n            if ((options.swipeLeft && auto) || (!auto && options.allowPageScroll != HORIZONTAL)) {\r\n              jqEvent.preventDefault();\r\n            }\r\n            break;\r\n\r\n          case RIGHT:\r\n            if ((options.swipeRight && auto) || (!auto && options.allowPageScroll != HORIZONTAL)) {\r\n              jqEvent.preventDefault();\r\n            }\r\n            break;\r\n\r\n          case UP:\r\n            if ((options.swipeUp && auto) || (!auto && options.allowPageScroll != VERTICAL)) {\r\n              jqEvent.preventDefault();\r\n            }\r\n            break;\r\n\r\n          case DOWN:\r\n            if ((options.swipeDown && auto) || (!auto && options.allowPageScroll != VERTICAL)) {\r\n              jqEvent.preventDefault();\r\n            }\r\n            break;\r\n\r\n          case NONE:\r\n\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    // PINCHES\r\n    /**\r\n     * Returns true of the current pinch meets the thresholds\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validatePinch() {\r\n      var hasCorrectFingerCount = validateFingers();\r\n      var hasEndPoint = validateEndPoint();\r\n      var hasCorrectDistance = validatePinchDistance();\r\n      return hasCorrectFingerCount && hasEndPoint && hasCorrectDistance;\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns true if any Pinch events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasPinches() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.pinchStatus || options.pinchIn || options.pinchOut);\r\n    }\r\n\r\n    /**\r\n     * Returns true if we are detecting pinches, and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didPinch() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validatePinch() && hasPinches());\r\n    }\r\n\r\n\r\n\r\n\r\n    // SWIPES\r\n    /**\r\n     * Returns true if the current swipe meets the thresholds\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateSwipe() {\r\n      //Check validity of swipe\r\n      var hasValidTime = validateSwipeTime();\r\n      var hasValidDistance = validateSwipeDistance();\r\n      var hasCorrectFingerCount = validateFingers();\r\n      var hasEndPoint = validateEndPoint();\r\n      var didCancel = didSwipeBackToCancel();\r\n\r\n      // if the user swiped more than the minimum length, perform the appropriate action\r\n      // hasValidDistance is null when no distance is set\r\n      var valid = !didCancel && hasEndPoint && hasCorrectFingerCount && hasValidDistance && hasValidTime;\r\n\r\n      return valid;\r\n    }\r\n\r\n    /**\r\n     * Returns true if any Swipe events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasSwipes() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.swipe || options.swipeStatus || options.swipeLeft || options.swipeRight || options.swipeUp || options.swipeDown);\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns true if we are detecting swipes and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didSwipe() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validateSwipe() && hasSwipes());\r\n    }\r\n\r\n    /**\r\n     * Returns true if we have matched the number of fingers we are looking for\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateFingers() {\r\n      //The number of fingers we want were matched, or on desktop we ignore\r\n      return ((fingerCount === options.fingers || options.fingers === ALL_FINGERS) || !SUPPORTS_TOUCH);\r\n    }\r\n\r\n    /**\r\n     * Returns true if we have an end point for the swipe\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateEndPoint() {\r\n      //We have an end value for the finger\r\n      return fingerData[0].end.x !== 0;\r\n    }\r\n\r\n    // TAP / CLICK\r\n    /**\r\n     * Returns true if a click / tap events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.tap);\r\n    }\r\n\r\n    /**\r\n     * Returns true if a double tap events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasDoubleTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.doubleTap);\r\n    }\r\n\r\n    /**\r\n     * Returns true if any long tap events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasLongTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.longTap);\r\n    }\r\n\r\n    /**\r\n     * Returns true if we could be in the process of a double tap (one tap has occurred, we are listening for double taps, and the threshold hasn't past.\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateDoubleTap() {\r\n      if (doubleTapStartTime == null) {\r\n        return false;\r\n      }\r\n      var now = getTimeStamp();\r\n      return (hasDoubleTap() && ((now - doubleTapStartTime) <= options.doubleTapThreshold));\r\n    }\r\n\r\n    /**\r\n     * Returns true if we could be in the process of a double tap (one tap has occurred, we are listening for double taps, and the threshold hasn't past.\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function inDoubleTap() {\r\n      return validateDoubleTap();\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns true if we have a valid tap\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateTap() {\r\n      return ((fingerCount === 1 || !SUPPORTS_TOUCH) && (isNaN(distance) || distance < options.threshold));\r\n    }\r\n\r\n    /**\r\n     * Returns true if we have a valid long tap\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateLongTap() {\r\n      //slight threshold on moving finger\r\n      return ((duration > options.longTapThreshold) && (distance < DOUBLE_TAP_THRESHOLD));\r\n    }\r\n\r\n    /**\r\n     * Returns true if we are detecting taps and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validateTap() && hasTap());\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns true if we are detecting double taps and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didDoubleTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validateDoubleTap() && hasDoubleTap());\r\n    }\r\n\r\n    /**\r\n     * Returns true if we are detecting long taps and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didLongTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validateLongTap() && hasLongTap());\r\n    }\r\n\r\n\r\n\r\n\r\n    // MULTI FINGER TOUCH\r\n    /**\r\n     * Starts tracking the time between 2 finger releases, and keeps track of how many fingers we initially had up\r\n     * @inner\r\n     */\r\n    function startMultiFingerRelease(event) {\r\n      previousTouchEndTime = getTimeStamp();\r\n      fingerCountAtRelease = event.touches.length + 1;\r\n    }\r\n\r\n    /**\r\n     * Cancels the tracking of time between 2 finger releases, and resets counters\r\n     * @inner\r\n     */\r\n    function cancelMultiFingerRelease() {\r\n      previousTouchEndTime = 0;\r\n      fingerCountAtRelease = 0;\r\n    }\r\n\r\n    /**\r\n     * Checks if we are in the threshold between 2 fingers being released\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function inMultiFingerRelease() {\r\n\r\n      var withinThreshold = false;\r\n\r\n      if (previousTouchEndTime) {\r\n        var diff = getTimeStamp() - previousTouchEndTime\r\n        if (diff <= options.fingerReleaseThreshold) {\r\n          withinThreshold = true;\r\n        }\r\n      }\r\n\r\n      return withinThreshold;\r\n    }\r\n\r\n\r\n    /**\r\n     * gets a data flag to indicate that a touch is in progress\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function getTouchInProgress() {\r\n      //strict equality to ensure only true and false are returned\r\n      return !!($element.data(PLUGIN_NS + '_intouch') === true);\r\n    }\r\n\r\n    /**\r\n     * Sets a data flag to indicate that a touch is in progress\r\n     * @param {boolean} val The value to set the property to\r\n     * @inner\r\n     */\r\n    function setTouchInProgress(val) {\r\n\r\n      //If destroy is called in an event handler, we have no el, and we have already cleaned up, so return.\r\n      if(!$element) { return; }\r\n\r\n      //Add or remove event listeners depending on touch status\r\n      if (val === true) {\r\n        $element.bind(MOVE_EV, touchMove);\r\n        $element.bind(END_EV, touchEnd);\r\n\r\n        //we only have leave events on desktop, we manually calcuate leave on touch as its not supported in webkit\r\n        if (LEAVE_EV) {\r\n          $element.bind(LEAVE_EV, touchLeave);\r\n        }\r\n      } else {\r\n\r\n        $element.unbind(MOVE_EV, touchMove, false);\r\n        $element.unbind(END_EV, touchEnd, false);\r\n\r\n        //we only have leave events on desktop, we manually calcuate leave on touch as its not supported in webkit\r\n        if (LEAVE_EV) {\r\n          $element.unbind(LEAVE_EV, touchLeave, false);\r\n        }\r\n      }\r\n\r\n\r\n      //strict equality to ensure only true and false can update the value\r\n      $element.data(PLUGIN_NS + '_intouch', val === true);\r\n    }\r\n\r\n\r\n    /**\r\n     * Creates the finger data for the touch/finger in the event object.\r\n     * @param {int} id The id to store the finger data under (usually the order the fingers were pressed)\r\n     * @param {object} evt The event object containing finger data\r\n     * @return finger data object\r\n     * @inner\r\n     */\r\n    function createFingerData(id, evt) {\r\n      var f = {\r\n        start: {\r\n          x: 0,\r\n          y: 0\r\n        },\r\n        last: {\r\n          x: 0,\r\n          y: 0\r\n        },\r\n        end: {\r\n          x: 0,\r\n          y: 0\r\n        }\r\n      };\r\n      f.start.x = f.last.x = f.end.x = evt.pageX || evt.clientX;\r\n      f.start.y = f.last.y = f.end.y = evt.pageY || evt.clientY;\r\n      fingerData[id] = f;\r\n      return f;\r\n    }\r\n\r\n    /**\r\n     * Updates the finger data for a particular event object\r\n     * @param {object} evt The event object containing the touch/finger data to upadte\r\n     * @return a finger data object.\r\n     * @inner\r\n     */\r\n    function updateFingerData(evt) {\r\n      var id = evt.identifier !== undefined ? evt.identifier : 0;\r\n      var f = getFingerData(id);\r\n\r\n      if (f === null) {\r\n        f = createFingerData(id, evt);\r\n      }\r\n\r\n      f.last.x = f.end.x;\r\n      f.last.y = f.end.y;\r\n\r\n      f.end.x = evt.pageX || evt.clientX;\r\n      f.end.y = evt.pageY || evt.clientY;\r\n\r\n      return f;\r\n    }\r\n\r\n    /**\r\n     * Returns a finger data object by its event ID.\r\n     * Each touch event has an identifier property, which is used\r\n     * to track repeat touches\r\n     * @param {int} id The unique id of the finger in the sequence of touch events.\r\n     * @return a finger data object.\r\n     * @inner\r\n     */\r\n    function getFingerData(id) {\r\n      return fingerData[id] || null;\r\n    }\r\n\r\n\r\n    /**\r\n     * Sets the maximum distance swiped in the given direction.\r\n     * If the new value is lower than the current value, the max value is not changed.\r\n     * @param {string}  direction The direction of the swipe\r\n     * @param {int}  distance The distance of the swipe\r\n     * @inner\r\n     */\r\n    function setMaxDistance(direction, distance) {\r\n      if(direction==NONE) return;\r\n      distance = Math.max(distance, getMaxDistance(direction));\r\n      maximumsMap[direction].distance = distance;\r\n    }\r\n\r\n    /**\r\n     * gets the maximum distance swiped in the given direction.\r\n     * @param {string}  direction The direction of the swipe\r\n     * @return int  The distance of the swipe\r\n     * @inner\r\n     */\r\n    function getMaxDistance(direction) {\r\n      if (maximumsMap[direction]) return maximumsMap[direction].distance;\r\n      return undefined;\r\n    }\r\n\r\n    /**\r\n     * Creats a map of directions to maximum swiped values.\r\n     * @return Object A dictionary of maximum values, indexed by direction.\r\n     * @inner\r\n     */\r\n    function createMaximumsData() {\r\n      var maxData = {};\r\n      maxData[LEFT] = createMaximumVO(LEFT);\r\n      maxData[RIGHT] = createMaximumVO(RIGHT);\r\n      maxData[UP] = createMaximumVO(UP);\r\n      maxData[DOWN] = createMaximumVO(DOWN);\r\n\r\n      return maxData;\r\n    }\r\n\r\n    /**\r\n     * Creates a map maximum swiped values for a given swipe direction\r\n     * @param {string} The direction that these values will be associated with\r\n     * @return Object Maximum values\r\n     * @inner\r\n     */\r\n    function createMaximumVO(dir) {\r\n      return {\r\n        direction: dir,\r\n        distance: 0\r\n      }\r\n    }\r\n\r\n\r\n    //\r\n    // MATHS / UTILS\r\n    //\r\n\r\n    /**\r\n     * Calculate the duration of the swipe\r\n     * @return int\r\n     * @inner\r\n     */\r\n    function calculateDuration() {\r\n      return endTime - startTime;\r\n    }\r\n\r\n    /**\r\n     * Calculate the distance between 2 touches (pinch)\r\n     * @param {point} startPoint A point object containing x and y co-ordinates\r\n     * @param {point} endPoint A point object containing x and y co-ordinates\r\n     * @return int;\r\n     * @inner\r\n     */\r\n    function calculateTouchesDistance(startPoint, endPoint) {\r\n      var diffX = Math.abs(startPoint.x - endPoint.x);\r\n      var diffY = Math.abs(startPoint.y - endPoint.y);\r\n\r\n      return Math.round(Math.sqrt(diffX * diffX + diffY * diffY));\r\n    }\r\n\r\n    /**\r\n     * Calculate the zoom factor between the start and end distances\r\n     * @param {int} startDistance Distance (between 2 fingers) the user started pinching at\r\n     * @param {int} endDistance Distance (between 2 fingers) the user ended pinching at\r\n     * @return float The zoom value from 0 to 1.\r\n     * @inner\r\n     */\r\n    function calculatePinchZoom(startDistance, endDistance) {\r\n      var percent = (endDistance / startDistance) * 1;\r\n      return percent.toFixed(2);\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns the pinch direction, either IN or OUT for the given points\r\n     * @return string Either {@link $.fn.swipe.directions.IN} or {@link $.fn.swipe.directions.OUT}\r\n     * @see $.fn.swipe.directions\r\n     * @inner\r\n     */\r\n    function calculatePinchDirection() {\r\n      if (pinchZoom < 1) {\r\n        return OUT;\r\n      } else {\r\n        return IN;\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * Calculate the length / distance of the swipe\r\n     * @param {point} startPoint A point object containing x and y co-ordinates\r\n     * @param {point} endPoint A point object containing x and y co-ordinates\r\n     * @return int\r\n     * @inner\r\n     */\r\n    function calculateDistance(startPoint, endPoint) {\r\n      return Math.round(Math.sqrt(Math.pow(endPoint.x - startPoint.x, 2) + Math.pow(endPoint.y - startPoint.y, 2)));\r\n    }\r\n\r\n    /**\r\n     * Calculate the angle of the swipe\r\n     * @param {point} startPoint A point object containing x and y co-ordinates\r\n     * @param {point} endPoint A point object containing x and y co-ordinates\r\n     * @return int\r\n     * @inner\r\n     */\r\n    function calculateAngle(startPoint, endPoint) {\r\n      var x = startPoint.x - endPoint.x;\r\n      var y = endPoint.y - startPoint.y;\r\n      var r = Math.atan2(y, x); //radians\r\n      var angle = Math.round(r * 180 / Math.PI); //degrees\r\n\r\n      //ensure value is positive\r\n      if (angle < 0) {\r\n        angle = 360 - Math.abs(angle);\r\n      }\r\n\r\n      return angle;\r\n    }\r\n\r\n    /**\r\n     * Calculate the direction of the swipe\r\n     * This will also call calculateAngle to get the latest angle of swipe\r\n     * @param {point} startPoint A point object containing x and y co-ordinates\r\n     * @param {point} endPoint A point object containing x and y co-ordinates\r\n     * @return string Either {@link $.fn.swipe.directions.LEFT} / {@link $.fn.swipe.directions.RIGHT} / {@link $.fn.swipe.directions.DOWN} / {@link $.fn.swipe.directions.UP}\r\n     * @see $.fn.swipe.directions\r\n     * @inner\r\n     */\r\n    function calculateDirection(startPoint, endPoint) {\r\n\r\n      if( comparePoints(startPoint, endPoint) ) {\r\n        return NONE;\r\n      }\r\n\r\n      var angle = calculateAngle(startPoint, endPoint);\r\n\r\n      if ((angle <= 45) && (angle >= 0)) {\r\n        return LEFT;\r\n      } else if ((angle <= 360) && (angle >= 315)) {\r\n        return LEFT;\r\n      } else if ((angle >= 135) && (angle <= 225)) {\r\n        return RIGHT;\r\n      } else if ((angle > 45) && (angle < 135)) {\r\n        return DOWN;\r\n      } else {\r\n        return UP;\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a MS time stamp of the current time\r\n     * @return int\r\n     * @inner\r\n     */\r\n    function getTimeStamp() {\r\n      var now = new Date();\r\n      return now.getTime();\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Returns a bounds object with left, right, top and bottom properties for the element specified.\r\n     * @param {DomNode} The DOM node to get the bounds for.\r\n     */\r\n    function getbounds(el) {\r\n      el = $(el);\r\n      var offset = el.offset();\r\n\r\n      var bounds = {\r\n        left: offset.left,\r\n        right: offset.left + el.outerWidth(),\r\n        top: offset.top,\r\n        bottom: offset.top + el.outerHeight()\r\n      }\r\n\r\n      return bounds;\r\n    }\r\n\r\n\r\n    /**\r\n     * Checks if the point object is in the bounds object.\r\n     * @param {object} point A point object.\r\n     * @param {int} point.x The x value of the point.\r\n     * @param {int} point.y The x value of the point.\r\n     * @param {object} bounds The bounds object to test\r\n     * @param {int} bounds.left The leftmost value\r\n     * @param {int} bounds.right The righttmost value\r\n     * @param {int} bounds.top The topmost value\r\n     * @param {int} bounds.bottom The bottommost value\r\n     */\r\n    function isInBounds(point, bounds) {\r\n      return (point.x > bounds.left && point.x < bounds.right && point.y > bounds.top && point.y < bounds.bottom);\r\n    };\r\n\r\n    /**\r\n     * Checks if the two points are equal\r\n     * @param {object} point A point object.\r\n     * @param {object} point B point object.\r\n     * @return true of the points match\r\n     */\r\n    function comparePoints(pointA, pointB) {\r\n      return (pointA.x == pointB.x && pointA.y == pointB.y);\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  /**\r\n   * A catch all handler that is triggered for all swipe directions.\r\n   * @name $.fn.swipe#swipe\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n\r\n\r\n\r\n  /**\r\n   * A handler that is triggered for \"left\" swipes.\r\n   * @name $.fn.swipe#swipeLeft\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler that is triggered for \"right\" swipes.\r\n   * @name $.fn.swipe#swipeRight\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler that is triggered for \"up\" swipes.\r\n   * @name $.fn.swipe#swipeUp\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler that is triggered for \"down\" swipes.\r\n   * @name $.fn.swipe#swipeDown\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler triggered for every phase of the swipe. This handler is constantly fired for the duration of the pinch.\r\n   * This is triggered regardless of swipe thresholds.\r\n   * @name $.fn.swipe#swipeStatus\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {string} phase The phase of the swipe event. See {@link $.fn.swipe.phases}\r\n   * @param {string} direction The direction the user swiped in. This is null if the user has yet to move. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped. This is 0 if the user has yet to move.\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler triggered for pinch in events.\r\n   * @name $.fn.swipe#pinchIn\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user pinched in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user pinched\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {int} zoom The zoom/scale level the user pinched too, 0-1.\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   */\r\n\r\n  /**\r\n   * A handler triggered for pinch out events.\r\n   * @name $.fn.swipe#pinchOut\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user pinched in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user pinched\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {int} zoom The zoom/scale level the user pinched too, 0-1.\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   */\r\n\r\n  /**\r\n   * A handler triggered for all pinch events. This handler is constantly fired for the duration of the pinch. This is triggered regardless of thresholds.\r\n   * @name $.fn.swipe#pinchStatus\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user pinched in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user pinched\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {int} zoom The zoom/scale level the user pinched too, 0-1.\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   */\r\n\r\n  /**\r\n   * A click handler triggered when a user simply clicks, rather than swipes on an element.\r\n   * This is deprecated since version 1.6.2, any assignment to click will be assigned to the tap handler.\r\n   * You cannot use <code>on</code> to bind to this event as the default jQ <code>click</code> event will be triggered.\r\n   * Use the <code>tap</code> event instead.\r\n   * @name $.fn.swipe#click\r\n   * @event\r\n   * @deprecated since version 1.6.2, please use {@link $.fn.swipe#tap} instead\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n  /**\r\n   * A click / tap handler triggered when a user simply clicks or taps, rather than swipes on an element.\r\n   * @name $.fn.swipe#tap\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n  /**\r\n   * A double tap handler triggered when a user double clicks or taps on an element.\r\n   * You can set the time delay for a double tap with the {@link $.fn.swipe.defaults#doubleTapThreshold} property.\r\n   * Note: If you set both <code>doubleTap</code> and <code>tap</code> handlers, the <code>tap</code> event will be delayed by the <code>doubleTapThreshold</code>\r\n   * as the script needs to check if its a double tap.\r\n   * @name $.fn.swipe#doubleTap\r\n   * @see  $.fn.swipe.defaults#doubleTapThreshold\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n  /**\r\n   * A long tap handler triggered once a tap has been release if the tap was longer than the longTapThreshold.\r\n   * You can set the time delay for a long tap with the {@link $.fn.swipe.defaults#longTapThreshold} property.\r\n   * @name $.fn.swipe#longTap\r\n   * @see  $.fn.swipe.defaults#longTapThreshold\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n  /**\r\n   * A hold tap handler triggered as soon as the longTapThreshold is reached\r\n   * You can set the time delay for a long tap with the {@link $.fn.swipe.defaults#longTapThreshold} property.\r\n   * @name $.fn.swipe#hold\r\n   * @see  $.fn.swipe.defaults#longTapThreshold\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n}));\r\n","/*! jQuery Validation Plugin - v1.14.0 - 6/30/2015\r\n * http://jqueryvalidation.org/\r\n * Copyright (c) 2015 Jörn Zaefferer; Licensed MIT */\r\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn(\"Nothing selected, can't validate, returning nothing.\"));var c=a.data(this[0],\"validator\");return c?c:(this.attr(\"novalidate\",\"novalidate\"),c=new a.validator(b,this[0]),a.data(this[0],\"validator\",c),c.settings.onsubmit&&(this.on(\"click.validate\",\":submit\",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass(\"cancel\")&&(c.cancelSubmit=!0),void 0!==a(this).attr(\"formnovalidate\")&&(c.cancelSubmit=!0)}),this.on(\"submit.validate\",function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a(\"<input type='hidden'/>\").attr(\"name\",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is(\"form\")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,d=d.concat(c.errorList)}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,\"validator\").settings,e=d.rules,f=a.validator.staticRules(j),b){case\"add\":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case\"remove\":return c?(i={},a.each(c.split(/\\s/),function(b,c){i[c]=f[c],delete f[c],\"required\"===c&&a(j).removeAttr(\"aria-required\")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr(\"aria-required\",\"true\")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[\":\"],{blank:function(b){return!a.trim(\"\"+a(b).val())},filled:function(b){return!!a.trim(\"\"+a(b).val())},unchecked:function(b){return!a(b).prop(\"checked\")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp(\"\\\\{\"+a+\"\\\\}\",\"g\"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:\"error\",validClass:\"valid\",errorElement:\"label\",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:\":hidden\",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&\"\"===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b===this.lastElement)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){\"radio\"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){\"radio\"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:\"This field is required.\",remote:\"Please fix this field.\",email:\"Please enter a valid email address.\",url:\"Please enter a valid URL.\",date:\"Please enter a valid date.\",dateISO:\"Please enter a valid date ( ISO ).\",number:\"Please enter a valid number.\",digits:\"Please enter only digits.\",creditcard:\"Please enter a valid credit card number.\",equalTo:\"Please enter the same value again.\",maxlength:a.validator.format(\"Please enter no more than {0} characters.\"),minlength:a.validator.format(\"Please enter at least {0} characters.\"),rangelength:a.validator.format(\"Please enter a value between {0} and {1} characters long.\"),range:a.validator.format(\"Please enter a value between {0} and {1}.\"),max:a.validator.format(\"Please enter a value less than or equal to {0}.\"),min:a.validator.format(\"Please enter a value greater than or equal to {0}.\")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this.form,\"validator\"),d=\"on\"+b.type.replace(/^validate/,\"\"),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){\"string\"==typeof c&&(c=c.split(/\\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on(\"focusin.validate focusout.validate keyup.validate\",\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']\",b).on(\"click.validate\",\"select, option, [type='radio'], [type='checkbox']\",b),this.settings.invalidHandler&&a(this.currentForm).on(\"invalid-form.validate\",this.settings.invalidHandler),a(this.currentForm).find(\"[required], [data-rule-required], .required\").attr(\"aria-required\",\"true\")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler(\"invalid-form\",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr(\"aria-invalid\",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var b,c=this.elements().removeData(\"previousValue\").removeAttr(\"aria-invalid\");if(this.settings.unhighlight)for(b=0;c[b];b++)this.settings.unhighlight.call(this,c[b],this.settings.errorClass,\"\");else c.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(\"\"),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(\":visible\").focus().trigger(\"focusin\")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find(\"input, select, textarea\").not(\":submit, :reset, :image, :disabled\").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error(\"%o has no name assigned\",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(\" \").join(\".\");return a(this.settings.errorElement+\".\"+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=b.type;return\"radio\"===e||\"checkbox\"===e?this.findByName(b.name).filter(\":checked\").val():\"number\"===e&&\"undefined\"!=typeof b.validity?b.validity.badInput?!1:d.val():(c=d.val(),\"string\"==typeof c?c.replace(/\\r/g,\"\"):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),\"dependency-mismatch\"===c&&1===g){h=!0;continue}if(h=!1,\"pending\"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log(\"Exception occurred when checking element \"+b.id+\", check the '\"+e.method+\"' method.\",j),j instanceof TypeError&&(j.message+=\".  Exception occurred when checking element \"+b.id+\", check the '\"+e.method+\"' method.\"),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data(\"msg\"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data(\"msg\")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],\"<strong>Warning: No message defined for \"+b.name+\"</strong>\")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\\$?\\{(\\d+)\\}/g;\"function\"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,\"{$1}\"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g=this.errorsFor(b),h=this.idOrName(b),i=a(b).attr(\"aria-describedby\");g.length?(g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),g.html(c)):(g=a(\"<\"+this.settings.errorElement+\">\").attr(\"id\",h+\"-error\").addClass(this.settings.errorClass).html(c||\"\"),d=g,this.settings.wrapper&&(d=g.hide().show().wrap(\"<\"+this.settings.wrapper+\"/>\").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),g.is(\"label\")?g.attr(\"for\",h):0===g.parents(\"label[for='\"+h+\"']\").length&&(f=g.attr(\"id\").replace(/(:|\\.|\\[|\\]|\\$)/g,\"\\\\$1\"),i?i.match(new RegExp(\"\\\\b\"+f+\"\\\\b\"))||(i+=\" \"+f):i=f,a(b).attr(\"aria-describedby\",i),e=this.groups[b.name],e&&a.each(this.groups,function(b,c){c===e&&a(\"[name='\"+b+\"']\",this.currentForm).attr(\"aria-describedby\",g.attr(\"id\"))}))),!c&&this.settings.success&&(g.text(\"\"),\"string\"==typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,b)),this.toShow=this.toShow.add(g)},errorsFor:function(b){var c=this.idOrName(b),d=a(b).attr(\"aria-describedby\"),e=\"label[for='\"+c+\"'], label[for='\"+c+\"'] *\";return d&&(e=e+\", #\"+d.replace(/\\s+/g,\", #\")),this.errors().filter(e)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find(\"[name='\"+b+\"']\")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case\"select\":return a(\"option:selected\",c).length;case\"input\":if(this.checkable(c))return this.findByName(c.name).filter(\":checked\").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{\"boolean\":function(a){return a},string:function(b,c){return!!a(b,c.form).length},\"function\":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&\"dependency-mismatch\"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler(\"invalid-form\",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,\"previousValue\")||a.data(b,\"previousValue\",{old:null,valid:!0,message:this.defaultMessage(b,\"remote\")})},destroy:function(){this.resetForm(),a(this.currentForm).off(\".validate\").removeData(\"validator\")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr(\"class\");return d&&a.each(d.split(\" \"),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&\"range\"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute(\"type\");for(c in a.validator.methods)\"required\"===c?(d=b.getAttribute(c),\"\"===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute(\"type\");for(c in a.validator.methods)d=f.data(\"rule\"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,\"validator\");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case\"string\":f=!!a(e.depends,c.form).length;break;case\"function\":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each([\"minlength\",\"maxlength\"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each([\"rangelength\",\"range\"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:\"string\"==typeof b[this]&&(c=b[this].replace(/[\\[\\]]/g,\"\").split(/[\\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if(\"string\"==typeof b){var c={};a.each(b.split(/\\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return\"dependency-mismatch\";if(\"select\"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return\"dependency-mismatch\";if(/[^0-9 \\-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\\D/g,\"\"),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.off(\".validate-equalTo\").on(\"blur.validate-equalTo\",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return\"dependency-mismatch\";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d=\"string\"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{mode:\"abort\",port:\"validate\"+c.name,dataType:\"json\",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||\"true\"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,\"remote\"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),\"pending\")}}});var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;\"abort\"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=(\"mode\"in d?d:a.ajaxSettings).mode,f=(\"port\"in d?d:a.ajaxSettings).port;return\"abort\"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})});","/*\r\n     _ _      _       _\r\n ___| (_) ___| | __  (_)___\r\n/ __| | |/ __| |/ /  | / __|\r\n\\__ \\ | | (__|   < _ | \\__ \\\r\n|___/_|_|\\___|_|\\_(_)/ |___/\r\n                   |__/\r\n\r\n Version: 1.9.0\r\n  Author: Ken Wheeler\r\n Website: http://kenwheeler.github.io\r\n    Docs: http://kenwheeler.github.io/slick\r\n    Repo: http://github.com/kenwheeler/slick\r\n  Issues: http://github.com/kenwheeler/slick/issues\r\n\r\n */\r\n/* global window, document, define, jQuery, setInterval, clearInterval */\r\n;(function(factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['jquery'], factory);\r\n    } else if (typeof exports !== 'undefined') {\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n\r\n}(function($) {\r\n    'use strict';\r\n    var Slick = window.Slick || {};\r\n\r\n    Slick = (function() {\r\n\r\n        var instanceUid = 0;\r\n\r\n        function Slick(element, settings) {\r\n\r\n            var _ = this, dataSettings;\r\n\r\n            _.defaults = {\r\n                accessibility: true,\r\n                adaptiveHeight: false,\r\n                appendArrows: $(element),\r\n                appendDots: $(element),\r\n                arrows: true,\r\n                asNavFor: null,\r\n                prevArrow: '<button class=\"slick-prev\" aria-label=\"Previous\" type=\"button\">Previous</button>',\r\n                nextArrow: '<button class=\"slick-next\" aria-label=\"Next\" type=\"button\">Next</button>',\r\n                autoplay: false,\r\n                autoplaySpeed: 3000,\r\n                centerMode: false,\r\n                centerPadding: '50px',\r\n                cssEase: 'ease',\r\n                customPaging: function(slider, i) {\r\n                    return $('<button type=\"button\" />').text(i + 1);\r\n                },\r\n                dots: false,\r\n                dotsClass: 'slick-dots',\r\n                draggable: true,\r\n                easing: 'linear',\r\n                edgeFriction: 0.35,\r\n                fade: false,\r\n                focusOnSelect: false,\r\n                focusOnChange: false,\r\n                infinite: true,\r\n                initialSlide: 0,\r\n                lazyLoad: 'ondemand',\r\n                mobileFirst: false,\r\n                pauseOnHover: true,\r\n                pauseOnFocus: true,\r\n                pauseOnDotsHover: false,\r\n                respondTo: 'window',\r\n                responsive: null,\r\n                rows: 1,\r\n                rtl: false,\r\n                slide: '',\r\n                slidesPerRow: 1,\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n                speed: 500,\r\n                swipe: true,\r\n                swipeToSlide: false,\r\n                touchMove: true,\r\n                touchThreshold: 5,\r\n                useCSS: true,\r\n                useTransform: true,\r\n                variableWidth: false,\r\n                vertical: false,\r\n                verticalSwiping: false,\r\n                waitForAnimate: true,\r\n                zIndex: 1000\r\n            };\r\n\r\n            _.initials = {\r\n                animating: false,\r\n                dragging: false,\r\n                autoPlayTimer: null,\r\n                currentDirection: 0,\r\n                currentLeft: null,\r\n                currentSlide: 0,\r\n                direction: 1,\r\n                $dots: null,\r\n                listWidth: null,\r\n                listHeight: null,\r\n                loadIndex: 0,\r\n                $nextArrow: null,\r\n                $prevArrow: null,\r\n                scrolling: false,\r\n                slideCount: null,\r\n                slideWidth: null,\r\n                $slideTrack: null,\r\n                $slides: null,\r\n                sliding: false,\r\n                slideOffset: 0,\r\n                swipeLeft: null,\r\n                swiping: false,\r\n                $list: null,\r\n                touchObject: {},\r\n                transformsEnabled: false,\r\n                unslicked: false\r\n            };\r\n\r\n            $.extend(_, _.initials);\r\n\r\n            _.activeBreakpoint = null;\r\n            _.animType = null;\r\n            _.animProp = null;\r\n            _.breakpoints = [];\r\n            _.breakpointSettings = [];\r\n            _.cssTransitions = false;\r\n            _.focussed = false;\r\n            _.interrupted = false;\r\n            _.hidden = 'hidden';\r\n            _.paused = true;\r\n            _.positionProp = null;\r\n            _.respondTo = null;\r\n            _.rowCount = 1;\r\n            _.shouldClick = true;\r\n            _.$slider = $(element);\r\n            _.$slidesCache = null;\r\n            _.transformType = null;\r\n            _.transitionType = null;\r\n            _.visibilityChange = 'visibilitychange';\r\n            _.windowWidth = 0;\r\n            _.windowTimer = null;\r\n\r\n            dataSettings = $(element).data('slick') || {};\r\n\r\n            _.options = $.extend({}, _.defaults, settings, dataSettings);\r\n\r\n            _.currentSlide = _.options.initialSlide;\r\n\r\n            _.originalSettings = _.options;\r\n\r\n            if (typeof document.mozHidden !== 'undefined') {\r\n                _.hidden = 'mozHidden';\r\n                _.visibilityChange = 'mozvisibilitychange';\r\n            } else if (typeof document.webkitHidden !== 'undefined') {\r\n                _.hidden = 'webkitHidden';\r\n                _.visibilityChange = 'webkitvisibilitychange';\r\n            }\r\n\r\n            _.autoPlay = $.proxy(_.autoPlay, _);\r\n            _.autoPlayClear = $.proxy(_.autoPlayClear, _);\r\n            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);\r\n            _.changeSlide = $.proxy(_.changeSlide, _);\r\n            _.clickHandler = $.proxy(_.clickHandler, _);\r\n            _.selectHandler = $.proxy(_.selectHandler, _);\r\n            _.setPosition = $.proxy(_.setPosition, _);\r\n            _.swipeHandler = $.proxy(_.swipeHandler, _);\r\n            _.dragHandler = $.proxy(_.dragHandler, _);\r\n            _.keyHandler = $.proxy(_.keyHandler, _);\r\n\r\n            _.instanceUid = instanceUid++;\r\n\r\n            // A simple way to check for HTML strings\r\n            // Strict HTML recognition (must start with <)\r\n            // Extracted from jQuery v1.11 source\r\n            _.htmlExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*)$/;\r\n\r\n\r\n            _.registerBreakpoints();\r\n            _.init(true);\r\n\r\n        }\r\n\r\n        return Slick;\r\n\r\n    }());\r\n\r\n    Slick.prototype.activateADA = function() {\r\n        var _ = this;\r\n\r\n        _.$slideTrack.find('.slick-active').attr({\r\n            'aria-hidden': 'false'\r\n        }).find('a, input, button, select').attr({\r\n            'tabindex': '0'\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {\r\n\r\n        var _ = this;\r\n\r\n        if (typeof(index) === 'boolean') {\r\n            addBefore = index;\r\n            index = null;\r\n        } else if (index < 0 || (index >= _.slideCount)) {\r\n            return false;\r\n        }\r\n\r\n        _.unload();\r\n\r\n        if (typeof(index) === 'number') {\r\n            if (index === 0 && _.$slides.length === 0) {\r\n                $(markup).appendTo(_.$slideTrack);\r\n            } else if (addBefore) {\r\n                $(markup).insertBefore(_.$slides.eq(index));\r\n            } else {\r\n                $(markup).insertAfter(_.$slides.eq(index));\r\n            }\r\n        } else {\r\n            if (addBefore === true) {\r\n                $(markup).prependTo(_.$slideTrack);\r\n            } else {\r\n                $(markup).appendTo(_.$slideTrack);\r\n            }\r\n        }\r\n\r\n        _.$slides = _.$slideTrack.children(this.options.slide);\r\n\r\n        _.$slideTrack.children(this.options.slide).detach();\r\n\r\n        _.$slideTrack.append(_.$slides);\r\n\r\n        _.$slides.each(function(index, element) {\r\n            $(element).attr('data-slick-index', index);\r\n        });\r\n\r\n        _.$slidesCache = _.$slides;\r\n\r\n        _.reinit();\r\n\r\n    };\r\n\r\n    Slick.prototype.animateHeight = function() {\r\n        var _ = this;\r\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\r\n            var targetHeight = Math.round(_.$slides.eq(_.currentSlide)[0].getBoundingClientRect().height * 100) / 100;\r\n            _.$list.animate({\r\n                height: targetHeight\r\n            }, _.options.speed);\r\n        }\r\n    };\r\n\r\n    Slick.prototype.animateSlide = function(targetLeft, callback) {\r\n\r\n        var animProps = {},\r\n            _ = this;\r\n\r\n        _.animateHeight();\r\n\r\n        if (_.options.rtl === true && _.options.vertical === false) {\r\n            targetLeft = -targetLeft;\r\n        }\r\n        if (_.transformsEnabled === false) {\r\n            if (_.options.vertical === false) {\r\n                _.$slideTrack.animate({\r\n                    left: targetLeft\r\n                }, _.options.speed, _.options.easing, callback);\r\n            } else {\r\n                _.$slideTrack.animate({\r\n                    top: targetLeft\r\n                }, _.options.speed, _.options.easing, callback);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (_.cssTransitions === false) {\r\n                if (_.options.rtl === true) {\r\n                    _.currentLeft = -(_.currentLeft);\r\n                }\r\n                $({\r\n                    animStart: _.currentLeft\r\n                }).animate({\r\n                    animStart: targetLeft\r\n                }, {\r\n                    duration: _.options.speed,\r\n                    easing: _.options.easing,\r\n                    step: function(now) {\r\n                        now = Math.ceil(now);\r\n                        if (_.options.vertical === false) {\r\n                            animProps[_.animType] = 'translate(' +\r\n                                now + 'px, 0px)';\r\n                            _.$slideTrack.css(animProps);\r\n                        } else {\r\n                            animProps[_.animType] = 'translate(0px,' +\r\n                                now + 'px)';\r\n                            _.$slideTrack.css(animProps);\r\n                        }\r\n                    },\r\n                    complete: function() {\r\n                        if (callback) {\r\n                            callback.call();\r\n                        }\r\n                    }\r\n                });\r\n\r\n            } else {\r\n\r\n                _.applyTransition();\r\n                targetLeft = Math.ceil(targetLeft);\r\n\r\n                if (_.options.vertical === false) {\r\n                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';\r\n                } else {\r\n                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';\r\n                }\r\n                _.$slideTrack.css(animProps);\r\n\r\n                if (callback) {\r\n                    setTimeout(function() {\r\n\r\n                        _.disableTransition();\r\n\r\n                        callback.call();\r\n                    }, _.options.speed);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.getNavTarget = function() {\r\n\r\n        var _ = this,\r\n            asNavFor = _.options.asNavFor;\r\n\r\n        if ( asNavFor && asNavFor !== null ) {\r\n            asNavFor = $(asNavFor).not(_.$slider);\r\n        }\r\n\r\n        return asNavFor;\r\n\r\n    };\r\n\r\n    Slick.prototype.asNavFor = function(index) {\r\n\r\n        var _ = this,\r\n            asNavFor = _.getNavTarget();\r\n\r\n        if ( asNavFor !== null && typeof asNavFor === 'object' ) {\r\n            asNavFor.each(function() {\r\n                var target = $(this).slick('getSlick');\r\n                if(!target.unslicked) {\r\n                    target.slideHandler(index, true);\r\n                }\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.applyTransition = function(slide) {\r\n\r\n        var _ = this,\r\n            transition = {};\r\n\r\n        if (_.options.fade === false) {\r\n            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;\r\n        } else {\r\n            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;\r\n        }\r\n\r\n        if (_.options.fade === false) {\r\n            _.$slideTrack.css(transition);\r\n        } else {\r\n            _.$slides.eq(slide).css(transition);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlay = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlayClear();\r\n\r\n        if ( _.slideCount > _.options.slidesToShow ) {\r\n            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlayClear = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.autoPlayTimer) {\r\n            clearInterval(_.autoPlayTimer);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlayIterator = function() {\r\n\r\n        var _ = this,\r\n            slideTo = _.currentSlide + _.options.slidesToScroll;\r\n\r\n        if ( !_.paused && !_.interrupted && !_.focussed ) {\r\n\r\n            if ( _.options.infinite === false ) {\r\n\r\n                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {\r\n                    _.direction = 0;\r\n                }\r\n\r\n                else if ( _.direction === 0 ) {\r\n\r\n                    slideTo = _.currentSlide - _.options.slidesToScroll;\r\n\r\n                    if ( _.currentSlide - 1 === 0 ) {\r\n                        _.direction = 1;\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            _.slideHandler( slideTo );\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildArrows = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true ) {\r\n\r\n            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');\r\n            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');\r\n\r\n            if( _.slideCount > _.options.slidesToShow ) {\r\n\r\n                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\r\n                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\r\n\r\n                if (_.htmlExpr.test(_.options.prevArrow)) {\r\n                    _.$prevArrow.prependTo(_.options.appendArrows);\r\n                }\r\n\r\n                if (_.htmlExpr.test(_.options.nextArrow)) {\r\n                    _.$nextArrow.appendTo(_.options.appendArrows);\r\n                }\r\n\r\n                if (_.options.infinite !== true) {\r\n                    _.$prevArrow\r\n                        .addClass('slick-disabled')\r\n                        .attr('aria-disabled', 'true');\r\n                }\r\n\r\n            } else {\r\n\r\n                _.$prevArrow.add( _.$nextArrow )\r\n\r\n                    .addClass('slick-hidden')\r\n                    .attr({\r\n                        'aria-disabled': 'true',\r\n                        'tabindex': '-1'\r\n                    });\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildDots = function() {\r\n\r\n        var _ = this,\r\n            i, dot;\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$slider.addClass('slick-dotted');\r\n\r\n            dot = $('<ul />').addClass(_.options.dotsClass);\r\n\r\n            for (i = 0; i <= _.getDotCount(); i += 1) {\r\n                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));\r\n            }\r\n\r\n            _.$dots = dot.appendTo(_.options.appendDots);\r\n\r\n            _.$dots.find('li').first().addClass('slick-active');\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildOut = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.$slides =\r\n            _.$slider\r\n                .children( _.options.slide + ':not(.slick-cloned)')\r\n                .addClass('slick-slide');\r\n\r\n        _.slideCount = _.$slides.length;\r\n\r\n        _.$slides.each(function(index, element) {\r\n            $(element)\r\n                .attr('data-slick-index', index)\r\n                .data('originalStyling', $(element).attr('style') || '');\r\n        });\r\n\r\n        _.$slider.addClass('slick-slider');\r\n\r\n        _.$slideTrack = (_.slideCount === 0) ?\r\n            $('<div class=\"slick-track\"/>').appendTo(_.$slider) :\r\n            _.$slides.wrapAll('<div class=\"slick-track\"/>').parent();\r\n\r\n        _.$list = _.$slideTrack.wrap(\r\n            '<div class=\"slick-list\"/>').parent();\r\n        _.$slideTrack.css('opacity', 0);\r\n\r\n        if (_.options.centerMode === true || _.options.swipeToSlide === true) {\r\n            _.options.slidesToScroll = 1;\r\n        }\r\n\r\n        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');\r\n\r\n        _.setupInfinite();\r\n\r\n        _.buildArrows();\r\n\r\n        _.buildDots();\r\n\r\n        _.updateDots();\r\n\r\n\r\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\r\n\r\n        if (_.options.draggable === true) {\r\n            _.$list.addClass('draggable');\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildRows = function() {\r\n\r\n        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;\r\n\r\n        newSlides = document.createDocumentFragment();\r\n        originalSlides = _.$slider.children();\r\n\r\n        if(_.options.rows > 0) {\r\n\r\n            slidesPerSection = _.options.slidesPerRow * _.options.rows;\r\n            numOfSlides = Math.ceil(\r\n                originalSlides.length / slidesPerSection\r\n            );\r\n\r\n            for(a = 0; a < numOfSlides; a++){\r\n                var slide = document.createElement('div');\r\n                for(b = 0; b < _.options.rows; b++) {\r\n                    var row = document.createElement('div');\r\n                    for(c = 0; c < _.options.slidesPerRow; c++) {\r\n                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));\r\n                        if (originalSlides.get(target)) {\r\n                            row.appendChild(originalSlides.get(target));\r\n                        }\r\n                    }\r\n                    slide.appendChild(row);\r\n                }\r\n                newSlides.appendChild(slide);\r\n            }\r\n\r\n            _.$slider.empty().append(newSlides);\r\n            _.$slider.children().children().children()\r\n                .css({\r\n                    'width':(100 / _.options.slidesPerRow) + '%',\r\n                    'display': 'inline-block'\r\n                });\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.checkResponsive = function(initial, forceUpdate) {\r\n\r\n        var _ = this,\r\n            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;\r\n        var sliderWidth = _.$slider.width();\r\n        var windowWidth = window.innerWidth || $(window).width();\r\n\r\n        if (_.respondTo === 'window') {\r\n            respondToWidth = windowWidth;\r\n        } else if (_.respondTo === 'slider') {\r\n            respondToWidth = sliderWidth;\r\n        } else if (_.respondTo === 'min') {\r\n            respondToWidth = Math.min(windowWidth, sliderWidth);\r\n        }\r\n\r\n        if ( _.options.responsive &&\r\n            _.options.responsive.length &&\r\n            _.options.responsive !== null) {\r\n\r\n            targetBreakpoint = null;\r\n\r\n            for (breakpoint in _.breakpoints) {\r\n                if (_.breakpoints.hasOwnProperty(breakpoint)) {\r\n                    if (_.originalSettings.mobileFirst === false) {\r\n                        if (respondToWidth < _.breakpoints[breakpoint]) {\r\n                            targetBreakpoint = _.breakpoints[breakpoint];\r\n                        }\r\n                    } else {\r\n                        if (respondToWidth > _.breakpoints[breakpoint]) {\r\n                            targetBreakpoint = _.breakpoints[breakpoint];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (targetBreakpoint !== null) {\r\n                if (_.activeBreakpoint !== null) {\r\n                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {\r\n                        _.activeBreakpoint =\r\n                            targetBreakpoint;\r\n                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\r\n                            _.unslick(targetBreakpoint);\r\n                        } else {\r\n                            _.options = $.extend({}, _.originalSettings,\r\n                                _.breakpointSettings[\r\n                                    targetBreakpoint]);\r\n                            if (initial === true) {\r\n                                _.currentSlide = _.options.initialSlide;\r\n                            }\r\n                            _.refresh(initial);\r\n                        }\r\n                        triggerBreakpoint = targetBreakpoint;\r\n                    }\r\n                } else {\r\n                    _.activeBreakpoint = targetBreakpoint;\r\n                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\r\n                        _.unslick(targetBreakpoint);\r\n                    } else {\r\n                        _.options = $.extend({}, _.originalSettings,\r\n                            _.breakpointSettings[\r\n                                targetBreakpoint]);\r\n                        if (initial === true) {\r\n                            _.currentSlide = _.options.initialSlide;\r\n                        }\r\n                        _.refresh(initial);\r\n                    }\r\n                    triggerBreakpoint = targetBreakpoint;\r\n                }\r\n            } else {\r\n                if (_.activeBreakpoint !== null) {\r\n                    _.activeBreakpoint = null;\r\n                    _.options = _.originalSettings;\r\n                    if (initial === true) {\r\n                        _.currentSlide = _.options.initialSlide;\r\n                    }\r\n                    _.refresh(initial);\r\n                    triggerBreakpoint = targetBreakpoint;\r\n                }\r\n            }\r\n\r\n            // only trigger breakpoints during an actual break. not on initialize.\r\n            if( !initial && triggerBreakpoint !== false ) {\r\n                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.changeSlide = function(event, dontAnimate) {\r\n\r\n        var _ = this,\r\n            $target = $(event.currentTarget),\r\n            indexOffset, slideOffset, unevenOffset;\r\n\r\n        // If target is a link, prevent default action.\r\n        if($target.is('a')) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        // If target is not the <li> element (ie: a child), find the <li>.\r\n        if(!$target.is('li')) {\r\n            $target = $target.closest('li');\r\n        }\r\n\r\n        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);\r\n        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;\r\n\r\n        switch (event.data.message) {\r\n\r\n            case 'previous':\r\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;\r\n                if (_.slideCount > _.options.slidesToShow) {\r\n                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);\r\n                }\r\n                break;\r\n\r\n            case 'next':\r\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;\r\n                if (_.slideCount > _.options.slidesToShow) {\r\n                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);\r\n                }\r\n                break;\r\n\r\n            case 'index':\r\n                var index = event.data.index === 0 ? 0 :\r\n                    event.data.index || $target.index() * _.options.slidesToScroll;\r\n\r\n                _.slideHandler(_.checkNavigable(index), false, dontAnimate);\r\n                $target.children().trigger('focus');\r\n                break;\r\n\r\n            default:\r\n                return;\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.checkNavigable = function(index) {\r\n\r\n        var _ = this,\r\n            navigables, prevNavigable;\r\n\r\n        navigables = _.getNavigableIndexes();\r\n        prevNavigable = 0;\r\n        if (index > navigables[navigables.length - 1]) {\r\n            index = navigables[navigables.length - 1];\r\n        } else {\r\n            for (var n in navigables) {\r\n                if (index < navigables[n]) {\r\n                    index = prevNavigable;\r\n                    break;\r\n                }\r\n                prevNavigable = navigables[n];\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    Slick.prototype.cleanUpEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.dots && _.$dots !== null) {\r\n\r\n            $('li', _.$dots)\r\n                .off('click.slick', _.changeSlide)\r\n                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))\r\n                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.$dots.off('keydown.slick', _.keyHandler);\r\n            }\r\n        }\r\n\r\n        _.$slider.off('focus.slick blur.slick');\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);\r\n            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.$prevArrow && _.$prevArrow.off('keydown.slick', _.keyHandler);\r\n                _.$nextArrow && _.$nextArrow.off('keydown.slick', _.keyHandler);\r\n            }\r\n        }\r\n\r\n        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);\r\n        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);\r\n        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);\r\n        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);\r\n\r\n        _.$list.off('click.slick', _.clickHandler);\r\n\r\n        $(document).off(_.visibilityChange, _.visibility);\r\n\r\n        _.cleanUpSlideEvents();\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.$list.off('keydown.slick', _.keyHandler);\r\n        }\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().off('click.slick', _.selectHandler);\r\n        }\r\n\r\n        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);\r\n\r\n        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);\r\n\r\n        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);\r\n\r\n        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);\r\n\r\n    };\r\n\r\n    Slick.prototype.cleanUpSlideEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));\r\n        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));\r\n\r\n    };\r\n\r\n    Slick.prototype.cleanUpRows = function() {\r\n\r\n        var _ = this, originalSlides;\r\n\r\n        if(_.options.rows > 0) {\r\n            originalSlides = _.$slides.children().children();\r\n            originalSlides.removeAttr('style');\r\n            _.$slider.empty().append(originalSlides);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.clickHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.shouldClick === false) {\r\n            event.stopImmediatePropagation();\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.destroy = function(refresh) {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlayClear();\r\n\r\n        _.touchObject = {};\r\n\r\n        _.cleanUpEvents();\r\n\r\n        $('.slick-cloned', _.$slider).detach();\r\n\r\n        if (_.$dots) {\r\n            _.$dots.remove();\r\n        }\r\n\r\n        if ( _.$prevArrow && _.$prevArrow.length ) {\r\n\r\n            _.$prevArrow\r\n                .removeClass('slick-disabled slick-arrow slick-hidden')\r\n                .removeAttr('aria-hidden aria-disabled tabindex')\r\n                .css('display','');\r\n\r\n            if ( _.htmlExpr.test( _.options.prevArrow )) {\r\n                _.$prevArrow.remove();\r\n            }\r\n        }\r\n\r\n        if ( _.$nextArrow && _.$nextArrow.length ) {\r\n\r\n            _.$nextArrow\r\n                .removeClass('slick-disabled slick-arrow slick-hidden')\r\n                .removeAttr('aria-hidden aria-disabled tabindex')\r\n                .css('display','');\r\n\r\n            if ( _.htmlExpr.test( _.options.nextArrow )) {\r\n                _.$nextArrow.remove();\r\n            }\r\n        }\r\n\r\n\r\n        if (_.$slides) {\r\n\r\n            _.$slides\r\n                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')\r\n                .removeAttr('aria-hidden')\r\n                .removeAttr('data-slick-index')\r\n                .each(function(){\r\n                    $(this).attr('style', $(this).data('originalStyling'));\r\n                });\r\n\r\n            _.$slideTrack.children(this.options.slide).detach();\r\n\r\n            _.$slideTrack.detach();\r\n\r\n            _.$list.detach();\r\n\r\n            _.$slider.append(_.$slides);\r\n        }\r\n\r\n        _.cleanUpRows();\r\n\r\n        _.$slider.removeClass('slick-slider');\r\n        _.$slider.removeClass('slick-initialized');\r\n        _.$slider.removeClass('slick-dotted');\r\n\r\n        _.unslicked = true;\r\n\r\n        if(!refresh) {\r\n            _.$slider.trigger('destroy', [_]);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.disableTransition = function(slide) {\r\n\r\n        var _ = this,\r\n            transition = {};\r\n\r\n        transition[_.transitionType] = '';\r\n\r\n        if (_.options.fade === false) {\r\n            _.$slideTrack.css(transition);\r\n        } else {\r\n            _.$slides.eq(slide).css(transition);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.fadeSlide = function(slideIndex, callback) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.cssTransitions === false) {\r\n\r\n            _.$slides.eq(slideIndex).css({\r\n                zIndex: _.options.zIndex\r\n            });\r\n\r\n            _.$slides.eq(slideIndex).animate({\r\n                opacity: 1\r\n            }, _.options.speed, _.options.easing, callback);\r\n\r\n        } else {\r\n\r\n            _.applyTransition(slideIndex);\r\n\r\n            _.$slides.eq(slideIndex).css({\r\n                opacity: 1,\r\n                zIndex: _.options.zIndex\r\n            });\r\n\r\n            if (callback) {\r\n                setTimeout(function() {\r\n\r\n                    _.disableTransition(slideIndex);\r\n\r\n                    callback.call();\r\n                }, _.options.speed);\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.fadeSlideOut = function(slideIndex) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.cssTransitions === false) {\r\n\r\n            _.$slides.eq(slideIndex).animate({\r\n                opacity: 0,\r\n                zIndex: _.options.zIndex - 2\r\n            }, _.options.speed, _.options.easing);\r\n\r\n        } else {\r\n\r\n            _.applyTransition(slideIndex);\r\n\r\n            _.$slides.eq(slideIndex).css({\r\n                opacity: 0,\r\n                zIndex: _.options.zIndex - 2\r\n            });\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {\r\n\r\n        var _ = this;\r\n\r\n        if (filter !== null) {\r\n\r\n            _.$slidesCache = _.$slides;\r\n\r\n            _.unload();\r\n\r\n            _.$slideTrack.children(this.options.slide).detach();\r\n\r\n            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);\r\n\r\n            _.reinit();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.focusHandler = function() {\r\n\r\n        var _ = this;\r\n\r\n        // If any child element receives focus within the slider we need to pause the autoplay\r\n        _.$slider\r\n            .off('focus.slick blur.slick')\r\n            .on(\r\n                'focus.slick',\r\n                '*',\r\n                function(event) {\r\n                    var $sf = $(this);\r\n\r\n                    setTimeout(function() {\r\n                        if( _.options.pauseOnFocus ) {\r\n                            if ($sf.is(':focus')) {\r\n                                _.focussed = true;\r\n                                _.autoPlay();\r\n                            }\r\n                        }\r\n                    }, 0);\r\n                }\r\n            ).on(\r\n                'blur.slick',\r\n                '*',\r\n                function(event) {\r\n                    var $sf = $(this);\r\n\r\n                    // When a blur occurs on any elements within the slider we become unfocused\r\n                    if( _.options.pauseOnFocus ) {\r\n                        _.focussed = false;\r\n                        _.autoPlay();\r\n                    }\r\n                }\r\n            );\r\n    };\r\n\r\n    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {\r\n\r\n        var _ = this;\r\n        return _.currentSlide;\r\n\r\n    };\r\n\r\n    Slick.prototype.getDotCount = function() {\r\n\r\n        var _ = this;\r\n\r\n        var breakPoint = 0;\r\n        var counter = 0;\r\n        var pagerQty = 0;\r\n\r\n        if (_.options.infinite === true) {\r\n            if (_.slideCount <= _.options.slidesToShow) {\r\n                 ++pagerQty;\r\n            } else {\r\n                while (breakPoint < _.slideCount) {\r\n                    ++pagerQty;\r\n                    breakPoint = counter + _.options.slidesToScroll;\r\n                    counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\r\n                }\r\n            }\r\n        } else if (_.options.centerMode === true) {\r\n            pagerQty = _.slideCount;\r\n        } else if(!_.options.asNavFor) {\r\n            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);\r\n        }else {\r\n            while (breakPoint < _.slideCount) {\r\n                ++pagerQty;\r\n                breakPoint = counter + _.options.slidesToScroll;\r\n                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\r\n            }\r\n        }\r\n\r\n        return pagerQty - 1;\r\n\r\n    };\r\n\r\n    Slick.prototype.getLeft = function(slideIndex) {\r\n\r\n        var _ = this,\r\n            targetLeft,\r\n            verticalHeight,\r\n            verticalOffset = 0,\r\n            targetSlide,\r\n            coef;\r\n\r\n        _.slideOffset = 0;\r\n        verticalHeight = Math.round(_.$slides[0].getBoundingClientRect().height * 100) / 100;\r\n\r\n        if (_.options.infinite === true) {\r\n            if (_.slideCount > _.options.slidesToShow) {\r\n                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;\r\n                coef = -1\r\n\r\n                if (_.options.vertical === true && _.options.centerMode === true) {\r\n                    if (_.options.slidesToShow === 2) {\r\n                        coef = -1.5;\r\n                    } else if (_.options.slidesToShow === 1) {\r\n                        coef = -2\r\n                    }\r\n                }\r\n                verticalOffset = (verticalHeight * _.options.slidesToShow) * coef;\r\n            }\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {\r\n                    if (slideIndex > _.slideCount) {\r\n                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;\r\n                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;\r\n                    } else {\r\n                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;\r\n                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (slideIndex + _.options.slidesToShow > _.slideCount) {\r\n                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;\r\n                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;\r\n            }\r\n        }\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            _.slideOffset = 0;\r\n            verticalOffset = 0;\r\n        }\r\n\r\n        if (_.options.centerMode === true && _.slideCount <= _.options.slidesToShow) {\r\n            _.slideOffset = ((_.slideWidth * Math.floor(_.options.slidesToShow)) / 2) - ((_.slideWidth * _.slideCount) / 2);\r\n        } else if (_.options.centerMode === true && _.options.infinite === true) {\r\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;\r\n        } else if (_.options.centerMode === true) {\r\n            _.slideOffset = 0;\r\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);\r\n        }\r\n\r\n        if (_.options.vertical === false) {\r\n            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;\r\n        } else {\r\n            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;\r\n        }\r\n\r\n        if (_.options.variableWidth === true) {\r\n\r\n            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\r\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\r\n            } else {\r\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);\r\n            }\r\n\r\n            if (_.options.rtl === true) {\r\n                if (targetSlide[0]) {\r\n                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\r\n                } else {\r\n                    targetLeft =  0;\r\n                }\r\n            } else {\r\n                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\r\n            }\r\n\r\n            if (_.options.centerMode === true) {\r\n                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\r\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\r\n                } else {\r\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);\r\n                }\r\n\r\n                if (_.options.rtl === true) {\r\n                    if (targetSlide[0]) {\r\n                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\r\n                    } else {\r\n                        targetLeft =  0;\r\n                    }\r\n                } else {\r\n                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\r\n                }\r\n\r\n                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;\r\n            }\r\n        }\r\n\r\n        return targetLeft;\r\n\r\n    };\r\n\r\n    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {\r\n\r\n        var _ = this;\r\n\r\n        return _.options[option];\r\n\r\n    };\r\n\r\n    Slick.prototype.getNavigableIndexes = function() {\r\n\r\n        var _ = this,\r\n            breakPoint = 0,\r\n            counter = 0,\r\n            indexes = [],\r\n            max;\r\n\r\n        if (_.options.infinite === false) {\r\n            max = _.slideCount;\r\n        } else {\r\n            breakPoint = _.options.slidesToScroll * -1;\r\n            counter = _.options.slidesToScroll * -1;\r\n            max = _.slideCount * 2;\r\n        }\r\n\r\n        while (breakPoint < max) {\r\n            indexes.push(breakPoint);\r\n            breakPoint = counter + _.options.slidesToScroll;\r\n            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\r\n        }\r\n\r\n        return indexes;\r\n\r\n    };\r\n\r\n    Slick.prototype.getSlick = function() {\r\n\r\n        return this;\r\n\r\n    };\r\n\r\n    Slick.prototype.getSlideCount = function() {\r\n\r\n        var _ = this,\r\n            slidesTraversed, swipedSlide, swipeTarget, centerOffset;\r\n\r\n        centerOffset = _.options.centerMode === true ? Math.floor(_.$list.width() / 2) : 0;\r\n        swipeTarget = (_.swipeLeft * -1) + centerOffset;\r\n\r\n        if (_.options.swipeToSlide === true) {\r\n\r\n            _.$slideTrack.find('.slick-slide').each(function(index, slide) {\r\n\r\n                var slideOuterWidth, slideOffset, slideRightBoundary;\r\n                slideOuterWidth = $(slide).outerWidth();\r\n                slideOffset = slide.offsetLeft;\r\n                if (_.options.centerMode !== true) {\r\n                    slideOffset += (slideOuterWidth / 2);\r\n                }\r\n\r\n                slideRightBoundary = slideOffset + (slideOuterWidth);\r\n\r\n                if (swipeTarget < slideRightBoundary) {\r\n                    swipedSlide = slide;\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;\r\n\r\n            return slidesTraversed;\r\n\r\n        } else {\r\n            return _.options.slidesToScroll;\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'index',\r\n                index: parseInt(slide)\r\n            }\r\n        }, dontAnimate);\r\n\r\n    };\r\n\r\n    Slick.prototype.init = function(creation) {\r\n\r\n        var _ = this;\r\n\r\n        if (!$(_.$slider).hasClass('slick-initialized')) {\r\n\r\n            $(_.$slider).addClass('slick-initialized');\r\n\r\n            _.buildRows();\r\n            _.buildOut();\r\n            _.setProps();\r\n            _.startLoad();\r\n            _.loadSlider();\r\n            _.initializeEvents();\r\n            _.updateArrows();\r\n            _.updateDots();\r\n            _.checkResponsive(true);\r\n            _.focusHandler();\r\n\r\n        }\r\n\r\n        if (creation) {\r\n            _.$slider.trigger('init', [_]);\r\n        }\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.initADA();\r\n        }\r\n\r\n        if ( _.options.autoplay ) {\r\n\r\n            _.paused = false;\r\n            _.autoPlay();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initADA = function() {\r\n        var _ = this,\r\n                numDotGroups = Math.ceil(_.slideCount / _.options.slidesToShow),\r\n                tabControlIndexes = _.getNavigableIndexes().filter(function(val) {\r\n                    return (val >= 0) && (val < _.slideCount);\r\n                });\r\n\r\n        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({\r\n            'aria-hidden': 'true',\r\n            'tabindex': '-1'\r\n        }).find('a, input, button, select').attr({\r\n            'tabindex': '-1'\r\n        });\r\n\r\n        if (_.$dots !== null) {\r\n            _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {\r\n                var slideControlIndex = tabControlIndexes.indexOf(i);\r\n\r\n                $(this).attr({\r\n                    'role': 'tabpanel',\r\n                    'id': 'slick-slide' + _.instanceUid + i,\r\n                    'tabindex': -1\r\n                });\r\n\r\n                if (slideControlIndex !== -1) {\r\n                   var ariaButtonControl = 'slick-slide-control' + _.instanceUid + slideControlIndex\r\n                   if ($('#' + ariaButtonControl).length) {\r\n                     $(this).attr({\r\n                         'aria-describedby': ariaButtonControl\r\n                     });\r\n                   }\r\n                }\r\n            });\r\n\r\n            _.$dots.attr('role', 'tablist').find('li').each(function(i) {\r\n                var mappedSlideIndex = tabControlIndexes[i];\r\n\r\n                $(this).attr({\r\n                    'role': 'presentation'\r\n                });\r\n\r\n                $(this).find('button').first().attr({\r\n                    'role': 'tab',\r\n                    'id': 'slick-slide-control' + _.instanceUid + i,\r\n                    'aria-controls': 'slick-slide' + _.instanceUid + mappedSlideIndex,\r\n                    'aria-label': (i + 1) + ' of ' + numDotGroups,\r\n                    'aria-selected': null,\r\n                    'tabindex': '-1'\r\n                });\r\n\r\n            }).eq(_.currentSlide).find('button').attr({\r\n                'aria-selected': 'true',\r\n                'tabindex': '0'\r\n            }).end();\r\n        }\r\n\r\n        for (var i=_.currentSlide, max=i+_.options.slidesToShow; i < max; i++) {\r\n          if (_.options.focusOnChange) {\r\n            _.$slides.eq(i).attr({'tabindex': '0'});\r\n          } else {\r\n            _.$slides.eq(i).removeAttr('tabindex');\r\n          }\r\n        }\r\n\r\n        _.activateADA();\r\n\r\n    };\r\n\r\n    Slick.prototype.initArrowEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n            _.$prevArrow\r\n               .off('click.slick')\r\n               .on('click.slick', {\r\n                    message: 'previous'\r\n               }, _.changeSlide);\r\n            _.$nextArrow\r\n               .off('click.slick')\r\n               .on('click.slick', {\r\n                    message: 'next'\r\n               }, _.changeSlide);\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.$prevArrow.on('keydown.slick', _.keyHandler);\r\n                _.$nextArrow.on('keydown.slick', _.keyHandler);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initDotEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n            $('li', _.$dots).on('click.slick', {\r\n                message: 'index'\r\n            }, _.changeSlide);\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.$dots.on('keydown.slick', _.keyHandler);\r\n            }\r\n        }\r\n\r\n        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            $('li', _.$dots)\r\n                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))\r\n                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initSlideEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if ( _.options.pauseOnHover ) {\r\n\r\n            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));\r\n            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initializeEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.initArrowEvents();\r\n\r\n        _.initDotEvents();\r\n        _.initSlideEvents();\r\n\r\n        _.$list.on('touchstart.slick mousedown.slick', {\r\n            action: 'start'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchmove.slick mousemove.slick', {\r\n            action: 'move'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchend.slick mouseup.slick', {\r\n            action: 'end'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchcancel.slick mouseleave.slick', {\r\n            action: 'end'\r\n        }, _.swipeHandler);\r\n\r\n        _.$list.on('click.slick', _.clickHandler);\r\n\r\n        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.$list.on('keydown.slick', _.keyHandler);\r\n        }\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\r\n        }\r\n\r\n        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));\r\n\r\n        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));\r\n\r\n        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);\r\n\r\n        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);\r\n        $(_.setPosition);\r\n\r\n    };\r\n\r\n    Slick.prototype.initUI = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$prevArrow.show();\r\n            _.$nextArrow.show();\r\n\r\n        }\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$dots.show();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.keyHandler = function(event) {\r\n\r\n        var _ = this;\r\n         //Dont slide if the cursor is inside the form fields and arrow keys are pressed\r\n        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {\r\n            if (event.keyCode === 37 && _.options.accessibility === true) {\r\n                _.changeSlide({\r\n                    data: {\r\n                        message: _.options.rtl === true ? 'next' :  'previous'\r\n                    }\r\n                });\r\n            } else if (event.keyCode === 39 && _.options.accessibility === true) {\r\n                _.changeSlide({\r\n                    data: {\r\n                        message: _.options.rtl === true ? 'previous' : 'next'\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.lazyLoad = function() {\r\n\r\n        var _ = this,\r\n            loadRange, cloneRange, rangeStart, rangeEnd;\r\n\r\n        function loadImages(imagesScope) {\r\n\r\n            $('img[data-lazy]', imagesScope).each(function() {\r\n\r\n                var image = $(this),\r\n                    imageSource = $(this).attr('data-lazy'),\r\n                    imageSrcSet = $(this).attr('data-srcset'),\r\n                    imageSizes  = $(this).attr('data-sizes') || _.$slider.attr('data-sizes'),\r\n                    imageToLoad = document.createElement('img');\r\n\r\n                imageToLoad.onload = function() {\r\n\r\n                    image\r\n                        .animate({ opacity: 0 }, 100, function() {\r\n\r\n                            if (imageSrcSet) {\r\n                                image\r\n                                    .attr('srcset', imageSrcSet );\r\n\r\n                                if (imageSizes) {\r\n                                    image\r\n                                        .attr('sizes', imageSizes );\r\n                                }\r\n                            }\r\n\r\n                            image\r\n                                .attr('src', imageSource)\r\n                                .animate({ opacity: 1 }, 200, function() {\r\n                                    image\r\n                                        .removeAttr('data-lazy data-srcset data-sizes')\r\n                                        .removeClass('slick-loading');\r\n                                });\r\n                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);\r\n                        });\r\n\r\n                };\r\n\r\n                imageToLoad.onerror = function() {\r\n\r\n                    image\r\n                        .removeAttr( 'data-lazy' )\r\n                        .removeClass( 'slick-loading' )\r\n                        .addClass( 'slick-lazyload-error' );\r\n\r\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\r\n\r\n                };\r\n\r\n                imageToLoad.src = imageSource;\r\n\r\n            });\r\n\r\n        }\r\n\r\n        if (_.options.centerMode === true) {\r\n            if (_.options.infinite === true) {\r\n                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);\r\n                rangeEnd = rangeStart + _.options.slidesToShow + 2;\r\n            } else {\r\n                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));\r\n                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;\r\n            }\r\n        } else {\r\n            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;\r\n            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);\r\n            if (_.options.fade === true) {\r\n                if (rangeStart > 0) rangeStart--;\r\n                if (rangeEnd <= _.slideCount) rangeEnd++;\r\n            }\r\n        }\r\n\r\n        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);\r\n\r\n        if (_.options.lazyLoad === 'anticipated') {\r\n            var prevSlide = rangeStart - 1,\r\n                nextSlide = rangeEnd,\r\n                $slides = _.$slider.find('.slick-slide');\r\n\r\n            for (var i = 0; i < _.options.slidesToScroll; i++) {\r\n                if (prevSlide < 0) prevSlide = _.slideCount - 1;\r\n                loadRange = loadRange.add($slides.eq(prevSlide));\r\n                loadRange = loadRange.add($slides.eq(nextSlide));\r\n                prevSlide--;\r\n                nextSlide++;\r\n            }\r\n        }\r\n\r\n        loadImages(loadRange);\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            cloneRange = _.$slider.find('.slick-slide');\r\n            loadImages(cloneRange);\r\n        } else\r\n        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {\r\n            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);\r\n            loadImages(cloneRange);\r\n        } else if (_.currentSlide === 0) {\r\n            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);\r\n            loadImages(cloneRange);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.loadSlider = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.setPosition();\r\n\r\n        _.$slideTrack.css({\r\n            opacity: 1\r\n        });\r\n\r\n        _.$slider.removeClass('slick-loading');\r\n\r\n        _.initUI();\r\n\r\n        if (_.options.lazyLoad === 'progressive') {\r\n            _.progressiveLazyLoad();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.next = Slick.prototype.slickNext = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'next'\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.orientationChange = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.checkResponsive();\r\n        _.setPosition();\r\n\r\n    };\r\n\r\n    Slick.prototype.pause = Slick.prototype.slickPause = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlayClear();\r\n        _.paused = true;\r\n\r\n    };\r\n\r\n    Slick.prototype.play = Slick.prototype.slickPlay = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlay();\r\n        _.options.autoplay = true;\r\n        _.paused = false;\r\n        _.focussed = false;\r\n        _.interrupted = false;\r\n\r\n    };\r\n\r\n    Slick.prototype.postSlide = function(index) {\r\n\r\n        var _ = this;\r\n\r\n        if( !_.unslicked ) {\r\n\r\n            _.$slider.trigger('afterChange', [_, index]);\r\n\r\n            _.animating = false;\r\n\r\n            if (_.slideCount > _.options.slidesToShow) {\r\n                _.setPosition();\r\n            }\r\n\r\n            _.swipeLeft = null;\r\n\r\n            if ( _.options.autoplay ) {\r\n                _.autoPlay();\r\n            }\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.initADA();\r\n\r\n                if (_.options.focusOnChange) {\r\n                    var $currentSlide = $(_.$slides.get(_.currentSlide));\r\n                    $currentSlide.attr('tabindex', 0).focus();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.prev = Slick.prototype.slickPrev = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'previous'\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.preventDefault = function(event) {\r\n\r\n        event.preventDefault();\r\n\r\n    };\r\n\r\n    Slick.prototype.progressiveLazyLoad = function( tryCount ) {\r\n\r\n        tryCount = tryCount || 1;\r\n\r\n        var _ = this,\r\n            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),\r\n            image,\r\n            imageSource,\r\n            imageSrcSet,\r\n            imageSizes,\r\n            imageToLoad;\r\n\r\n        if ( $imgsToLoad.length ) {\r\n\r\n            image = $imgsToLoad.first();\r\n            imageSource = image.attr('data-lazy');\r\n            imageSrcSet = image.attr('data-srcset');\r\n            imageSizes  = image.attr('data-sizes') || _.$slider.attr('data-sizes');\r\n            imageToLoad = document.createElement('img');\r\n\r\n            imageToLoad.onload = function() {\r\n\r\n                if (imageSrcSet) {\r\n                    image\r\n                        .attr('srcset', imageSrcSet );\r\n\r\n                    if (imageSizes) {\r\n                        image\r\n                            .attr('sizes', imageSizes );\r\n                    }\r\n                }\r\n\r\n                image\r\n                    .attr( 'src', imageSource )\r\n                    .removeAttr('data-lazy data-srcset data-sizes')\r\n                    .removeClass('slick-loading');\r\n\r\n                if ( _.options.adaptiveHeight === true ) {\r\n                    _.setPosition();\r\n                }\r\n\r\n                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);\r\n                _.progressiveLazyLoad();\r\n\r\n            };\r\n\r\n            imageToLoad.onerror = function() {\r\n\r\n                if ( tryCount < 3 ) {\r\n\r\n                    /**\r\n                     * try to load the image 3 times,\r\n                     * leave a slight delay so we don't get\r\n                     * servers blocking the request.\r\n                     */\r\n                    setTimeout( function() {\r\n                        _.progressiveLazyLoad( tryCount + 1 );\r\n                    }, 500 );\r\n\r\n                } else {\r\n\r\n                    image\r\n                        .removeAttr( 'data-lazy' )\r\n                        .removeClass( 'slick-loading' )\r\n                        .addClass( 'slick-lazyload-error' );\r\n\r\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\r\n\r\n                    _.progressiveLazyLoad();\r\n\r\n                }\r\n\r\n            };\r\n\r\n            imageToLoad.src = imageSource;\r\n\r\n        } else {\r\n\r\n            _.$slider.trigger('allImagesLoaded', [ _ ]);\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.refresh = function( initializing ) {\r\n\r\n        var _ = this, currentSlide, lastVisibleIndex;\r\n\r\n        lastVisibleIndex = _.slideCount - _.options.slidesToShow;\r\n\r\n        // in non-infinite sliders, we don't want to go past the\r\n        // last visible index.\r\n        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {\r\n            _.currentSlide = lastVisibleIndex;\r\n        }\r\n\r\n        // if less slides than to show, go to start.\r\n        if ( _.slideCount <= _.options.slidesToShow ) {\r\n            _.currentSlide = 0;\r\n\r\n        }\r\n\r\n        currentSlide = _.currentSlide;\r\n\r\n        _.destroy(true);\r\n\r\n        $.extend(_, _.initials, { currentSlide: currentSlide });\r\n\r\n        _.init();\r\n\r\n        if( !initializing ) {\r\n\r\n            _.changeSlide({\r\n                data: {\r\n                    message: 'index',\r\n                    index: currentSlide\r\n                }\r\n            }, false);\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.registerBreakpoints = function() {\r\n\r\n        var _ = this, breakpoint, currentBreakpoint, l,\r\n            responsiveSettings = _.options.responsive || null;\r\n\r\n        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {\r\n\r\n            _.respondTo = _.options.respondTo || 'window';\r\n\r\n            for ( breakpoint in responsiveSettings ) {\r\n\r\n                l = _.breakpoints.length-1;\r\n\r\n                if (responsiveSettings.hasOwnProperty(breakpoint)) {\r\n                    currentBreakpoint = responsiveSettings[breakpoint].breakpoint;\r\n\r\n                    // loop through the breakpoints and cut out any existing\r\n                    // ones with the same breakpoint number, we don't want dupes.\r\n                    while( l >= 0 ) {\r\n                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {\r\n                            _.breakpoints.splice(l,1);\r\n                        }\r\n                        l--;\r\n                    }\r\n\r\n                    _.breakpoints.push(currentBreakpoint);\r\n                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;\r\n\r\n                }\r\n\r\n            }\r\n\r\n            _.breakpoints.sort(function(a, b) {\r\n                return ( _.options.mobileFirst ) ? a-b : b-a;\r\n            });\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.reinit = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.$slides =\r\n            _.$slideTrack\r\n                .children(_.options.slide)\r\n                .addClass('slick-slide');\r\n\r\n        _.slideCount = _.$slides.length;\r\n\r\n        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {\r\n            _.currentSlide = _.currentSlide - _.options.slidesToScroll;\r\n        }\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            _.currentSlide = 0;\r\n        }\r\n\r\n        _.registerBreakpoints();\r\n\r\n        _.setProps();\r\n        _.setupInfinite();\r\n        _.buildArrows();\r\n        _.updateArrows();\r\n        _.initArrowEvents();\r\n        _.buildDots();\r\n        _.updateDots();\r\n        _.initDotEvents();\r\n        _.cleanUpSlideEvents();\r\n        _.initSlideEvents();\r\n\r\n        _.checkResponsive(false, true);\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\r\n        }\r\n\r\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\r\n\r\n        _.setPosition();\r\n        _.focusHandler();\r\n\r\n        _.paused = !_.options.autoplay;\r\n        _.autoPlay();\r\n\r\n        _.$slider.trigger('reInit', [_]);\r\n\r\n    };\r\n\r\n    Slick.prototype.resize = function() {\r\n\r\n        var _ = this;\r\n\r\n        if ($(window).width() !== _.windowWidth) {\r\n            clearTimeout(_.windowDelay);\r\n            _.windowDelay = window.setTimeout(function() {\r\n                _.windowWidth = $(window).width();\r\n                _.checkResponsive();\r\n                if( !_.unslicked ) { _.setPosition(); }\r\n            }, 50);\r\n        }\r\n    };\r\n\r\n    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {\r\n\r\n        var _ = this;\r\n\r\n        if (typeof(index) === 'boolean') {\r\n            removeBefore = index;\r\n            index = removeBefore === true ? 0 : _.slideCount - 1;\r\n        } else {\r\n            index = removeBefore === true ? --index : index;\r\n        }\r\n\r\n        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {\r\n            return false;\r\n        }\r\n\r\n        _.unload();\r\n\r\n        if (removeAll === true) {\r\n            _.$slideTrack.children().remove();\r\n        } else {\r\n            _.$slideTrack.children(this.options.slide).eq(index).remove();\r\n        }\r\n\r\n        _.$slides = _.$slideTrack.children(this.options.slide);\r\n\r\n        _.$slideTrack.children(this.options.slide).detach();\r\n\r\n        _.$slideTrack.append(_.$slides);\r\n\r\n        _.$slidesCache = _.$slides;\r\n\r\n        _.reinit();\r\n\r\n    };\r\n\r\n    Slick.prototype.setCSS = function(position) {\r\n\r\n        var _ = this,\r\n            positionProps = {},\r\n            x, y;\r\n\r\n        if (_.options.rtl === true) {\r\n            position = -position;\r\n        }\r\n        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';\r\n        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';\r\n\r\n        positionProps[_.positionProp] = position;\r\n\r\n        if (_.transformsEnabled === false) {\r\n            _.$slideTrack.css(positionProps);\r\n        } else {\r\n            positionProps = {};\r\n            if (_.cssTransitions === false) {\r\n                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';\r\n                _.$slideTrack.css(positionProps);\r\n            } else {\r\n                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';\r\n                _.$slideTrack.css(positionProps);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setDimensions = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.vertical === false) {\r\n            if (_.options.centerMode === true) {\r\n                _.$list.css({\r\n                    padding: ('0px ' + _.options.centerPadding)\r\n                });\r\n            }\r\n        } else {\r\n            _.$list.height(Math.round(_.$slides[0].getBoundingClientRect().height * 100) / 100 * _.options.slidesToShow);\r\n            if (_.options.centerMode === true) {\r\n                _.$list.css({\r\n                    padding: (_.options.centerPadding + ' 0px')\r\n                });\r\n            }\r\n        }\r\n\r\n        _.listWidth = _.$list.width();\r\n        _.listHeight = Math.round(_.$list[0].getBoundingClientRect().height * 100) / 100;\r\n\r\n\r\n        if (_.options.vertical === false && _.options.variableWidth === false) {\r\n            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);\r\n            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));\r\n\r\n        } else if (_.options.variableWidth === true) {\r\n            _.$slideTrack.width(5000 * _.slideCount);\r\n        } else {\r\n            _.slideWidth = Math.ceil(_.listWidth);\r\n            _.$slideTrack.height(Math.round(_.$slides[0].getBoundingClientRect().height * 100) / 100 * _.$slideTrack.children('.slick-slide').length);\r\n        }\r\n\r\n        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();\r\n        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);\r\n\r\n    };\r\n\r\n    Slick.prototype.setFade = function() {\r\n\r\n        var _ = this,\r\n            targetLeft;\r\n\r\n        _.$slides.each(function(index, element) {\r\n            targetLeft = (_.slideWidth * index) * -1;\r\n            if (_.options.rtl === true) {\r\n                $(element).css({\r\n                    position: 'relative',\r\n                    right: targetLeft,\r\n                    top: 0,\r\n                    zIndex: _.options.zIndex - 2,\r\n                    opacity: 0\r\n                });\r\n            } else {\r\n                $(element).css({\r\n                    position: 'relative',\r\n                    left: targetLeft,\r\n                    top: 0,\r\n                    zIndex: _.options.zIndex - 2,\r\n                    opacity: 0\r\n                });\r\n            }\r\n        });\r\n\r\n        _.$slides.eq(_.currentSlide).css({\r\n            zIndex: _.options.zIndex - 1,\r\n            opacity: 1\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.setHeight = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\r\n            var targetHeight = Math.round(_.$slides.eq(_.currentSlide)[0].getBoundingClientRect().height * 100) / 100;\r\n            _.$list.css('height', targetHeight);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setOption =\r\n    Slick.prototype.slickSetOption = function() {\r\n\r\n        /**\r\n         * accepts arguments in format of:\r\n         *\r\n         *  - for changing a single option's value:\r\n         *     .slick(\"setOption\", option, value, refresh )\r\n         *\r\n         *  - for changing a set of responsive options:\r\n         *     .slick(\"setOption\", 'responsive', [{}, ...], refresh )\r\n         *\r\n         *  - for updating multiple values at once (not responsive)\r\n         *     .slick(\"setOption\", { 'option': value, ... }, refresh )\r\n         */\r\n\r\n        var _ = this, l, item, option, value, refresh = false, type;\r\n\r\n        if( $.type( arguments[0] ) === 'object' ) {\r\n\r\n            option =  arguments[0];\r\n            refresh = arguments[1];\r\n            type = 'multiple';\r\n\r\n        } else if ( $.type( arguments[0] ) === 'string' ) {\r\n\r\n            option =  arguments[0];\r\n            value = arguments[1];\r\n            refresh = arguments[2];\r\n\r\n            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {\r\n\r\n                type = 'responsive';\r\n\r\n            } else if ( typeof arguments[1] !== 'undefined' ) {\r\n\r\n                type = 'single';\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if ( type === 'single' ) {\r\n\r\n            _.options[option] = value;\r\n\r\n\r\n        } else if ( type === 'multiple' ) {\r\n\r\n            $.each( option , function( opt, val ) {\r\n\r\n                _.options[opt] = val;\r\n\r\n            });\r\n\r\n\r\n        } else if ( type === 'responsive' ) {\r\n\r\n            for ( item in value ) {\r\n\r\n                if( $.type( _.options.responsive ) !== 'array' ) {\r\n\r\n                    _.options.responsive = [ value[item] ];\r\n\r\n                } else {\r\n\r\n                    l = _.options.responsive.length-1;\r\n\r\n                    // loop through the responsive object and splice out duplicates.\r\n                    while( l >= 0 ) {\r\n\r\n                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {\r\n\r\n                            _.options.responsive.splice(l,1);\r\n\r\n                        }\r\n\r\n                        l--;\r\n\r\n                    }\r\n\r\n                    _.options.responsive.push( value[item] );\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if ( refresh ) {\r\n\r\n            _.unload();\r\n            _.reinit();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setPosition = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.setDimensions();\r\n\r\n        _.setHeight();\r\n\r\n        if (_.options.fade === false) {\r\n            _.setCSS(_.getLeft(_.currentSlide));\r\n        } else {\r\n            _.setFade();\r\n        }\r\n\r\n        _.$slider.trigger('setPosition', [_]);\r\n\r\n    };\r\n\r\n    Slick.prototype.setProps = function() {\r\n\r\n        var _ = this,\r\n            bodyStyle = document.body.style;\r\n\r\n        _.positionProp = _.options.vertical === true ? 'top' : 'left';\r\n\r\n        if (_.positionProp === 'top') {\r\n            _.$slider.addClass('slick-vertical');\r\n        } else {\r\n            _.$slider.removeClass('slick-vertical');\r\n        }\r\n\r\n        if (bodyStyle.WebkitTransition !== undefined ||\r\n            bodyStyle.MozTransition !== undefined ||\r\n            bodyStyle.msTransition !== undefined) {\r\n            if (_.options.useCSS === true) {\r\n                _.cssTransitions = true;\r\n            }\r\n        }\r\n\r\n        if ( _.options.fade ) {\r\n            if ( typeof _.options.zIndex === 'number' ) {\r\n                if( _.options.zIndex < 3 ) {\r\n                    _.options.zIndex = 3;\r\n                }\r\n            } else {\r\n                _.options.zIndex = _.defaults.zIndex;\r\n            }\r\n        }\r\n\r\n        if (bodyStyle.OTransform !== undefined) {\r\n            _.animType = 'OTransform';\r\n            _.transformType = '-o-transform';\r\n            _.transitionType = 'OTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.MozTransform !== undefined) {\r\n            _.animType = 'MozTransform';\r\n            _.transformType = '-moz-transform';\r\n            _.transitionType = 'MozTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.webkitTransform !== undefined) {\r\n            _.animType = 'webkitTransform';\r\n            _.transformType = '-webkit-transform';\r\n            _.transitionType = 'webkitTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.msTransform !== undefined) {\r\n            _.animType = 'msTransform';\r\n            _.transformType = '-ms-transform';\r\n            _.transitionType = 'msTransition';\r\n            if (bodyStyle.msTransform === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.transform !== undefined && _.animType !== false) {\r\n            _.animType = 'transform';\r\n            _.transformType = 'transform';\r\n            _.transitionType = 'transition';\r\n        }\r\n        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);\r\n    };\r\n\r\n\r\n    Slick.prototype.setSlideClasses = function(index) {\r\n\r\n        var _ = this,\r\n            centerOffset, allSlides, indexOffset, remainder;\r\n\r\n        allSlides = _.$slider\r\n            .find('.slick-slide')\r\n            .removeClass('slick-active slick-center slick-current')\r\n            .attr('aria-hidden', 'true');\r\n\r\n        _.$slides\r\n            .eq(index)\r\n            .addClass('slick-current');\r\n\r\n        if (_.options.centerMode === true) {\r\n\r\n            var evenCoef = _.options.slidesToShow % 2 === 0 ? 1 : 0;\r\n\r\n            centerOffset = Math.floor(_.options.slidesToShow / 2);\r\n\r\n            if (_.options.infinite === true) {\r\n\r\n                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {\r\n                    _.$slides\r\n                        .slice(index - centerOffset + evenCoef, index + centerOffset + 1)\r\n                        .addClass('slick-active')\r\n                        .attr('aria-hidden', 'false');\r\n\r\n                } else {\r\n\r\n                    indexOffset = _.options.slidesToShow + index;\r\n                    allSlides\r\n                        .slice(indexOffset - centerOffset + 1 + evenCoef, indexOffset + centerOffset + 2)\r\n                        .addClass('slick-active')\r\n                        .attr('aria-hidden', 'false');\r\n\r\n                }\r\n\r\n                if (index === 0) {\r\n\r\n                    allSlides\r\n                        .eq(allSlides.length - 1 - _.options.slidesToShow)\r\n                        .addClass('slick-center');\r\n\r\n                } else if (index === _.slideCount - 1) {\r\n\r\n                    allSlides\r\n                        .eq(_.options.slidesToShow)\r\n                        .addClass('slick-center');\r\n\r\n                }\r\n\r\n            }\r\n\r\n            _.$slides\r\n                .eq(index)\r\n                .addClass('slick-center');\r\n\r\n        } else {\r\n\r\n            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {\r\n\r\n                _.$slides\r\n                    .slice(index, index + _.options.slidesToShow)\r\n                    .addClass('slick-active')\r\n                    .attr('aria-hidden', 'false');\r\n\r\n            } else if (allSlides.length <= _.options.slidesToShow) {\r\n\r\n                allSlides\r\n                    .addClass('slick-active')\r\n                    .attr('aria-hidden', 'false');\r\n\r\n            } else {\r\n\r\n                remainder = _.slideCount % _.options.slidesToShow;\r\n                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;\r\n\r\n                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {\r\n\r\n                    allSlides\r\n                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)\r\n                        .addClass('slick-active')\r\n                        .attr('aria-hidden', 'false');\r\n\r\n                } else {\r\n\r\n                    allSlides\r\n                        .slice(indexOffset, indexOffset + _.options.slidesToShow)\r\n                        .addClass('slick-active')\r\n                        .attr('aria-hidden', 'false');\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if (_.options.lazyLoad === 'ondemand' || _.options.lazyLoad === 'anticipated') {\r\n            _.lazyLoad();\r\n        }\r\n    };\r\n\r\n    Slick.prototype.setupInfinite = function() {\r\n\r\n        var _ = this,\r\n            i, slideIndex, infiniteCount;\r\n\r\n        if (_.options.fade === true) {\r\n            _.options.centerMode = false;\r\n        }\r\n\r\n        if (_.options.infinite === true && _.options.fade === false) {\r\n\r\n            slideIndex = null;\r\n\r\n            if (_.slideCount > _.options.slidesToShow) {\r\n\r\n                if (_.options.centerMode === true) {\r\n                    infiniteCount = _.options.slidesToShow + 1;\r\n                } else {\r\n                    infiniteCount = _.options.slidesToShow;\r\n                }\r\n\r\n                for (i = _.slideCount; i > (_.slideCount -\r\n                        infiniteCount); i -= 1) {\r\n                    slideIndex = i - 1;\r\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\r\n                        .attr('data-slick-index', slideIndex - _.slideCount)\r\n                        .prependTo(_.$slideTrack).addClass('slick-cloned');\r\n                }\r\n                for (i = 0; i < infiniteCount  + _.slideCount; i += 1) {\r\n                    slideIndex = i;\r\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\r\n                        .attr('data-slick-index', slideIndex + _.slideCount)\r\n                        .appendTo(_.$slideTrack).addClass('slick-cloned');\r\n                }\r\n                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {\r\n                    $(this).attr('id', '');\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.interrupt = function( toggle ) {\r\n\r\n        var _ = this;\r\n\r\n        if( !toggle ) {\r\n            _.autoPlay();\r\n        }\r\n        _.interrupted = toggle;\r\n\r\n    };\r\n\r\n    Slick.prototype.selectHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        var targetElement =\r\n            $(event.target).is('.slick-slide') ?\r\n                $(event.target) :\r\n                $(event.target).parents('.slick-slide');\r\n\r\n        var index = parseInt(targetElement.attr('data-slick-index'));\r\n\r\n        if (!index) index = 0;\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n\r\n            _.slideHandler(index, false, true);\r\n            return;\r\n\r\n        }\r\n\r\n        _.slideHandler(index);\r\n\r\n    };\r\n\r\n    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {\r\n\r\n        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,\r\n            _ = this, navTarget;\r\n\r\n        sync = sync || false;\r\n\r\n        if (_.animating === true && _.options.waitForAnimate === true) {\r\n            return;\r\n        }\r\n\r\n        if (_.options.fade === true && _.currentSlide === index) {\r\n            return;\r\n        }\r\n\r\n        if (sync === false) {\r\n            _.asNavFor(index);\r\n        }\r\n\r\n        targetSlide = index;\r\n        targetLeft = _.getLeft(targetSlide);\r\n        slideLeft = _.getLeft(_.currentSlide);\r\n\r\n        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;\r\n\r\n        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {\r\n            if (_.options.fade === false) {\r\n                targetSlide = _.currentSlide;\r\n                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\r\n                    _.animateSlide(slideLeft, function() {\r\n                        _.postSlide(targetSlide);\r\n                    });\r\n                } else {\r\n                    _.postSlide(targetSlide);\r\n                }\r\n            }\r\n            return;\r\n        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {\r\n            if (_.options.fade === false) {\r\n                targetSlide = _.currentSlide;\r\n                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\r\n                    _.animateSlide(slideLeft, function() {\r\n                        _.postSlide(targetSlide);\r\n                    });\r\n                } else {\r\n                    _.postSlide(targetSlide);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if ( _.options.autoplay ) {\r\n            clearInterval(_.autoPlayTimer);\r\n        }\r\n\r\n        if (targetSlide < 0) {\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);\r\n            } else {\r\n                animSlide = _.slideCount + targetSlide;\r\n            }\r\n        } else if (targetSlide >= _.slideCount) {\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                animSlide = 0;\r\n            } else {\r\n                animSlide = targetSlide - _.slideCount;\r\n            }\r\n        } else {\r\n            animSlide = targetSlide;\r\n        }\r\n\r\n        _.animating = true;\r\n\r\n        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);\r\n\r\n        oldSlide = _.currentSlide;\r\n        _.currentSlide = animSlide;\r\n\r\n        _.setSlideClasses(_.currentSlide);\r\n\r\n        if ( _.options.asNavFor ) {\r\n\r\n            navTarget = _.getNavTarget();\r\n            navTarget = navTarget.slick('getSlick');\r\n\r\n            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {\r\n                navTarget.setSlideClasses(_.currentSlide);\r\n            }\r\n\r\n        }\r\n\r\n        _.updateDots();\r\n        _.updateArrows();\r\n\r\n        if (_.options.fade === true) {\r\n            if (dontAnimate !== true) {\r\n\r\n                _.fadeSlideOut(oldSlide);\r\n\r\n                _.fadeSlide(animSlide, function() {\r\n                    _.postSlide(animSlide);\r\n                });\r\n\r\n            } else {\r\n                _.postSlide(animSlide);\r\n            }\r\n            _.animateHeight();\r\n            return;\r\n        }\r\n\r\n        if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\r\n            _.animateSlide(targetLeft, function() {\r\n                _.postSlide(animSlide);\r\n            });\r\n        } else {\r\n            _.postSlide(animSlide);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.startLoad = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$prevArrow.hide();\r\n            _.$nextArrow.hide();\r\n\r\n        }\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$dots.hide();\r\n\r\n        }\r\n\r\n        _.$slider.addClass('slick-loading');\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeDirection = function() {\r\n\r\n        var xDist, yDist, r, swipeAngle, _ = this;\r\n\r\n        xDist = _.touchObject.startX - _.touchObject.curX;\r\n        yDist = _.touchObject.startY - _.touchObject.curY;\r\n        r = Math.atan2(yDist, xDist);\r\n\r\n        swipeAngle = Math.round(r * 180 / Math.PI);\r\n        if (swipeAngle < 0) {\r\n            swipeAngle = 360 - Math.abs(swipeAngle);\r\n        }\r\n\r\n        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {\r\n            return (_.options.rtl === false ? 'left' : 'right');\r\n        }\r\n        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {\r\n            return (_.options.rtl === false ? 'left' : 'right');\r\n        }\r\n        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {\r\n            return (_.options.rtl === false ? 'right' : 'left');\r\n        }\r\n        if (_.options.verticalSwiping === true) {\r\n            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {\r\n                return 'down';\r\n            } else {\r\n                return 'up';\r\n            }\r\n        }\r\n\r\n        return 'vertical';\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeEnd = function(event) {\r\n\r\n        var _ = this,\r\n            slideCount,\r\n            direction;\r\n\r\n        _.dragging = false;\r\n        _.swiping = false;\r\n\r\n        if (_.scrolling) {\r\n            _.scrolling = false;\r\n            return false;\r\n        }\r\n\r\n        _.interrupted = false;\r\n        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;\r\n\r\n        if ( _.touchObject.curX === undefined ) {\r\n            return false;\r\n        }\r\n\r\n        if ( _.touchObject.edgeHit === true ) {\r\n            _.$slider.trigger('edge', [_, _.swipeDirection() ]);\r\n        }\r\n\r\n        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {\r\n\r\n            direction = _.swipeDirection();\r\n\r\n            switch ( direction ) {\r\n\r\n                case 'left':\r\n                case 'down':\r\n\r\n                    slideCount =\r\n                        _.options.swipeToSlide ?\r\n                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :\r\n                            _.currentSlide + _.getSlideCount();\r\n\r\n                    _.currentDirection = 0;\r\n\r\n                    break;\r\n\r\n                case 'right':\r\n                case 'up':\r\n\r\n                    slideCount =\r\n                        _.options.swipeToSlide ?\r\n                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :\r\n                            _.currentSlide - _.getSlideCount();\r\n\r\n                    _.currentDirection = 1;\r\n\r\n                    break;\r\n\r\n                default:\r\n\r\n\r\n            }\r\n\r\n            if( direction != 'vertical' ) {\r\n\r\n                _.slideHandler( slideCount );\r\n                _.touchObject = {};\r\n                _.$slider.trigger('swipe', [_, direction ]);\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            if ( _.touchObject.startX !== _.touchObject.curX ) {\r\n\r\n                _.slideHandler( _.currentSlide );\r\n                _.touchObject = {};\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {\r\n            return;\r\n        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {\r\n            return;\r\n        }\r\n\r\n        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?\r\n            event.originalEvent.touches.length : 1;\r\n\r\n        _.touchObject.minSwipe = _.listWidth / _.options\r\n            .touchThreshold;\r\n\r\n        if (_.options.verticalSwiping === true) {\r\n            _.touchObject.minSwipe = _.listHeight / _.options\r\n                .touchThreshold;\r\n        }\r\n\r\n        switch (event.data.action) {\r\n\r\n            case 'start':\r\n                _.swipeStart(event);\r\n                break;\r\n\r\n            case 'move':\r\n                _.swipeMove(event);\r\n                break;\r\n\r\n            case 'end':\r\n                _.swipeEnd(event);\r\n                break;\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeMove = function(event) {\r\n\r\n        var _ = this,\r\n            edgeWasHit = false,\r\n            curLeft, swipeDirection, swipeLength, positionOffset, touches, verticalSwipeLength;\r\n\r\n        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;\r\n\r\n        if (!_.dragging || _.scrolling || touches && touches.length !== 1) {\r\n            return false;\r\n        }\r\n\r\n        curLeft = _.getLeft(_.currentSlide);\r\n\r\n        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;\r\n        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;\r\n\r\n        _.touchObject.swipeLength = Math.round(Math.sqrt(\r\n            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));\r\n\r\n        verticalSwipeLength = Math.round(Math.sqrt(\r\n            Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));\r\n\r\n        if (!_.options.verticalSwiping && !_.swiping && verticalSwipeLength > 4) {\r\n            _.scrolling = true;\r\n            return false;\r\n        }\r\n\r\n        if (_.options.verticalSwiping === true) {\r\n            _.touchObject.swipeLength = verticalSwipeLength;\r\n        }\r\n\r\n        swipeDirection = _.swipeDirection();\r\n\r\n        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {\r\n            _.swiping = true;\r\n            event.preventDefault();\r\n        }\r\n\r\n        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);\r\n        if (_.options.verticalSwiping === true) {\r\n            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;\r\n        }\r\n\r\n\r\n        swipeLength = _.touchObject.swipeLength;\r\n\r\n        _.touchObject.edgeHit = false;\r\n\r\n        if (_.options.infinite === false) {\r\n            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {\r\n                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;\r\n                _.touchObject.edgeHit = true;\r\n            }\r\n        }\r\n\r\n        if (_.options.vertical === false) {\r\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\r\n        } else {\r\n            _.swipeLeft = curLeft + (swipeLength * (Math.round(_.$list[0].getBoundingClientRect().height * 100) / 100 / _.listWidth)) * positionOffset;\r\n        }\r\n        if (_.options.verticalSwiping === true) {\r\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\r\n        }\r\n\r\n        if (_.options.fade === true || _.options.touchMove === false) {\r\n            return false;\r\n        }\r\n\r\n        if (_.animating === true) {\r\n            _.swipeLeft = null;\r\n            return false;\r\n        }\r\n\r\n        _.setCSS(_.swipeLeft);\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeStart = function(event) {\r\n\r\n        var _ = this,\r\n            touches;\r\n\r\n        _.interrupted = true;\r\n\r\n        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {\r\n            _.touchObject = {};\r\n            return false;\r\n        }\r\n\r\n        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {\r\n            touches = event.originalEvent.touches[0];\r\n        }\r\n\r\n        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;\r\n        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;\r\n\r\n        _.dragging = true;\r\n\r\n    };\r\n\r\n    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.$slidesCache !== null) {\r\n\r\n            _.unload();\r\n\r\n            _.$slideTrack.children(this.options.slide).detach();\r\n\r\n            _.$slidesCache.appendTo(_.$slideTrack);\r\n\r\n            _.reinit();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.unload = function() {\r\n\r\n        var _ = this;\r\n\r\n        $('.slick-cloned', _.$slider).remove();\r\n\r\n        if (_.$dots) {\r\n            _.$dots.remove();\r\n        }\r\n\r\n        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {\r\n            _.$prevArrow.remove();\r\n        }\r\n\r\n        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {\r\n            _.$nextArrow.remove();\r\n        }\r\n\r\n        _.$slides\r\n            .removeClass('slick-slide slick-active slick-visible slick-current')\r\n            .attr('aria-hidden', 'true')\r\n            .css('width', '');\r\n\r\n    };\r\n\r\n    Slick.prototype.unslick = function(fromBreakpoint) {\r\n\r\n        var _ = this;\r\n        _.$slider.trigger('unslick', [_, fromBreakpoint]);\r\n        _.destroy();\r\n\r\n    };\r\n\r\n    Slick.prototype.updateArrows = function() {\r\n\r\n        var _ = this,\r\n            centerOffset;\r\n\r\n        centerOffset = Math.floor(_.options.slidesToShow / 2);\r\n\r\n        if ( _.options.arrows === true &&\r\n            _.slideCount > _.options.slidesToShow &&\r\n            !_.options.infinite ) {\r\n\r\n            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n\r\n            if (_.currentSlide === 0) {\r\n\r\n                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\r\n                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n\r\n            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {\r\n\r\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\r\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n\r\n            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {\r\n\r\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\r\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.updateDots = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.$dots !== null) {\r\n\r\n            _.$dots\r\n                .find('li')\r\n                    .removeClass('slick-active')\r\n                    .end();\r\n\r\n            _.$dots\r\n                .find('li')\r\n                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))\r\n                .addClass('slick-active');\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.visibility = function() {\r\n\r\n        var _ = this;\r\n\r\n        if ( _.options.autoplay ) {\r\n\r\n            if ( document[_.hidden] ) {\r\n\r\n                _.interrupted = true;\r\n\r\n            } else {\r\n\r\n                _.interrupted = false;\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    $.fn.slick = function() {\r\n        var _ = this,\r\n            opt = arguments[0],\r\n            args = Array.prototype.slice.call(arguments, 1),\r\n            l = _.length,\r\n            i,\r\n            ret;\r\n        for (i = 0; i < l; i++) {\r\n            if (typeof opt == 'object' || typeof opt == 'undefined')\r\n                _[i].slick = new Slick(_[i], opt);\r\n            else\r\n                ret = _[i].slick[opt].apply(_[i].slick, args);\r\n            if (typeof ret != 'undefined') return ret;\r\n        }\r\n        return _;\r\n    };\r\n\r\n}));"]}